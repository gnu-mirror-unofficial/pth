%!PS-Adobe-3.0
%%Creator: groff version 1.17.2
%%CreationDate: Tue Oct 15 21:23:04 2002
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Courier
%%+ font Symbol
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.17 2
%%Pages: 29
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.17 2
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Courier
%%IncludeResource: font Symbol
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Courier@0 ENC0/Courier RE
/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10.95/Times-Bold@0 SF 12.851 -7.904(NN AA)72 84 T -10.335(MM)
7.904 G -7.302(EE)10.335 G/F2 10/Times-Bold@0 SF -5.558(pp)108 96 S
-3.328(tt)5.558 G -5.558(hh)3.328 G F0<ad>8.058 E/F3 9/Times-Roman@0 SF
(GNU)2.5 E F0(Portable Threads)2.5 E F1 -7.904(VV)72 112.8 S -7.302(EE)
7.904 G -7.904(RR)7.302 G -6.086(SS)7.904 G -4.258(II)6.086 G -8.517(OO)
4.258 G -7.904(NN)8.517 G F3(GNU)108 124.8 Q F0(Pth)2.5 E F3
(PTH_VERSION_STR)2.5 E F1 -6.086(SS)72 141.6 S -7.904(YY)6.086 G -7.904
(NN)7.904 G -8.517(OO)7.904 G -6.688(PP)8.517 G -6.086(SS)6.688 G -4.258
(II)6.086 G -6.086(SS)4.258 G F2 -7.778(GG)108 153.6 S -2.778(ll)7.778 G
-4.998(oo)2.778 G -5.558(bb)4.998 G -4.998(aa)5.558 G 5.556 -2.778(ll L)
4.998 H(Li)-3.89 E(ib)-2.778 E(br)-5.558 E(ra)-4.438 E(ar)-4.998 E(ry)
-4.438 E 2.5(yM)-4.998 G(Ma)-11.938 E(an)-4.998 E(na)-5.558 E(ag)-4.998
E(ge)-4.998 E(em)-4.438 E(me)-8.328 E(en)-4.438 E(nt)-5.558 E(t)-3.328 E
F0(pth_init, pth_kill, pth_ctrl, pth_v)128 165.6 Q(ersion.)-.15 E F2
-6.668(TT)108 182.4 S -5.558(hh)6.668 G 6.196 -4.438(rr ee)5.558 H
-4.998(aa)4.438 G 11.116 -5.558(dd A)4.998 H(At)-1.66 E(tt)-3.328 E(tr)
-3.328 E(ri)-4.438 E(ib)-2.778 E -.2(bu)-5.558 G(ut)-5.358 E(te)-3.328 E
2.5(eH)-4.438 G(Ha)-10.278 E(an)-4.998 E(nd)-5.558 E(dl)-5.558 E(li)
-2.778 E(in)-2.778 E(ng)-5.558 E(g)-4.998 E F0(pth_attr_of, pth_attr_ne)
128 194.4 Q 1.3 -.65(w, p)-.25 H
(th_attr_init, pth_attr_set, pth_attr_get, pth_attr_destro).65 E -.65
(y.)-.1 G F2 -6.668(TT)108 211.2 S -5.558(hh)6.668 G 6.196 -4.438(rr ee)
5.558 H -4.998(aa)4.438 G 11.116 -5.558(dd C)4.998 H(Co)-1.66 E(on)
-4.998 E(nt)-5.558 E(tr)-3.328 E -.18(ro)-4.438 G(ol)-4.818 E(l)-2.778 E
F0(pth_spa)128 223.2 Q 1.57(wn, pth_once, pth_self, pth_suspend, pth_re\
sume, pth_yield, pth_nap, pth_w)-.15 F 1.57(ait, pth_cancel,)-.1 F
(pth_abort, pth_raise, pth_join, pth_e)128 235.2 Q(xit.)-.15 E F2 -7.218
(UU)108 252 S -3.328(tt)7.218 G -2.778(ii)3.328 G -2.778(ll)2.778 G
-2.778(ii)2.778 G -3.328(tt)2.778 G -2.778(ii)3.328 G -4.438(ee)2.778 G
-3.888(ss)4.438 G F0(pth_fdmode, pth_time, pth_timeout, pth_s\214odisc.)
128 264 Q F2 -7.218(CC)108 280.8 S -4.998(aa)7.218 G -5.558(nn)4.998 G
-4.438(cc)5.558 G -4.438(ee)4.438 G -2.778(ll)4.438 G -2.778(ll)2.778 G
-4.998(aa)2.778 G -3.328(tt)4.998 G -2.778(ii)3.328 G -4.998(oo)2.778 G
11.116 -5.558(nn M)4.998 H(Ma)-3.88 E(an)-4.998 E(na)-5.558 E(ag)-4.998
E(ge)-4.998 E(em)-4.438 E(me)-8.328 E(en)-4.438 E(nt)-5.558 E(t)-3.328 E
F0(pth_cancel_point, pth_cancel_state.)128 292.8 Q F2 -6.668(EE)108
309.6 S 7.396 -4.998(vv e)6.668 H(en).56 E(nt)-5.558 E 2.5(tH)-3.328 G
(Ha)-10.278 E(an)-4.998 E(nd)-5.558 E(dl)-5.558 E(li)-2.778 E(in)-2.778
E(ng)-5.558 E(g)-4.998 E F0(pth_e)128 321.6 Q -.15(ve)-.25 G .22
(nt, pth_e).15 F -.15(ve)-.25 G .22(nt_typeof, pth_e).15 F -.15(ve)-.25
G(nt_e).15 E .22(xtract, pth_e)-.15 F -.15(ve)-.25 G .22
(nt_concat, pth_e).15 F -.15(ve)-.25 G .22(nt_isolate, pth_e).15 F -.15
(ve)-.25 G(nt_w).15 E(alk,)-.1 E(pth_e)128 333.6 Q -.15(ve)-.25 G
(nt_occurred, pth_e).15 E -.15(ve)-.25 G(nt_free.).15 E F2 12.806 -7.778
(KK e)108 350.4 T(ey)3.34 E(y-)-4.998 E(-B)-3.328 E(Ba)-6.668 E(as)
-4.998 E(se)-3.888 E(ed)-4.438 E 2.5(dS)-5.558 G(St)-8.058 E(to)-3.328 E
(or)-4.998 E(ra)-4.438 E(ag)-4.998 E(ge)-4.998 E(e)-4.438 E F0(pth_k)128
362.4 Q -.15(ey)-.1 G(_create, pth_k).15 E -.15(ey)-.1 G(_delete, pth_k)
.15 E -.15(ey)-.1 G(_setdata, pth_k).15 E -.15(ey)-.1 G(_getdata.).15 E
F2 -9.438(MM)108 379.2 S -4.438(ee)9.438 G -3.888(ss)4.438 G -3.888(ss)
3.888 G -4.998(aa)3.888 G -4.998(gg)4.998 G 8.876 -4.438(ee P)4.998 H
-.2(Po)-1.67 G(or)-4.798 E(rt)-4.438 E 2.5(tC)-3.328 G(Co)-9.718 E(om)
-4.998 E(mm)-8.328 E(mu)-8.328 E(un)-5.558 E(ni)-5.558 E(ic)-2.778 E(ca)
-4.438 E(at)-4.998 E(ti)-3.328 E(io)-2.778 E(on)-4.998 E(n)-5.558 E F0
7.91(pth_msgport_create, pth_msgport_destro)128 391.2 R 9.21 -.65(y, p)
-.1 H 7.91(th_msgport_\214nd, pth_msgport_pending, pth_msg-).65 F
(port_put, pth_msgport_get, pth_msgport_reply)128 403.2 Q(.)-.65 E F2
-6.668(TT)108 420 S -5.558(hh)6.668 G 6.196 -4.438(rr ee)5.558 H -4.998
(aa)4.438 G 11.116 -5.558(dd C)4.998 H(Cl)-1.66 E(le)-2.778 E(ea)-4.438
E(an)-4.998 E(nu)-5.558 E(up)-5.558 E(ps)-5.558 E(s)-3.888 E F0
(pth_cleanup_push, pth_cleanup_pop.)128 432 Q F2 -6.108(PP)108 448.8 S
6.196 -4.438(rr o)6.108 H(oc)-.56 E(ce)-4.438 E(es)-4.438 E(ss)-3.888 E
2.5(sF)-3.888 G -.25(Fo)-8.608 G(or)-4.748 E(rk)-4.438 E(ki)-5.558 E(in)
-2.778 E(ng)-5.558 E(g)-4.998 E F0
(pth_atfork_push, pth_atfork_pop, pth_fork.)128 460.8 Q F2 -5.558(SS)108
477.6 S -4.998(yy)5.558 G -5.558(nn)4.998 G -4.438(cc)5.558 G -5.558(hh)
4.438 G 6.196 -4.438(rr o)5.558 H(on)-.56 E(ni)-5.558 E(iz)-2.778 E(za)
-4.438 E(at)-4.998 E(ti)-3.328 E(io)-2.778 E(on)-4.998 E(n)-5.558 E F0
(pth_mute)128 489.6 Q 8.052(x_init, pth_mute)-.15 F 8.052
(x_acquire, pth_mute)-.15 F 8.053
(x_release, pth_rwlock_init, pth_rwlock_acquire,)-.15 F 5.518
(pth_rwlock_release, pth_cond_init, pth_cond_a)128 501.6 R -.1(wa)-.15 G
5.518(it, pth_cond_notify).1 F 8.018(,p)-.65 G 5.518
(th_barrier_init, pth_bar)-8.018 F(-)-.2 E(rier_reach.)128 513.6 Q F2
-7.778(GG)108 530.4 S -4.438(ee)7.778 G -5.558(nn)4.438 G -4.438(ee)
5.558 G -4.438(rr)4.438 G -4.998(aa)4.438 G -2.778(ll)4.998 G -2.778(ii)
2.778 G -4.438(zz)2.778 G -4.438(ee)4.438 G -5.558(dd)4.438 G/F4 9
/Times-Bold@0 SF -5.497(PP)8.058 G -7(OO)5.497 G -5.002(SS)7 G -3.499
(II)5.002 G -6.496(XX)3.499 G F2 -7.218(RR)8.996 G -4.438(ee)7.218 G
-5.558(pp)4.438 G -2.778(ll)5.558 G -4.998(aa)2.778 G -4.438(cc)4.998 G
-4.438(ee)4.438 G -8.328(mm)4.438 G -4.438(ee)8.328 G -5.558(nn)4.438 G
-3.328(tt)5.558 G F4 -6.496(AA)5.828 G -5.497(PP)6.496 G -3.499(II)5.497
G F0(pth_sigw)128 542.4 Q(ait_e)-.1 E 12.422 -.65(v, p)-.25 H
(th_accept_e).65 E 12.422 -.65(v, p)-.25 H(th_connect_e).65 E 12.422
-.65(v, p)-.25 H(th_select_e).65 E 12.422 -.65(v, p)-.25 H(th_poll_e).65
E 12.422 -.65(v, p)-.25 H(th_read_e).65 E -.65(v,)-.25 G(pth_readv_e)128
554.4 Q 12.566 -.65(v, p)-.25 H(th_write_e).65 E 12.566 -.65(v, p)-.25 H
(th_write).65 E(v_e)-.25 E 12.566 -.65(v, p)-.25 H(th_recv_e).65 E
12.566 -.65(v, p)-.25 H(th_recvfrom_e).65 E 12.566 -.65(v, p)-.25 H
(th_send_e).65 E -.65(v,)-.25 G(pth_sendto_e)128 566.4 Q -.65(v.)-.25 G
F2 -5.558(SS)108 583.2 S -3.328(tt)5.558 G -4.998(aa)3.328 G -5.558(nn)
4.998 G -5.558(dd)5.558 G -4.998(aa)5.558 G -4.438(rr)4.998 G -5.558(dd)
4.438 G F4 -5.497(PP)8.058 G -7(OO)5.497 G -5.002(SS)7 G -3.499(II)5.002
G -6.496(XX)3.499 G F2 -7.218(RR)8.996 G -4.438(ee)7.218 G -5.558(pp)
4.438 G -2.778(ll)5.558 G -4.998(aa)2.778 G -4.438(cc)4.998 G -4.438(ee)
4.438 G -8.328(mm)4.438 G -4.438(ee)8.328 G -5.558(nn)4.438 G -3.328(tt)
5.558 G F4 -6.496(AA)5.828 G -5.497(PP)6.496 G -3.499(II)5.497 G F0
1.467(pth_usleep, pth_sleep, pth_w)128 595.2 R 1.467
(aitpid, pth_system, pth_sigmask, pth_sigw)-.1 F 1.467
(ait, pth_accept, pth_connect,)-.1 F 2.858
(pth_select, pth_poll, pth_read, pth_readv)128 607.2 R 5.358(,p)-.65 G
2.857(th_write, pth_write)-5.358 F 4.157 -.65(v, p)-.25 H 2.857
(th_pread, pth_pwrite, pth_recv).65 F(,)-.65 E
(pth_recvfrom, pth_send, pth_sendto.)128 619.2 Q F1 -7.904(DD)72 636 S
-7.302(EE)7.904 G -6.086(SS)7.302 G -7.904(CC)6.086 G -7.904(RR)7.904 G
-4.258(II)7.904 G -6.688(PP)4.258 G -7.302(TT)6.688 G -4.258(II)7.302 G
-8.517(OO)4.258 G -7.904(NN)8.517 G/F5 10/Courier@0 SF 6(____ _)120 648
R(_)18 E/F6 10/Symbol SF<ef>114 660 Q F5 6(_\\)12 G F6 6<efef>-6 G F5(_)
-6 E F6 6<efef>C F5(__)-6 E F6 6<efef>114 672 S F5(_\))-6 E F6<ef>6 E F5
(__)6 E F6<ef>A F5('_ \\)6 E(``Only those who attempt)54 E F6<ef>114 684
Q F5(__/)12 E F6 6<efef>C F5(_)-6 E F6 6<efefefef>C F5
(the absurd can achieve)54 E F6<ef>114 696 Q F5(_)A F6<ef>A F5(\\__)24 E
F6<ef>A F5(_)A F6 6<efef>C F5(_)-6 E F6<ef>A F5(the impossible.'')60 E
F2 -6.108(PP)108 720 S -3.328(tt)6.108 G -5.558(hh)3.328 G F0 1.801
(is a v)9.859 F 1.802(ery portable)-.15 F F3(POSIX/ANSI-C)4.302 E F0
1.802(based library for Unix platforms which pro)4.302 F 1.802
(vides non-preempti)-.15 F -.15(ve)-.25 G 163.315(2002-10-15 perl)72 768
R 204.975(v5.6.1 1)2.5 F EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E .112(priority-based scheduling for multiple threads of e)108 84 R
-.15(xe)-.15 G .112(cution \(aka `multithreading'\) inside e).15 F -.15
(ve)-.25 G(nt-dri).15 E -.15(ve)-.25 G 2.611(na).15 G(ppli-)-2.611 E .85
(cations. All threads run in the same address space of the application \
process, b)108 96 R .851(ut each thread has its o)-.2 F(wn)-.25 E(indi)
108 108 Q(vidual program counter)-.25 E 2.5(,r)-.4 G
(un-time stack, signal mask and)-2.5 E/F1 10/Courier@0 SF(errno)2.5 E F0
-.25(va)2.5 G(riable.).25 E .243
(The thread scheduling itself is done in a cooperati)108 124.8 R .542
-.15(ve w)-.25 H(ay).05 E 2.742(,i)-.65 G .242
(.e., the threads are managed and dispatched by a)-2.742 F .983
(priority- and e)108 136.8 R -.15(ve)-.25 G(nt-dri).15 E -.15(ve)-.25 G
3.484(nn).15 G(on-preempti)-3.484 E 1.284 -.15(ve s)-.25 H(cheduler).15
E 3.484(.T)-.55 G .984(he intention is that this w)-3.484 F .984
(ay both better portability)-.1 F .2(and run-time performance is achie)
108 148.8 R -.15(ve)-.25 G 2.7(dt).15 G .2(han with preempti)-2.7 F .5
-.15(ve s)-.25 H .2(cheduling. The e).15 F -.15(ve)-.25 G .2(nt f).15 F
.2(acility allo)-.1 F .2(ws threads to)-.25 F -.1(wa)108 160.8 S 1.427
(it until v).1 F 1.427(arious types of internal and e)-.25 F 1.427
(xternal e)-.15 F -.15(ve)-.25 G 1.427(nts occur).15 F 3.927(,i)-.4 G
1.428(ncluding pending I/O on \214le descriptors,)-3.927 F .949(asynchr\
onous signals, elapsed timers, pending I/O on message ports, thread and\
 process termination, and)108 172.8 R -2.15 -.25(ev e)108 184.8 T 2.5
(nr).25 G(esults of customized callback functions.)-2.5 E/F2 10
/Times-Bold@0 SF -6.108(PP)108 201.6 S -3.328(tt)6.108 G -5.558(hh)3.328
G F0 .229(also pro)8.287 F .229(vides an optional emulation)-.15 F/F3 9
/Times-Roman@0 SF(API)2.729 E F0(for)2.73 E F3(POSIX)2.73 E F0 .23
(.1c threads \(`Pthreads'\) which can be used for back-)B -.1(wa)108
213.6 S(rd compatibility to e).1 E
(xisting multithreaded applications. See)-.15 E F2 -6.108(PP)2.5 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 -.55('s)5.558 G/F4 10
/Times-Italic@0 SF(pthr)3.05 E(ead)-.37 E F0
(\(3\) manual page for details.)1.666 E F2 -6.668(TT)108 236.4 S -5.558
(hh)6.668 G 6.196 -4.438(rr ee)5.558 H -4.998(aa)4.438 G -5.558(dd)4.998
G -2.778(ii)5.558 G -5.558(nn)2.778 G 9.996 -4.998(gg B)5.558 H(Ba)-1.67
E(ac)-4.998 E(ck)-4.438 E(kg)-5.558 E(gr)-4.998 E -.18(ro)-4.438 G(ou)
-4.818 E(un)-5.558 E(nd)-5.558 E(d)-5.558 E F0 1.19(When programming e)
108 253.2 R -.15(ve)-.25 G(nt-dri).15 E -.15(ve)-.25 G 3.69(na).15 G
1.19(pplications, usually serv)-3.69 F 1.19(ers, lots of re)-.15 F 1.19
(gular jobs and one-shot requests)-.15 F(ha)108 265.2 Q .726 -.15(ve t)
-.2 H 2.926(ob).15 G 2.926(ep)-2.926 G .426(rocessed in parallel.)-2.926
F 2.026 -.8(To e)5.426 H -.25<668c>.8 G .427
(ciently simulate this parallel processing on uniprocessor machines,).25
F 1.773(we use `multitasking')108 277.2 R 5.939<8a74>5.939 G 1.773
(hat is, we ha)-5.939 F 2.073 -.15(ve t)-.2 H 1.773
(he application ask the operating system to spa).15 F 1.773(wn multiple)
-.15 F 1.53(instances of itself. On Unix, typically the k)108 289.2 R
1.53(ernel implements multitasking in a preempti)-.1 F 1.83 -.15(ve a)
-.25 H 1.53(nd priority-).15 F .539(based w)108 301.2 R .539
(ay through hea)-.1 F .539(vy-weight processes spa)-.2 F .539(wned with)
-.15 F F4(fork)3.039 E F0 3.039(\(2\). These)1.666 F .539
(processes usually do)3.039 F F4(not)3.039 E F0 .538(share a)3.038 F
.029(common address space. Instead the)108 313.2 R 2.529(ya)-.15 G .029
(re clearly separated from each other)-2.529 F 2.53(,a)-.4 G .03
(nd are created by direct cloning)-2.53 F 2.539(ap)108 325.2 S .039
(rocess address space \(although modern k)-2.539 F .038
(ernels use memory se)-.1 F .038(gment mapping and cop)-.15 F .038
(y-on-write seman-)-.1 F(tics to a)108 337.2 Q -.2(vo)-.2 G
(id unnecessary cop).2 E(ying of ph)-.1 E(ysical memory\).)-.05 E 1.048
(The dra)108 354 R 1.048(wbacks are ob)-.15 F 1.048(vious: Sharing data\
 between the processes is complicated, and can usually only be)-.15 F
.527(done ef)108 366 R .527(\214ciently through shared memory \(b)-.25 F
.526(ut which itself is not v)-.2 F .526
(ery portable\). Synchronization is compli-)-.15 F 1.863
(cated because of the preempti)108 378 R 2.163 -.15(ve n)-.25 H 1.863
(ature of the Unix scheduler \(one has to use).15 F F4(atomic)4.363 E F0
1.863(locks, etc\). The)4.363 F(machine')108 390 Q 2.644(sr)-.55 G .143
(esources can be e)-2.644 F .143(xhausted v)-.15 F .143
(ery quickly when the serv)-.15 F .143(er application has to serv)-.15 F
2.643(et)-.15 G .143(oo man)-2.643 F 2.643(yl)-.15 G(ong-)-2.643 E .743
(running requests \(hea)108 402 R .744
(vy-weight processes cost memory\). And when each request spa)-.2 F .744
(wns a sub-process to)-.15 F 2.142(handle it, the serv)108 414 R 2.142
(er performance and responsi)-.15 F -.15(ve)-.25 G 2.141
(ness is horrible \(hea).15 F 2.141(vy-weight processes cost time to)-.2
F(spa)108 426 Q .141(wn\). Finally)-.15 F 2.641(,t)-.65 G .142(he serv)
-2.641 F .142(er application doesn')-.15 F 2.642(ts)-.18 G .142(cale v)
-2.642 F .142(ery well with the load because of these resource prob-)
-.15 F .093(lems. In practice, lots of tricks are usually used to o)108
438 R -.15(ve)-.15 G .092
(rcome these problems \255 ranging from pre-fork).15 F .092(ed sub-)-.1
F(process pools to semi-serialized processing, etc.)108 450 Q .478
(One of the most ele)108 466.8 R -.05(ga)-.15 G .479(nt w).05 F .479
(ays to solv)-.1 F 2.979(et)-.15 G .479
(hese resource- and data-sharing problems is to ha)-2.979 F .779 -.15
(ve m)-.2 H(ultiple).15 E F4(light-)2.979 E(weight)108 478.8 Q F0 2.084
(threads of e)4.584 F -.15(xe)-.15 G 2.084(cution inside a single \(hea)
.15 F 2.084(vy-weight\) process, i.e., to use)-.2 F F4(multithr)4.583 E
(eading)-.37 E F0 7.083(.T)C(hose)-7.083 E F4(thr)108 490.8 Q(eads)-.37
E F0 .178(usually impro)2.678 F .478 -.15(ve r)-.15 H(esponsi).15 E -.15
(ve)-.25 G .178(ness and performance of the application, often impro).15
F .479 -.15(ve a)-.15 H .179(nd simplify the).15 F .306(internal progra\
m structure, and most important, require less system resources than hea)
108 502.8 R .305(vy-weight processes.)-.2 F .292
(Threads are neither the optimal run-time f)108 514.8 R .293
(acility for all types of applications, nor can all applications bene-)
-.1 F(\214t from them. But at least e)108 526.8 Q -.15(ve)-.25 G(nt-dri)
.15 E -.15(ve)-.25 G 2.5(ns).15 G(erv)-2.5 E
(er applications usually bene\214t greatly from using threads.)-.15 E F2
-6.668(TT)108 549.6 S -5.558(hh)6.668 G 8.876 -4.438(ee W)5.558 H -.75
(Wo)-5.56 G(or)-4.248 E(rl)-4.438 E(ld)-2.778 E 2.5(do)-5.558 G(of)
-7.498 E 2.5(fT)-3.328 G(Th)-9.168 E(hr)-5.558 E -.18(re)-4.438 G(ea)
-4.258 E(ad)-4.998 E(di)-5.558 E(in)-2.778 E(ng)-5.558 E(g)-4.998 E F0
(Ev)108 566.4 Q .327(en though lots of documents e)-.15 F .327
(xists which describe and de\214ne the w)-.15 F .326
(orld of threading, to understand)-.1 F F2 -6.108(PP)2.826 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0(,)5.558 E .162(you need only basic kno)108
578.4 R .163(wledge about threading. The follo)-.25 F .163
(wing de\214nitions of thread-related terms should at)-.25 F
(least help you understand thread programming enough to allo)108 590.4 Q
2.5(wy)-.25 G(ou to use)-2.5 E F2 -6.108(PP)2.5 G -3.328(tt)6.108 G
-5.558(hh)3.328 G F0(.)5.558 E F2 9.996 -4.998(oo p)108 607.2 T(pr)-.56
E -.18(ro)-4.438 G(oc)-4.818 E(ce)-4.438 E(es)-4.438 E(ss)-3.888 E(s)
-3.888 E F0(vs.)2.5 E F2 -3.328(tt)2.5 G -5.558(hh)3.328 G 6.196 -4.438
(rr ee)5.558 H -4.998(aa)4.438 G -5.558(dd)4.998 G F0 3.616(Ap)118 619.2
S 1.116(rocess on Unix systems consists of at least the follo)-3.616 F
1.115(wing fundamental ingredients:)-.25 F F4 1.115(virtual memory)3.615
F(table)118 631.2 Q F0(,)A F4(pr)3.736 E -.1(og)-.45 G -.15(ra).1 G
3.737(mc).15 G(ode)-3.737 E F0(,)A F4(pr)3.737 E -.1(og)-.45 G -.15(ra)
.1 G 3.737(mc).15 G(ounter)-3.737 E F0(,)A F4 1.237(heap memory)3.737 F
F0(,)A F4(stac)3.737 E 3.737(km)-.2 G(emory)-3.737 E F0(,)A F4(stac)
3.737 E 3.737(kp)-.2 G(ointer)-3.737 E F0(,)A F4 1.237
(\214le descriptor set)3.737 F F0(,)A F4 .786(signal table)118 643.2 R
F0 3.286(.O)C 3.286(ne)-3.286 G -.15(ve)-3.536 G .786
(ry process switch, the k).15 F .785(ernel sa)-.1 F -.15(ve)-.2 G 3.285
(sa).15 G .785(nd restores these ingredients for the indi)-3.285 F
(vidual)-.25 E .817
(processes. On the other hand, a thread consists of only a pri)118 655.2
R -.25(va)-.25 G .818(te program counter).25 F 3.318(,s)-.4 G .818
(tack memory)-3.318 F 3.318(,s)-.65 G(tack)-3.318 E .776(pointer and si\
gnal table. All other ingredients, in particular the virtual memory)118
667.2 R 3.276(,i)-.65 G 3.276(ts)-3.276 G .776(hares with the other)
-3.276 F(threads of the same process.)118 679.2 Q F2 9.996 -4.998(oo k)
108 696 T -.1(ke)-.56 G(er)-4.338 E -.15(rn)-4.438 G(ne)-5.408 E(el)
-4.438 E(l-)-2.778 E(-s)-3.328 E(sp)-3.888 E(pa)-5.558 E(ac)-4.998 E(ce)
-4.438 E(e)-4.438 E F0(vs.)2.5 E F2 -5.558(uu)2.5 G -3.888(ss)5.558 G
-4.438(ee)3.888 G 6.006 -4.438(rr -)4.438 H(-s)1.11 E(sp)-3.888 E(pa)
-5.558 E(ac)-4.998 E(ce)-4.438 E(e)-4.438 E F0(threading)2.5 E 1.081(Th\
reads on a Unix platform traditionally can be implemented either inside\
 k)118 708 R 1.082(ernel-space or user)-.1 F(-space.)-.2 E 1.053
(When threads are implemented by the k)118 720 R 1.053
(ernel, the thread conte)-.1 F 1.052(xt switches are performed by the k)
-.15 F(ernel)-.1 E 163.315(2002-10-15 perl)72 768 R 204.975(v5.6.1 2)2.5
F EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E .703(without the application')118 84 R 3.203(sk)-.55 G(no)-3.203 E
.703(wledge. Similarly)-.25 F 3.203(,w)-.65 G .703
(hen threads are implemented in user)-3.203 F .704(-space, the thread)
-.2 F(conte)118 96 Q .351
(xt switches are performed by an application library)-.15 F 2.851(,w)
-.65 G .351(ithout the k)-2.851 F(ernel')-.1 E 2.85(sk)-.55 G(no)-2.85 E
.35(wledge. There also are)-.25 F -.05(hy)118 108 S .61
(brid threading approaches where, typically).05 F 3.111(,au)-.65 G(ser)
-3.111 E .611(-space library binds one or more user)-.2 F .611
(-space threads)-.2 F(to one or more k)118 120 Q(ernel-space threads \(\
there usually called light-weight processes \255 or in short L)-.1 E
(WPs\).)-.74 E(User)118 138 Q .899
(-space threads are usually more portable and can perform f)-.2 F .899
(aster and cheaper conte)-.1 F .899(xt switches \(for)-.15 F .228
(instance via)118 150 R/F1 10/Times-Italic@0 SF(swapconte)2.728 E(xt)-.2
E F0 .228(\(2\) or)1.666 F F1(setjmp)2.728 E F0(\(3\)/)1.666 E F1
(longjmp)A F0 .228(\(3\)\) than k)1.666 F .229
(ernel based threads. On the other hand, k)-.1 F(er)-.1 E(-)-.2 E .304
(nel-space threads can tak)118 162 R 2.804(ea)-.1 G(dv)-2.804 E .304
(antage of multiprocessor machines and don')-.25 F 2.803(th)-.18 G -2.25
-.2(av e)-2.803 H(an)3.003 E 2.803(yi)-.15 G .303(nherent I/O block-)
-2.803 F .063(ing problems. K)118 174 R .063
(ernel-space threads are usually scheduled in preempti)-.25 F .363 -.15
(ve w)-.25 H .063(ay side-by-side with the under).05 F(-)-.2 E .538
(lying processes. User)118 186 R .538
(-space threads on the other hand use either preempti)-.2 F .837 -.15
(ve o)-.25 H 3.037(rn).15 G(on-preempti)-3.037 E .837 -.15(ve s)-.25 H
(chedul-).15 E(ing.)118 198 Q/F2 10/Times-Bold@0 SF 9.996 -4.998(oo p)
108 214.8 T(pr)-.56 E -.18(re)-4.438 G(ee)-4.258 E(em)-4.438 E(mp)-8.328
E(pt)-5.558 E(ti)-3.328 E -.1(iv)-2.778 G -.1(ve)-4.898 G(e)-4.338 E F0
(vs.)2.5 E F2 -5.558(nn)2.5 G -4.998(oo)5.558 G -5.558(nn)4.998 G -3.328
(--)5.558 G -5.558(pp)3.328 G 6.196 -4.438(rr ee)5.558 H -4.438(ee)4.438
G -8.328(mm)4.438 G -5.558(pp)8.328 G -3.328(tt)5.558 G 2.956 -2.778
(ii v)3.328 H -.1(ve)-2.22 G(e)-4.338 E F0(thread scheduling)2.5 E .444
(In preempti)118 226.8 R .744 -.15(ve s)-.25 H .444
(cheduling, the scheduler lets a thread e).15 F -.15(xe)-.15 G .444
(cute until a blocking situation occurs \(usually a).15 F 1.478
(function call which w)118 238.8 R 1.477(ould block\) or the assigned t\
imeslice elapses. Then it detracts control from the)-.1 F 1.952(thread \
without a chance for the thread to object. This is usually realized by \
interrupting the thread)118 250.8 R 1.299(through a hardw)118 262.8 R
1.299(are interrupt signal \(for k)-.1 F 1.299
(ernel-space threads\) or a softw)-.1 F 1.298
(are interrupt signal \(for user)-.1 F(-)-.2 E 1.207
(space threads\), lik)118 274.8 R(e)-.1 E/F3 10/Courier@0 SF(SIGALRM)
3.707 E F0(or)3.707 E F3(SIGVTALRM)3.707 E F0 3.707(.I)C 3.708(nn)-3.707
G(on-preempti)-3.708 E 1.508 -.15(ve s)-.25 H 1.208
(cheduling, once a thread recei).15 F -.15(ve)-.25 G(d).15 E .277
(control from the scheduler it k)118 286.8 R .277
(eeps it until either a blocking situation occurs \(ag)-.1 F .277
(ain a function call which)-.05 F -.1(wo)118 298.8 S .022
(uld block and instead switches back to the scheduler\) or the thread e)
.1 F .022(xplicitly yields control back to the)-.15 F
(scheduler in a cooperati)118 310.8 Q .3 -.15(ve w)-.25 H(ay).05 E(.)
-.65 E F2 9.996 -4.998(oo c)108 327.6 T(co).56 E(on)-4.998 E(nc)-5.558 E
(cu)-4.438 E(ur)-5.558 E(rr)-4.438 E -.18(re)-4.438 G(en)-4.258 E(nc)
-5.558 E(cy)-4.438 E(y)-4.998 E F0(vs.)2.5 E F2 -5.558(pp)2.5 G -4.998
(aa)5.558 G -4.438(rr)4.998 G -4.998(aa)4.438 G -2.778(ll)4.998 G -2.778
(ll)2.778 G -4.438(ee)2.778 G -2.778(ll)4.438 G -2.778(ii)2.778 G -3.888
(ss)2.778 G -8.328(mm)3.888 G F0(Concurrenc)118 339.6 Q 2.709(ye)-.15 G
.209(xists when at least tw)-2.859 F 2.708(ot)-.1 G .208(hreads are)
-2.708 F F1 .208(in pr)2.708 F -.1(og)-.45 G -.37(re).1 G(ss).37 E F0
.208(at the same time. P)2.708 F .208(arallelism arises when at)-.15 F
.476(least tw)118 351.6 R 2.977(ot)-.1 G .477(hreads are)-2.977 F F1 -.2
(ex)2.977 G(ecuting).2 E F0(simultaneously)2.977 E 2.977(.R)-.65 G .477
(eal parallelism can be only achie)-2.977 F -.15(ve)-.25 G 2.977(do).15
G 2.977(nm)-2.977 G(ultiprocessor)-2.977 E 1.134
(machines, of course. But one also usually speaks of parallelism or)118
363.6 R F1 1.134(high concurr)3.634 F(ency)-.37 E F0 1.133(in the conte)
3.633 F 1.133(xt of)-.15 F(preempti)118 375.6 Q 1.096 -.15(ve t)-.25 H
.796(hread scheduling and of).15 F F1 .796(low concurr)3.296 F(ency)-.37
E F0 .796(in the conte)3.296 F .796(xt of non-preempti)-.15 F 1.097 -.15
(ve t)-.25 H .797(hread schedul-).15 F(ing.)118 387.6 Q F2 9.996 -4.998
(oo r)108 404.4 T -.18(re).56 G(es)-4.258 E(sp)-3.888 E(po)-5.558 E(on)
-4.998 E(ns)-5.558 E(si)-3.888 E -.1(iv)-2.778 G -.1(ve)-4.898 G(en)
-4.338 E(ne)-5.558 E(es)-4.438 E(ss)-3.888 E(s)-3.888 E F0 .586
(The responsi)118 416.4 R -.15(ve)-.25 G .586(ness of a system can be d\
escribed by the user visible delay until the system responses to).15 F
.678(an e)118 428.4 R .678
(xternal request. When this delay is small enough and the user doesn')
-.15 F 3.178(tr)-.18 G .679(ecognize a noticeable delay)-3.178 F(,)-.65
E .11(the responsi)118 440.4 R -.15(ve)-.25 G .11(ness of the system is\
 considered good. When the user recognizes or is e).15 F -.15(ve)-.25 G
2.61(na).15 G(nno)-2.61 E .11(yed by the)-.1 F(delay)118 452.4 Q 2.5(,t)
-.65 G(he responsi)-2.5 E -.15(ve)-.25 G
(ness of the system is considered bad.).15 E F2 9.996 -4.998(oo r)108
469.2 T -.18(re).56 G(ee)-4.258 E(en)-4.438 E(nt)-5.558 E(tr)-3.328 E
(ra)-4.438 E(an)-4.998 E(nt)-5.558 E(t)-3.328 E F0(,)A F2 -3.328(tt)2.5
G -5.558(hh)3.328 G 6.196 -4.438(rr ee)5.558 H -4.998(aa)4.438 G -5.558
(dd)4.998 G -3.328(--)5.558 G -3.888(ss)3.328 G -4.998(aa)3.888 G -3.328
(ff)4.998 G -4.438(ee)3.328 G F0(and)6.938 E F2 -4.998(aa)2.5 G -3.888
(ss)4.998 G -4.998(yy)3.888 G -5.558(nn)4.998 G -4.438(cc)5.558 G -5.558
(hh)4.438 G 6.196 -4.438(rr o)5.558 H(on)-.56 E(no)-5.558 E(ou)-4.998 E
(us)-5.558 E(s-)-3.888 E(-s)-3.328 E(sa)-3.888 E(af)-4.998 E(fe)-3.328 E
(e)-4.438 E F0(functions)2.5 E 3.648(Ar)118 481.2 S 1.148
(eentrant function is one that beha)-3.648 F -.15(ve)-.2 G 3.649(sc).15
G 1.149(orrectly if it is called simultaneously by se)-3.649 F -.15(ve)
-.25 G 1.149(ral threads and).15 F .126(then also e)118 493.2 R -.15(xe)
-.15 G .126(cutes simultaneously).15 F 5.126(.F)-.65 G .126(unctions th\
at access global state, such as memory or \214les, of course,)-5.126 F
.04(need to be carefully designed in order to be reentrant. T)118 505.2
R .24 -.1(wo t)-.8 H .04(raditional approaches to solv).1 F 2.54(et)-.15
G .04(hese problems)-2.54 F(are caller)118 517.2 Q
(-supplied states and thread-speci\214c data.)-.2 E .127
(Thread-safety is the a)118 535.2 R -.2(vo)-.2 G .127(idance of).2 F F1
.127(data r)2.627 F(aces)-.15 E F0 2.627(,i)C .126
(.e., situations in which data is set to either correct or incor)-2.627
F(-)-.2 E 1.357(rect v)118 547.2 R 1.357(alue depending upon the \(unpr\
edictable\) order in which multiple threads access and modify the)-.25 F
.709(data. So a function is thread-safe when it still beha)118 559.2 R
-.15(ve)-.2 G 3.208(ss).15 G .708
(emantically correct when called simultaneously)-3.208 F 1.764(by se)118
571.2 R -.15(ve)-.25 G 1.764
(ral threads \(it is not required that the functions also e).15 F -.15
(xe)-.15 G 1.765(cute simultaneously\). The traditional).15 F .304
(approach to achie)118 583.2 R .604 -.15(ve t)-.25 H .304
(hread-safety is to wrap a function body with an internal mutual e).15 F
.303(xclusion lock \(aka)-.15 F(`mute)118 595.2 Q .46
(x'\). As you should recognize, reentrant is a stronger attrib)-.15 F
.46(ute than thread-safe, because it is harder)-.2 F .924(to achie)118
607.2 R 1.224 -.15(ve a)-.25 H .924(nd results especially in no run-tim\
e contention between threads. So, a reentrant function is).15 F(al)118
619.2 Q -.1(wa)-.1 G(ys thread-safe, b).1 E(ut not vice v)-.2 E(ersa.)
-.15 E .142(Additionally there is a related attrib)118 637.2 R .142
(ute for functions named asynchronous-safe, which comes into play in)-.2
F 1.277(conjunction with signal handlers. This is v)118 649.2 R 1.276
(ery related to the problem of reentrant functions. An asyn-)-.15 F .702
(chronous-safe function is one that can be called safe and without side\
-ef)118 661.2 R .702(fects from within a signal han-)-.25 F .148
(dler conte)118 673.2 R .148(xt. Usually v)-.15 F .148(ery fe)-.15 F
2.648(wf)-.25 G .148
(unctions are of this type, because an application is v)-2.648 F .147
(ery restricted in what)-.15 F .56(it can perform from within a signal \
handler \(especially what system functions it is allo)118 685.2 R .561
(wed to call\). The)-.25 F .464(reason mainly is, because only a fe)118
697.2 R 2.964(ws)-.25 G .464(ystem functions are of)-2.964 F .464
(\214cially declared by)-.25 F/F4 9/Times-Roman@0 SF(POSIX)2.963 E F0
.463(as guaranteed to)2.963 F
(be asynchronous-safe. Asynchronous-safe functions usually ha)118 709.2
Q .3 -.15(ve t)-.2 H 2.5(ob).15 G 2.5(ea)-2.5 G(lready reentrant.)-2.5 E
163.315(2002-10-15 perl)72 768 R 204.975(v5.6.1 3)2.5 F EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Times-Bold@0 SF -7.218(UU)108 84 S -3.888(ss)7.218 G -4.438
(ee)3.888 G 6.006 -4.438(rr -)4.438 H(-S)1.11 E(Sp)-5.558 E(pa)-5.558 E
(ac)-4.998 E(ce)-4.438 E 2.5(eT)-4.438 G(Th)-9.168 E(hr)-5.558 E -.18
(re)-4.438 G(ea)-4.258 E(ad)-4.998 E(ds)-5.558 E(s)-3.888 E F0(User)108
100.8 Q(-space threads can be implemented in v)-.2 E(arious w)-.25 E(ay)
-.1 E 2.5(.T)-.65 G(he tw)-2.5 E 2.5(ot)-.1 G
(raditional approaches are:)-2.5 E F1 -4.998(11)108 117.6 S 9.992 -2.498
(.. M)4.998 H(Ma)-6.94 E(at)-4.998 E(tr)-3.328 E(ri)-4.438 E(ix)-2.778 E
(x-)-4.998 E(-b)-3.328 E(ba)-5.558 E(as)-4.998 E(se)-3.888 E(ed)-4.438 E
2.5(de)-5.558 G(ex)-6.938 E(xp)-4.998 E(pl)-5.558 E(li)-2.778 E(ic)
-2.778 E(ci)-4.438 E(it)-2.778 E 2.5(td)-3.328 G(di)-8.058 E(is)-2.778 E
(sp)-3.888 E(pa)-5.558 E(at)-4.998 E(tc)-3.328 E(ch)-4.438 E(hi)-5.558 E
(in)-2.778 E(ng)-5.558 E 2.5(gb)-4.998 G(be)-8.058 E(et)-4.438 E(tw)
-3.328 E(we)-7.218 E(ee)-4.438 E(en)-4.438 E 2.5(ns)-5.558 G(sm)-6.388 E
(ma)-8.328 E(al)-4.998 E(ll)-2.778 E 2.5(lu)-2.778 G(un)-8.058 E(ni)
-5.558 E(it)-2.778 E(ts)-3.328 E 2.5(so)-3.888 G(of)-7.498 E 2.5(fe)
-3.328 G(ex)-6.938 E(xe)-4.998 E(ec)-4.438 E(cu)-4.438 E(ut)-5.558 E(ti)
-3.328 E(io)-2.778 E(on)-4.998 E(n:)-5.558 E(:)-3.328 E F0 .123
(Here the global procedures of the application are split into small e)
123 135.6 R -.15(xe)-.15 G .123(cution units \(each is required to not)
.15 F .736(run for more than a fe)123 147.6 R 3.236(wm)-.25 G .736
(illiseconds\) and those units are implemented by separate functions.)
-3.236 F .735(Then a)5.735 F 1.004
(global matrix is de\214ned which describes the e)123 159.6 R -.15(xe)
-.15 G 1.004(cution \(and perhaps e).15 F -.15(ve)-.25 G 3.505(nd).15 G
(ependenc)-3.505 E 1.005(y\) order of these)-.15 F .774
(functions. The main serv)123 171.6 R .773(er procedure then just dispa\
tches between these units by calling one function)-.15 F .461(after eac\
h other controlled by this matrix. The threads are created by more than\
 one jump-trail through)123 183.6 R(this matrix and by switching betwee\
n these jump-trails controlled by corresponding occurred e)123 195.6 Q
-.15(ve)-.25 G(nts.).15 E .657(This approach gi)123 213.6 R -.15(ve)-.25
G 3.157(st).15 G .656(he best possible performance, because one can \
\214ne-tune the threads of e)-3.157 F -.15(xe)-.15 G(cution).15 E 1.035
(by adjusting the matrix, and the scheduling is done e)123 225.6 R 1.036
(xplicitly by the application itself. It is also v)-.15 F(ery)-.15 E .93
(portable, because the matrix is just an ordinary data structure, and f\
unctions are a standard feature of)123 237.6 R/F2 9/Times-Roman@0 SF
(ANSI)123 249.6 Q F0(C.)2.5 E 2.738(The disadv)123 267.6 R 2.739
(antage of this approach is that it is complicated to write lar)-.25 F
2.739(ge applications with this)-.18 F .256
(approach, because in those applications one quickly gets)123 279.6 R/F3
10/Times-Italic@0 SF(hundr)2.755 E(eds)-.37 E F0 .255(\(!\) of e)1.666 F
-.15(xe)-.15 G .255(cution units and the control).15 F<8d6f>123 291.6 Q
2.827(wi)-.25 G .327(nside such an application is v)-2.827 F .328
(ery hard to understand \(because it is interrupted by function borders)
-.15 F 1.043(and one al)123 303.6 R -.1(wa)-.1 G 1.043
(ys has to remember the global dispatching matrix to follo).1 F 3.542
(wi)-.25 G 1.042(t\). Additionally)-3.542 F 3.542(,a)-.65 G 1.042
(ll threads)-3.542 F .372(operate on the same e)123 315.6 R -.15(xe)-.15
G .372(cution stack. Although this sa).15 F -.15(ve)-.2 G 2.873(sm).15 G
(emory)-2.873 E 2.873(,i)-.65 G 2.873(ti)-2.873 G 2.873(so)-2.873 G .373
(ften nasty)-2.873 F 2.873(,b)-.65 G .373(ecause one cannot)-2.873 F
.784(switch between threads in the middle of a function. Thus the sched\
uling borders are the function bor)123 327.6 R(-)-.2 E(ders.)123 339.6 Q
F1 -4.998(22)108 356.4 S 9.992 -2.498(.. C)4.998 H(Co)-4.72 E(on)-4.998
E(nt)-5.558 E(te)-3.328 E(ex)-4.438 E(xt)-4.998 E(t-)-3.328 E(-b)-3.328
E(ba)-5.558 E(as)-4.998 E(se)-3.888 E(ed)-4.438 E 2.5(di)-5.558 G(im)
-5.278 E(mp)-8.328 E(pl)-5.558 E(li)-2.778 E(ic)-2.778 E(ci)-4.438 E(it)
-2.778 E 2.5(ts)-3.328 G(sc)-6.388 E(ch)-4.438 E(he)-5.558 E(ed)-4.438 E
(du)-5.558 E(ul)-5.558 E(li)-2.778 E(in)-2.778 E(ng)-5.558 E 2.5(gb)
-4.998 G(be)-8.058 E(et)-4.438 E(tw)-3.328 E(we)-7.218 E(ee)-4.438 E(en)
-4.438 E 2.5(nt)-5.558 G(th)-5.828 E(hr)-5.558 E -.18(re)-4.438 G(ea)
-4.258 E(ad)-4.998 E(ds)-5.558 E 2.5(so)-3.888 G(of)-7.498 E 2.5(fe)
-3.328 G(ex)-6.938 E(xe)-4.998 E(ec)-4.438 E(cu)-4.438 E(ut)-5.558 E(ti)
-3.328 E(io)-2.778 E(on)-4.998 E(n:)-5.558 E(:)-3.328 E F0 .223
(Here the idea is that one programs the application as with fork)123
374.4 R .223(ed processes, i.e., one spa)-.1 F .223(wns a thread of)-.15
F -.15(exe)123 386.4 S .886(cution and this runs from the be).15 F .885
(gin to the end without an interrupted control \215o)-.15 F 2.185 -.65
(w. B)-.25 H .885(ut the control).65 F<8d6f>123 398.4 Q 2.581(wc)-.25 G
.081(an be still interrupted \255 e)-2.581 F -.15(ve)-.25 G 2.581(ni).15
G 2.581(nt)-2.581 G .081(he middle of a function.)-2.581 F .081
(Actually in a preempti)5.081 F .381 -.15(ve w)-.25 H(ay).05 E 2.581(,s)
-.65 G .082(imilar to)-2.581 F .432(what the k)123 410.4 R .432
(ernel does for the hea)-.1 F .431(vy-weight processes, i.e., e)-.2 F
-.15(ve)-.25 G .431(ry fe).15 F 2.931(wm)-.25 G .431
(illiseconds the user)-2.931 F .431(-space sched-)-.2 F .54
(uler switches between the threads of e)123 422.4 R -.15(xe)-.15 G .541
(cution. But the thread itself doesn').15 F 3.041(tr)-.18 G .541
(ecognize this and usually)-3.041 F(\(e)123 434.4 Q
(xcept for synchronization issues\) doesn')-.15 E 2.5(th)-.18 G -2.25
-.2(av e)-2.5 H(to care about this.)2.7 E .083(The adv)123 452.4 R .083
(antage of this approach is that it')-.25 F 2.583(sv)-.55 G .083
(ery easy to program, because the control \215o)-2.733 F 2.582(wa)-.25 G
.082(nd conte)-2.582 F .082(xt of)-.15 F 3.048(at)123 464.4 S .548
(hread directly follo)-3.048 F .548
(ws a procedure without forced interrupts through function borders.)-.25
F(Additionally)5.549 E(,)-.65 E(the programming is v)123 476.4 Q
(ery similar to a traditional and well understood)-.15 E F3(fork)2.5 E
F0(\(2\) based approach.)1.666 E .566(The disadv)123 494.4 R .565(antag\
e is that although the general performance is increased, compared to us\
ing approaches)-.25 F .606(based on hea)123 506.4 R .607(vy-weight proc\
esses, it is decreased compared to the matrix-approach abo)-.2 F -.15
(ve)-.15 G 3.107(.B).15 G .607(ecause the)-3.107 F 2.086
(implicit preempti)123 518.4 R 2.386 -.15(ve s)-.25 H 2.086
(cheduling does usually a lot more conte).15 F 2.086(xt switches \(e)
-.15 F -.15(ve)-.25 G 2.085(ry user).15 F 2.085(-space conte)-.2 F(xt)
-.15 E .904(switch costs some o)123 530.4 R -.15(ve)-.15 G .904(rhead e)
.15 F -.15(ve)-.25 G 3.404(nw).15 G .905
(hen it is a lot cheaper than a k)-3.404 F(ernel-le)-.1 E -.15(ve)-.25 G
3.405(lc).15 G(onte)-3.405 E .905(xt switch\) than the)-.15 F -.15(ex)
123 542.4 S 2.609(plicit cooperati).15 F -.15(ve)-.25 G(/non-preempti)
.15 E 2.909 -.15(ve s)-.25 H 5.109(cheduling. Finally).15 F 5.109(,t)
-.65 G 2.609(here is no really portable)-5.109 F F2(POSIX/ANSI-C)5.108 E
F0 1.09(based w)123 554.4 R 1.09(ay to implement user)-.1 F 1.091
(-space preempti)-.2 F 1.391 -.15(ve t)-.25 H 1.091
(hreading. Either the platform already has threads, or).15 F .657
(one has to hope that some semi-portable package e)123 566.4 R .657
(xists for it. And e)-.15 F -.15(ve)-.25 G 3.156(nt).15 G .656
(hose semi-portable packages)-3.156 F .227(usually ha)123 578.4 R .527
-.15(ve t)-.2 H 2.727(od).15 G .227(eal with assembler code and other n\
asty internals and are not easy to port to forthcom-)-2.727 F
(ing platforms.)123 590.4 Q .061
(So, in short: the matrix-dispatching approach is portable and f)108
607.2 R .061(ast, b)-.1 F .06(ut nasty to program. The thread schedul-)
-.2 F .908(ing approach is easy to program, b)108 619.2 R .908(ut suf)
-.2 F .908
(fers from synchronization and portability problems caused by its)-.25 F
(preempti)108 631.2 Q .3 -.15(ve n)-.25 H(ature.).15 E F1 -6.668(TT)108
654 S -5.558(hh)6.668 G 8.876 -4.438(ee C)5.558 H(Co)-2.78 E(om)-4.998 E
(mp)-8.328 E(pr)-5.558 E -.18(ro)-4.438 G(om)-4.818 E(mi)-8.328 E(is)
-2.778 E(se)-3.888 E 2.5(eo)-4.438 G(of)-7.498 E 2.5(fP)-3.328 G(Pt)
-8.608 E(th)-3.328 E(h)-5.558 E F0 .066(But wh)108 670.8 R 2.566(yn)-.05
G .066(ot combine the good aspects of both approaches while a)-2.566 F
-.2(vo)-.2 G .066(iding their bad aspects? That').2 F 2.565(st)-.55 G
.065(he goal)-2.565 F(of)108 682.8 Q F1 -6.108(PP)4.573 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0(.)5.558 E F1 -6.108(PP)4.573 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 2.074
(implements easy-to-program threads of e)10.131 F -.15(xe)-.15 G 2.074
(cution, b).15 F 2.074(ut a)-.2 F -.2(vo)-.2 G 2.074
(ids the problems of preempti).2 F -.15(ve)-.25 G
(scheduling by using non-preempti)108 694.8 Q .3 -.15(ve s)-.25 H
(cheduling instead.).15 E .48(This sounds lik)108 711.6 R .48
(e, and is, a useful approach. Ne)-.1 F -.15(ve)-.25 G .479
(rtheless, one has to k).15 F .479(eep the implications of non-preemp-)
-.1 F(ti)108 723.6 Q 1.983 -.15(ve t)-.25 H 1.683
(hread scheduling in mind when w).15 F 1.684(orking with)-.1 F F1 -6.108
(PP)4.184 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 4.184(.T)5.558 G
1.684(he follo)-4.184 F 1.684(wing list summarizes a fe)-.25 F 4.184(we)
-.25 G(ssential)-4.184 E 163.315(2002-10-15 perl)72 768 R 204.975
(v5.6.1 4)2.5 F EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E(points:)108 84 Q/F1 10/Times-Bold@0 SF -4.998(oo)108 100.8 S
-6.108(PP)118 112.8 S -3.328(tt)6.108 G 11.116 -5.558(hh pp)3.328 H
6.196 -4.438(rr o)5.558 H -.1(ov)-.56 G(vi)-4.898 E(id)-2.778 E(de)
-5.558 E(es)-4.438 E 2.5(sm)-3.888 G(ma)-10.828 E(ax)-4.998 E(xi)-4.998
E(im)-2.778 E(mu)-8.328 E(um)-5.558 E 2.5(mp)-8.328 G(po)-8.058 E(or)
-4.998 E(rt)-4.438 E(ta)-3.328 E(ab)-4.998 E(bi)-5.558 E(il)-2.778 E(li)
-2.778 E(it)-2.778 E(ty)-3.328 E -.55(y,)-4.998 G 2.5(,b)-1.948 G -.2
(bu)-8.058 G(ut)-5.358 E(t)-3.328 E/F2 9/Times-Bold@0 SF -6.496(NN)2.5 G
11.39 -7(OO T)6.496 H(T).999 E F1 -3.328(tt)2.5 G -5.558(hh)3.328 G
8.876 -4.438(ee f)5.558 H(fa)1.11 E(an)-4.998 E(nc)-5.558 E(ci)-4.438 E
(ie)-2.778 E(es)-4.438 E(st)-3.888 E 2.5(tf)-3.328 G(fe)-5.828 E(ea)
-4.438 E(at)-4.998 E(tu)-3.328 E(ur)-5.558 E -.18(re)-4.438 G(es)-4.258
E(s)-3.888 E F0(.)A 1.081(This is, because it uses a nifty and portable)
118 130.8 R/F3 9/Times-Roman@0 SF(POSIX/ANSI-C)3.581 E F0 1.08
(approach for thread creation \(and this w)3.581 F(ay)-.1 E(doesn')118
142.8 Q 3.615(tr)-.18 G 1.115(equire an)-3.615 F 3.615(yp)-.15 G 1.115(\
latform dependent assembler hacks\) and schedules the threads in non-pr\
eempti)-3.615 F -.15(ve)-.25 G -.1(wa)118 154.8 S 3.169(y\().1 G .669
(which doesn')-3.169 F 3.169(tr)-.18 G .669(equire unportable f)-3.169 F
.669(acilities lik)-.1 F(e)-.1 E/F4 10/Courier@0 SF(SIGVTALRM)3.169 E F0
.669(\). On the other hand, this w)B .668(ay not all)-.1 F -.1(fa)118
166.8 S(nc).1 E 2.83(yt)-.15 G .33
(hreading features can be implemented.)-2.83 F(Ne)5.33 E -.15(ve)-.25 G
.33(rtheless the a).15 F -.25(va)-.2 G .33(ilable f).25 F .33
(acilities are enough to pro)-.1 F(vide)-.15 E 2.5(ar)118 178.8 S(ob)
-2.5 E(ust and full-featured threading system.)-.2 E F1 -4.998(oo)108
195.6 S -6.108(PP)118 207.6 S -3.328(tt)6.108 G 11.346 -5.558(hh i)3.328
H(in)2.78 E(nc)-5.558 E(cr)-4.438 E -.18(re)-4.438 G(ea)-4.258 E(as)
-4.998 E(se)-3.888 E(es)-4.438 E 2.73(st)-3.888 G(th)-6.058 E(he)-5.558
E 2.729(er)-4.438 G -.18(re)-7.167 G(es)-4.258 E(sp)-3.888 E(po)-5.558 E
(on)-4.998 E(ns)-5.558 E(si)-3.888 E -.1(iv)-2.778 G -.1(ve)-4.898 G(en)
-4.338 E(ne)-5.558 E(es)-4.438 E(ss)-3.888 E 2.729(sa)-3.888 G(an)-7.727
E(nd)-5.558 E 2.729(dc)-5.558 G(co)-7.167 E(on)-4.998 E(nc)-5.558 E(cu)
-4.438 E(ur)-5.558 E(rr)-4.438 E -.18(re)-4.438 G(en)-4.258 E(nc)-5.558
E(cy)-4.438 E 2.729(yo)-4.998 G(of)-7.727 E 2.729(fa)-3.328 G(an)-7.727
E 2.729(ne)-5.558 G -.15(ev)-7.167 G -.1(ve)-4.848 G(en)-4.338 E(nt)
-5.558 E(t-)-3.328 E(-d)-3.328 E(dr)-5.558 E(ri)-4.438 E -.1(iv)-2.778 G
-.1(ve)-4.898 G(en)-4.338 E 2.729(na)-5.558 G(ap)-7.727 E(pp)-5.558 E
(pl)-5.558 E(li)-2.778 E(ic)-2.778 E(ca)-4.438 E(at)-4.998 E(ti)-3.328 E
(io)-2.778 E(on)-4.998 E(n,)-5.558 E 2.729(,b)-2.498 G -.2(bu)-8.287 G
(ut)-5.358 E(t)-3.328 E F2 -6.496(NN)2.729 G 11.39 -7(OO T)6.496 H(T)
.999 E F1 -3.328(tt)2.729 G -5.558(hh)3.328 G 9.105 -4.438(ee cc)5.558 H
-4.998(oo)4.438 G -5.558(nn)4.998 G -3.328(--)5.558 G -4.438(cc)118
219.6 S -5.558(uu)4.438 G -4.438(rr)5.558 G 6.196 -4.438(rr ee)4.438 H
-5.558(nn)4.438 G -4.438(cc)5.558 G 9.996 -4.998(yy oo)4.438 H 6.656
-3.328(ff n)4.998 H(nu)-2.23 E(um)-5.558 E(mb)-8.328 E(be)-5.558 E(er)
-4.438 E -.37(r-)-4.438 G(-c)-2.958 E(cr)-4.438 E(ru)-4.438 E(un)-5.558
E(nc)-5.558 E(ch)-4.438 E(hi)-5.558 E(in)-2.778 E(ng)-5.558 E 2.5(ga)
-4.998 G(ap)-7.498 E(pp)-5.558 E(pl)-5.558 E(li)-2.778 E(ic)-2.778 E(ca)
-4.438 E(at)-4.998 E(ti)-3.328 E(io)-2.778 E(on)-4.998 E(ns)-5.558 E(s)
-3.888 E F0(.)A .169(The reason is the non-preempti)118 237.6 R .469
-.15(ve s)-.25 H .169(cheduling. Number).15 F .169
(-crunching applications usually require preempti)-.2 F -.15(ve)-.25 G
.474(scheduling to achie)118 249.6 R .774 -.15(ve c)-.25 H(oncurrenc).15
E 2.974(yb)-.15 G .474(ecause of their long)-2.974 F F3(CPU)2.973 E F0
-.2(bu)2.973 G .473(rsts. F).2 F .473(or them, non-preempti)-.15 F .773
-.15(ve s)-.25 H(chedul-).15 E 1.406(ing \(e)118 261.6 R -.15(ve)-.25 G
3.906(nt).15 G 1.406(ogether with e)-3.906 F 1.406
(xplicit yielding\) pro)-.15 F 1.406
(vides only the old concept of `coroutines'. On the other)-.15 F 1.286
(hand, e)118 273.6 R -.15(ve)-.25 G 1.286(nt dri).15 F -.15(ve)-.25 G
3.786(na).15 G 1.286(pplications bene\214t greatly from non-preempti)
-3.786 F 1.586 -.15(ve s)-.25 H 1.286(cheduling. The).15 F 3.786(yh)-.15
G -2.25 -.2(av e)-3.786 H 1.285(only short)3.985 F F3(CPU)118 285.6 Q F0
-.2(bu)4.445 G 1.945(rsts and lots of e).2 F -.15(ve)-.25 G 1.945
(nts to w).15 F 1.945(ait on, and this w)-.1 F 1.946(ay run f)-.1 F
1.946(aster under non-preempti)-.1 F 2.246 -.15(ve s)-.25 H(cheduling)
.15 E .198(because no unnecessary conte)118 297.6 R .197
(xt switching occurs, as it is the case for preempti)-.15 F .497 -.15
(ve s)-.25 H .197(cheduling. That').15 F 2.697(sw)-.55 G -.05(hy)-2.697
G F1 -6.108(PP)118 309.6 S -3.328(tt)6.108 G -5.558(hh)3.328 G F0
(is mainly intended for serv)8.058 E
(er type applications, although there is no technical restriction.)-.15
E F1 -4.998(oo)108 326.4 S -6.108(PP)118 338.4 S -3.328(tt)6.108 G
11.116 -5.558(hh r)3.328 H -.18(re)1.12 G(eq)-4.258 E(qu)-5.558 E(ui)
-5.558 E(ir)-2.778 E -.18(re)-4.438 G(es)-4.258 E 2.5(st)-3.888 G(th)
-5.828 E(hr)-5.558 E -.18(re)-4.438 G(ea)-4.258 E(ad)-4.998 E(d-)-5.558
E(-s)-3.328 E(sa)-3.888 E(af)-4.998 E(fe)-3.328 E 2.5(ef)-4.438 G(fu)
-5.828 E(un)-5.558 E(nc)-5.558 E(ct)-4.438 E(ti)-3.328 E(io)-2.778 E(on)
-4.998 E(ns)-5.558 E(s,)-3.888 E 2.5(,b)-2.498 G -.2(bu)-8.058 G(ut)
-5.358 E(t)-3.328 E F2 -6.496(NN)2.5 G 11.39 -7(OO T)6.496 H(T).999 E F1
6.196 -4.438(rr ee)2.5 H -4.438(ee)4.438 G -5.558(nn)4.438 G -3.328(tt)
5.558 G -4.438(rr)3.328 G -4.998(aa)4.438 G -5.558(nn)4.998 G 6.656
-3.328(tt ff)5.558 H -5.558(uu)3.328 G -5.558(nn)5.558 G -4.438(cc)5.558
G -3.328(tt)4.438 G -2.778(ii)3.328 G -4.998(oo)2.778 G -5.558(nn)4.998
G -3.888(ss)5.558 G F0(.)3.888 E 1.124(This nice f)118 356.4 R 1.124
(act e)-.1 F 1.124(xists ag)-.15 F 1.124
(ain because of the nature of non-preempti)-.05 F 1.424 -.15(ve s)-.25 H
1.124(cheduling, where a function isn').15 F(t)-.18 E .034
(interrupted and this w)118 368.4 R .033(ay cannot be reentered before \
it returned. This is a great portability bene\214t, because)-.1 F 1.01
(thread-safety can be achie)118 380.4 R -.15(ve)-.25 G 3.511(dm).15 G
1.011(ore easily than reentrance possibility)-3.511 F 3.511(.E)-.65 G
1.011(specially this means that under)-3.511 F F1 -6.108(PP)118 392.4 S
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 .121(more e)8.179 F .12
(xisting third-party libraries can be used without side-ef)-.15 F .12
(fects than it')-.25 F 2.62(st)-.55 G .12(he case for other thread-)
-2.62 F(ing systems.)118 404.4 Q F1 -4.998(oo)108 421.2 S -6.108(PP)118
433.2 S -3.328(tt)6.108 G 11.116 -5.558(hh dd)3.328 H -4.998(oo)5.558 G
-4.438(ee)4.998 G -3.888(ss)4.438 G -5.558(nn)3.888 G -3.328('')5.558 G
6.656 -3.328(tt r)3.328 H -.18(re)-1.11 G(eq)-4.258 E(qu)-5.558 E(ui)
-5.558 E(ir)-2.778 E -.18(re)-4.438 G 2.5(ea)-4.258 G(an)-7.498 E(ny)
-5.558 E 2.5(yk)-4.998 G -.1(ke)-8.058 G(er)-4.338 E -.15(rn)-4.438 G
(ne)-5.408 E(el)-4.438 E 2.5(ls)-2.778 G(su)-6.388 E(up)-5.558 E(pp)
-5.558 E(po)-5.558 E(or)-4.998 E(rt)-4.438 E(t,)-3.328 E 2.5(,b)-2.498 G
-.2(bu)-8.058 G(ut)-5.358 E 2.5(tc)-3.328 G(ca)-6.938 E(an)-4.998 E(n)
-5.558 E F2 -6.496(NN)2.5 G 11.39 -7(OO T)6.496 H(T).999 E F1 -5.558(bb)
2.5 G -4.438(ee)5.558 G -5.558(nn)4.438 G -4.438(ee)5.558 G -5.558<8c8c>
4.438 G 6.656 -3.328(tt ff)5.558 H 6.196 -4.438(rr o)3.328 H(om)-.56 E
2.5(mm)-8.328 G(mu)-10.828 E(ul)-5.558 E(lt)-2.778 E(ti)-3.328 E(ip)
-2.778 E(pr)-5.558 E -.18(ro)-4.438 G(oc)-4.818 E(ce)-4.438 E(es)-4.438
E(ss)-3.888 E(so)-3.888 E(or)-4.998 E 2.5(rm)-4.438 G(ma)-10.828 E(ac)
-4.998 E(ch)-4.438 E(hi)-5.558 E(in)-2.778 E(ne)-5.558 E(es)-4.438 E(s)
-3.888 E F0(.)A .167(This means that)118 451.2 R F1 -6.108(PP)2.667 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 .168(runs on almost all Unix k)
8.225 F .168(ernels, because the k)-.1 F .168
(ernel does not need to be a)-.1 F -.1(wa)-.15 G .168(re of the).1 F F1
-6.108(PP)118 463.2 S -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .774
(threads \(because the)8.832 F 3.274(ya)-.15 G .774
(re implemented entirely in user)-3.274 F .773
(-space\). On the other hand, it cannot bene\214t)-.2 F .292(from the e)
118 475.2 R .292(xistence of multiprocessors, because for this, k)-.15 F
.292(ernel support w)-.1 F .292(ould be needed. In practice, this)-.1 F
1.099(is no problem, because multiprocessor systems are rare, and porta\
bility is almost more important than)118 487.2 R(highest concurrenc)118
499.2 Q -.65(y.)-.15 G F1 -6.668(TT)108 522 S -5.558(hh)6.668 G 8.876
-4.438(ee l)5.558 H(li)1.66 E(if)-2.778 E(fe)-3.328 E 2.5(ec)-4.438 G
(cy)-6.938 E(yc)-4.998 E(cl)-4.438 E(le)-2.778 E 2.5(eo)-4.438 G(of)
-7.498 E 2.5(fa)-3.328 G 2.5(at)-7.498 G(th)-5.828 E(hr)-5.558 E -.18
(re)-4.438 G(ea)-4.258 E(ad)-4.998 E(d)-5.558 E F0 1.634 -.8(To u)108
538.8 T .034(nderstand the).8 F F1 -6.108(PP)2.534 G -3.328(tt)6.108 G
-5.558(hh)3.328 G F0 .034(Application Programming Interf)8.092 F .035
(ace \()-.1 F F3(API)A F0 .035
(\), it helps to \214rst understand the life c)B .035(ycle of)-.15 F 2.5
(at)108 550.8 S(hread in the)-2.5 E F1 -6.108(PP)2.5 G -3.328(tt)6.108 G
-5.558(hh)3.328 G F0
(threading system. It can be illustrated with the follo)8.058 E
(wing directed graph:)-.25 E F4(NEW)186 567.6 Q/F5 10/Symbol SF<ef>192
579.6 Q F4(V)192 591.6 Q(+---> READY ---+)144 603.6 Q F5<ef>144 615.6 Q
F4(^)42 E F5<ef>36 E 42<efef>144 627.6 S F4(V)-6 E
(WAITING <--+-- RUNNING)126 639.6 Q F5<ef>234 651.6 Q F4 84(:V)144 663.6
S 36(SUSPENDED DEAD)126 675.6 R F0 .092(When a ne)108 699.6 R 2.592(wt)
-.25 G .091(hread is created, it is mo)-2.592 F -.15(ve)-.15 G 2.591(di)
.15 G .091(nto the)-2.591 F F2 -6.496(NN)2.591 G -6.001(EE)6.496 G
-8.998(WW)6.001 G F0 .091(queue of the scheduler)11.589 F 2.591(.O)-.55
G 2.591(nt)-2.591 G .091(he ne)-2.591 F .091(xt dispatching for)-.15 F
.202(this thread, the scheduler picks it up from there and mo)108 711.6
R -.15(ve)-.15 G 2.702(si).15 G 2.702(tt)-2.702 G 2.702(ot)-2.702 G(he)
-2.702 E F2 -6.496(RR)2.702 G -6.001(EE)6.496 G -6.496(AA)6.001 G 10.382
-6.496(DD YY)6.496 H F0 .203(queue. This is a queue contain-)9.198 F
1.916(ing all threads which w)108 723.6 R 1.915(ant to perform a)-.1 F
F3(CPU)4.415 E F0 -.2(bu)4.415 G 1.915(rst. There the).2 F 4.415(ya)-.15
G 1.915(re queued in priority order)-4.415 F 4.415(.O)-.55 G 4.415(ne)
-4.415 G(ach)-4.415 E 163.315(2002-10-15 perl)72 768 R 204.975(v5.6.1 5)
2.5 F EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E .825(dispatching step, the scheduler al)108 84 R -.1(wa)-.1 G .825
(ys remo).1 F -.15(ve)-.15 G 3.325(st).15 G .825
(he thread with the highest priority only)-3.325 F 3.326(.I)-.65 G 3.326
(tt)-3.326 G .826(hen increases)-3.326 F
(the priority of all remaining threads by 1, to pre)108 96 Q -.15(ve)
-.25 G(nt them from `starving'.).15 E .716(The thread which w)108 112.8
R .715(as remo)-.1 F -.15(ve)-.15 G 3.215(df).15 G .715(rom the)-3.215 F
/F1 9/Times-Bold@0 SF -6.496(RR)3.215 G -6.001(EE)6.496 G -6.496(AA)
6.001 G 10.382 -6.496(DD YY)6.496 H F0 .715(queue is the ne)9.711 F(w)
-.25 E F1 10.472 -6.496(RR UU)3.215 H -6.496(NN)6.496 G -6.496(NN)6.496
G -3.499(II)6.496 G -6.496(NN)3.499 G -7(GG)6.496 G F0 .715
(thread \(there is al)10.215 F -.1(wa)-.1 G .715(ys just).1 F(one)108
124.8 Q F1 10.472 -6.496(RR UU)3.766 H -6.496(NN)6.496 G -6.496(NN)6.496
G -3.499(II)6.496 G -6.496(NN)3.499 G -7(GG)6.496 G F0 1.267
(thread, of course\). The)10.766 F F1 10.472 -6.496(RR UU)3.767 H -6.496
(NN)6.496 G -6.496(NN)6.496 G -3.499(II)6.496 G -6.496(NN)3.499 G -7(GG)
6.496 G F0 1.267(thread is assigned e)10.767 F -.15(xe)-.15 G 1.267
(cution control. After this thread).15 F 1.278(yields e)108 136.8 R -.15
(xe)-.15 G 1.278(cution \(either e).15 F 1.277(xplicitly by yielding e)
-.15 F -.15(xe)-.15 G 1.277
(cution or implicitly by calling a function which w).15 F(ould)-.1 E
.637(block\) there are three possibilities: Either it has terminated, t\
hen it is mo)108 148.8 R -.15(ve)-.15 G 3.138(dt).15 G 3.138(ot)-3.138 G
(he)-3.138 E F1 -6.496(DD)3.138 G -6.001(EE)6.496 G -6.496(AA)6.001 G
-6.496(DD)6.496 G F0 .638(queue, or it has)9.634 F -2.15 -.25(ev e)108
160.8 T .562(nts on which it w).25 F .562(ants to w)-.1 F .562
(ait, then it is mo)-.1 F -.15(ve)-.15 G 3.062(di).15 G .562(nto the)
-3.062 F F1 14.666 -8.998(WW A)3.061 H(AI)2.502 E(IT)-3.499 E(TI)-6.001
E(IN)-3.499 E(NG)-6.496 E(G)-7 E F0 .561(queue. Else it is assumed it w)
3.061 F .561(ants to)-.1 F(perform more)108 172.8 Q/F2 9/Times-Roman@0
SF(CPU)2.5 E F0 -.2(bu)2.5 G(rsts and immediately enters the).2 E F1
-6.496(RR)2.5 G -6.001(EE)6.496 G -6.496(AA)6.001 G 10.382 -6.496(DD YY)
6.496 H F0(queue ag)8.996 E(ain.)-.05 E 1.657(Before the ne)108 189.6 R
1.657(xt thread is tak)-.15 F 1.657(en out of the)-.1 F F1 -6.496(RR)
4.158 G -6.001(EE)6.496 G -6.496(AA)6.001 G 10.382 -6.496(DD YY)6.496 H
F0 1.658(queue, the)10.654 F F1 14.666 -8.998(WW A)4.158 H(AI)2.502 E
(IT)-3.499 E(TI)-6.001 E(IN)-3.499 E(NG)-6.496 E(G)-7 E F0 1.658
(queue is check)4.158 F 1.658(ed for pending)-.1 F -2.15 -.25(ev e)108
201.6 T .523(nts. If one or more e).25 F -.15(ve)-.25 G .522
(nts occurred, the threads that are w).15 F .522
(aiting on them are immediately mo)-.1 F -.15(ve)-.15 G 3.022(dt).15 G
3.022(ot)-3.022 G(he)-3.022 E F1 -6.496(RR)108 213.6 S -6.001(EE)6.496 G
-6.496(AA)6.001 G 10.382 -6.496(DD YY)6.496 H F0(queue.)8.996 E 1.552
(The purpose of the)108 230.4 R F1 -6.496(NN)4.053 G -6.001(EE)6.496 G
-8.998(WW)6.001 G F0 1.553(queue has to do with the f)13.051 F 1.553
(act that in)-.1 F/F3 10/Times-Bold@0 SF -6.108(PP)4.053 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 4.053(at)9.611 G 1.553(hread ne)-4.053 F
-.15(ve)-.25 G 4.053(rd).15 G 1.553(irectly switches to)-4.053 F .64
(another thread. A thread al)108 242.4 R -.1(wa)-.1 G .64(ys yields e).1
F -.15(xe)-.15 G .64
(cution to the scheduler and the scheduler dispatches to the ne).15 F
(xt)-.15 E .06(thread. So a freshly spa)108 254.4 R .06
(wned thread has to be k)-.15 F .06(ept some)-.1 F .06
(where until the scheduler gets a chance to pick it up)-.25 F
(for scheduling. That is what the)108 266.4 Q F1 -6.496(NN)2.5 G -6.001
(EE)6.496 G -8.998(WW)6.001 G F0(queue is for)11.498 E(.)-.55 E .027
(The purpose of the)108 283.2 R F1 -6.496(DD)2.527 G -6.001(EE)6.496 G
-6.496(AA)6.001 G -6.496(DD)6.496 G F0 .027
(queue is to support thread joining. When a thread is mark)9.023 F .026
(ed to be unjoinable, it is)-.1 F 1.279(directly kick)108 295.2 R 1.279
(ed out of the system after it terminated. But when it is joinable, it \
enters the)-.1 F F1 -6.496(DD)3.78 G -6.001(EE)6.496 G -6.496(AA)6.001 G
-6.496(DD)6.496 G F0(queue.)10.276 E
(There it remains until another thread joins it.)108 307.2 Q(Finally)108
324 Q 3.338(,t)-.65 G .838(here is a special separated queue named)
-3.338 F F1 -5.002(SS)3.338 G -6.496(UU)5.002 G -5.002(SS)6.496 G -5.497
(PP)5.002 G -6.001(EE)5.497 G -6.496(NN)6.001 G -6.496(DD)6.496 G -6.001
(EE)6.496 G -6.496(DD)6.001 G F0 3.338(,t)6.496 G 3.338(ow)-3.338 G .837
(here threads can be manually mo)-3.338 F -.15(ve)-.15 G(d).15 E 1.17
(from the)108 336 R F1 -6.496(NN)3.67 G -6.001(EE)6.496 G -8.998(WW)
6.001 G F0(,)8.998 E F1 -6.496(RR)3.67 G -6.001(EE)6.496 G -6.496(AA)
6.001 G 10.382 -6.496(DD YY)6.496 H F0(or)10.166 E F1 14.666 -8.998
(WW A)3.67 H(AI)2.502 E(IT)-3.499 E(TI)-6.001 E(IN)-3.499 E(NG)-6.496 E
(G)-7 E F0 1.171
(queues by the application. The purpose of this special queue is to)3.67
F .859(temporarily absorb suspended threads until the)108 348 R 3.359
(ya)-.15 G .858(re ag)-3.359 F .858
(ain resumed by the application. Suspended threads)-.05 F 1.471
(do not cost scheduling or e)108 360 R -.15(ve)-.25 G 1.471
(nt handling resources, because the).15 F 3.971(ya)-.15 G 1.472
(re temporarily completely out of the)-3.971 F(scheduler')108 372 Q
2.992(ss)-.55 G .491(cope. If a thread is resumed, it is mo)-2.992 F
-.15(ve)-.15 G 2.991(db).15 G .491
(ack to the queue from where it originally came and)-2.991 F(this w)108
384 Q(ay ag)-.1 E(ain enters the schedulers scope.)-.05 E/F4 10.95
/Times-Bold@0 SF -7.904(AA)72 400.8 S -6.688(PP)7.904 G -6.688(PP)6.688
G -7.302(LL)6.688 G -4.258(II)7.302 G -7.904(CC)4.258 G 12.03 -7.904
(AA T)7.904 H(TI).602 E(IO)-4.258 E(ON)-8.517 E 2.738(NP)-7.904 G(PR)
-9.426 E -.329(RO)-7.904 G(OG)-8.188 E(GR)-8.517 E(RA)-7.904 E(AM)-7.904
E(MM)-10.335 E(MI)-10.335 E(IN)-4.258 E(NG)-7.904 E 2.738(GI)-8.517 G
(IN)-6.996 E(NT)-7.904 E(TE)-7.302 E(ER)-7.302 E(RF)-7.904 E -.986(FA)
-6.688 G -.602(AC)-6.918 G(CE)-7.302 E 2.738(E\()-7.302 G(\(A)-6.382 E
(AP)-7.904 E(PI)-6.688 E(I\))-4.258 E(\))-3.644 E F0 .756(In the follo)
108 412.8 R .756(wing the)-.25 F F3 -6.108(PP)3.256 G -3.328(tt)6.108 G
-5.558(hh)3.328 G/F5 10/Times-Italic@0 SF .756(Application Pr)8.814 F
-.1(og)-.45 G -.15(ra).1 G .756(mming Interface).15 F F0(\()3.256 E F2
(API)A F0 3.256(\)i)C 3.256(sd)-3.256 G .757(iscussed in detail. W)
-3.256 F .757(ith the kno)-.4 F(wl-)-.25 E .242(edge gi)108 424.8 R -.15
(ve)-.25 G 2.742(na).15 G(bo)-2.742 E -.15(ve)-.15 G 2.741(,i).15 G
2.741(ts)-2.741 G .241(hould no)-2.741 F 2.741(wb)-.25 G 2.741(ee)-2.741
G .241(asy to understand ho)-2.741 F 2.741(wt)-.25 G 2.741(op)-2.741 G
.241(rogram threads with this)-2.741 F F2(API)2.741 E F0 2.741(.I)C
2.741(ng)-2.741 G .241(ood Unix)-2.741 F(tradition,)108 436.8 Q F3
-6.108(PP)2.98 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .48
(functions use special return v)8.538 F .48(alues \()-.25 F/F6 10
/Courier@0 SF(NULL)A F0 .48(in pointer conte)2.98 F(xt,)-.15 E F6(FALSE)
2.98 E F0 .481(in boolean conte)2.981 F .481(xt and)-.15 F F6<ad31>108
448.8 Q F0 .127(in inte)2.627 F .127(ger conte)-.15 F .127
(xt\) to indicate an error condition and set \(or pass through\) the)
-.15 F F6(errno)2.626 E F0 .126(system v)2.626 F .126(ariable to)-.25 F
(pass more details about the error to the caller)108 460.8 Q(.)-.55 E F3
-7.778(GG)108 483.6 S -2.778(ll)7.778 G -4.998(oo)2.778 G -5.558(bb)
4.998 G -4.998(aa)5.558 G 5.556 -2.778(ll L)4.998 H(Li)-3.89 E(ib)-2.778
E(br)-5.558 E(ra)-4.438 E(ar)-4.998 E(ry)-4.438 E 2.5(yM)-4.998 G(Ma)
-11.938 E(an)-4.998 E(na)-5.558 E(ag)-4.998 E(ge)-4.998 E(em)-4.438 E
(me)-8.328 E(en)-4.438 E(nt)-5.558 E(t)-3.328 E F0 .428(The follo)108
500.4 R .429(wing functions act on the library as a whole.)-.25 F(The)
5.429 E 2.929(ya)-.15 G .429(re used to initialize and shutdo)-2.929 F
.429(wn the sched-)-.25 F(uler and fetch information from it.)108 512.4
Q(int)108 529.2 Q F3 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G -2.778(ii)4.998 G -5.558(nn)2.778 G -2.778(ii)5.558 G
-3.328(tt)2.778 G F0(\(v)3.328 E(oid\);)-.2 E 1.322
(This initializes the)128 541.2 R F3 -6.108(PP)3.822 G -3.328(tt)6.108 G
-5.558(hh)3.328 G F0(library)9.38 E 3.822(.I)-.65 G 3.822(th)-3.822 G
1.322(as to be the \214rst)-3.822 F F3 -6.108(PP)3.821 G -3.328(tt)6.108
G -5.558(hh)3.328 G F2(API)9.379 E F0 1.321
(function call in an application, and is)3.821 F(mandatory)128 553.2 Q
4.003(.I)-.65 G(t')-4.003 E 4.003(su)-.55 G 1.503(sually done at the be)
-4.003 F 1.503(gin of the)-.15 F F5(main\(\))4.003 E F0 1.504
(function of the application. This implicitly)4.003 F(spa)128 565.2 Q
1.094(wns the internal scheduler thread and transforms the single e)-.15
F -.15(xe)-.15 G 1.093(cution unit of the current process).15 F
(into a thread \(the `main' thread\). It returns)128 577.2 Q F6(TRUE)2.5
E F0(on success and)2.5 E F6(FALSE)2.5 E F0(on error)2.5 E(.)-.55 E(int)
108 594 Q F3 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998
(__)5.558 G -5.558(kk)4.998 G -2.778(ii)5.558 G -2.778(ll)2.778 G -2.778
(ll)2.778 G F0(\(v)2.778 E(oid\);)-.2 E .334(This kills the)128 606 R F3
-6.108(PP)2.834 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0(library)8.392 E
2.834(.I)-.65 G 2.834(ts)-2.834 G .334(hould be the last)-2.834 F F3
-6.108(PP)2.834 G -3.328(tt)6.108 G -5.558(hh)3.328 G F2(API)8.392 E F0
.335(function call in an application, b)2.835 F .335(ut is not really)
-.2 F 1.336(required. It')128 618 R 3.836(su)-.55 G 1.336(sually done a\
t the end of the main function of the application. At least, it has to \
be)-3.836 F .111(called from within the main thread. It implicitly kill\
s all threads and transforms back the calling thread)128 630 R .292
(into the single e)128 642 R -.15(xe)-.15 G .292
(cution unit of the underlying process.).15 F .291(The usual w)5.291 F
.291(ay to terminate a)-.1 F F3 -6.108(PP)2.791 G -3.328(tt)6.108 G
-5.558(hh)3.328 G F0(application)8.349 E .981(is either a simple `)128
654 R F6(pth_exit\(0\);)A F0 3.482('i)C 3.482(nt)-3.482 G .982
(he main thread \(which w)-3.482 F .982
(aits for all other threads to termi-)-.1 F 1.196(nate, kills the threa\
ding system and then terminates the process\) or a `)128 666 R F6 1.196
(pth_kill\(\); exit\(0\))B F0(')A 2.37(\(which immediately kills the th\
reading system and terminates the process\). The)128 678 R F5
(pth_kill\(\))4.87 E F0(return)4.87 E .604
(immediately with a return code of)128 690 R F6(FALSE)3.104 E F0 .604
(if it is not called from within the main thread. Else it kills)3.104 F
(the threading system and returns)128 702 Q F6(TRUE)2.5 E F0(.)A 163.315
(2002-10-15 perl)72 768 R 204.975(v5.6.1 6)2.5 F EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E(long)108 84 Q/F1 10/Times-Bold@0 SF -5.558(pp)2.5 G -3.328(tt)
5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -4.438(cc)4.998 G -3.328(tt)
4.438 G -4.438(rr)3.328 G -2.778(ll)4.438 G F0(\(unsigned long)2.778 E
/F2 10/Times-Italic@0 SF(query)2.5 E F0 2.5(,.)C(..\);)-2.5 E 1.581
(This is a generalized query/control function for the)128 96 R F1 -6.108
(PP)4.082 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0(library)9.64 E 6.582
(.T)-.65 G 1.582(he ar)-6.582 F(gument)-.18 E F2(query)4.082 E F0 1.582
(is a bitmask)4.082 F(formed out of one or more)128 108 Q/F3 10
/Courier@0 SF(PTH_CTRL_)2.5 E/F4 9/Times-Italic@0 SF(XXXX)A F0
(queries. Currently the follo)2.5 E(wing queries are supported:)-.25 E
.868(This returns the total number of threads currently in e)128 120 R
3.367(xistence. This)-.15 F .867(query actually is formed out of)3.367 F
.342(the combination of queries for threads in a particular state, i.e.\
, the)128 132 R F3(PTH_CTRL_GETTHREADS)2.843 E F0(query)2.843 E
(is equal to the OR-combination of all the follo)128 144 Q
(wing specialized queries:)-.25 E F3(PTH_CTRL_GETTHREADS_NEW)128 162 Q
F0 1.564(for the number of threads in the ne)4.065 F 4.064(wq)-.25 G
1.564(ueue \(threads created via)-4.064 F F2(pth_spawn)128 174 Q F0 1.25
(\(3\) b)1.666 F 1.25(ut still not scheduled once\),)-.2 F F3
(PTH_CTRL_GETTHREADS_READY)3.75 E F0 1.251(for the number of)3.751 F
.788(threads in the ready queue \(threads who w)128 186 R .788
(ant to do)-.1 F/F5 9/Times-Roman@0 SF(CPU)3.288 E F0 -.2(bu)3.288 G
(rsts\),).2 E F3(PTH_CTRL_GETTHREADS_RUN-)3.287 E(NING)128 198 Q F0
5.983(for the number of running threads \(al)8.482 F -.1(wa)-.1 G 5.983
(ys just one thread!\),).1 F F3(PTH_CTRL_GET-)8.483 E(THREADS_WAITING)
128 210 Q F0 1.487(for the number of threads in the w)3.987 F 1.487
(aiting queue \(threads w)-.1 F 1.487(aiting for e)-.1 F -.15(ve)-.25 G
(nts\),).15 E F3(PTH_CTRL_GETTHREADS_SUSPENDED)128 222 Q F0 .361
(for the number of threads in the suspended queue \(threads)2.861 F -.1
(wa)128 234 S .668(iting to be resumed\) and).1 F F3
(PTH_CTRL_GETTHREADS_DEAD)3.168 E F0 .667
(for the number of threads in the ne)3.168 F(w)-.25 E .95
(queue \(terminated threads w)128 246 R .95(aiting for a join\).)-.1 F
.95(This requires a second ar)5.95 F .95(gument of type `)-.18 F F3 .95
(float *)B F0(')A .828(\(pointer to a \215oating point v)128 258 R 3.328
(ariable\). It)-.25 F .828(stores a \215oating point v)3.328 F .828
(alue describing the e)-.25 F .828(xponential a)-.15 F -.15(ve)-.2 G -.2
(r-).15 G .853(aged load of the scheduler in this v)128 270 R .853
(ariable. The load is a function from the number of threads in the)-.25
F .874(ready queue of the schedulers dispatching unit.)128 282 R .873
(So a load around 1.0 means there is only one ready)5.874 F .232(thread\
 \(the standard situation when the application has no high load\). A hi\
gher load v)128 294 R .232(alue means there)-.25 F 3.706(am)128 306 S
1.206(ore threads ready who w)-3.706 F 1.206(ant to do)-.1 F F5(CPU)
3.706 E F0 -.2(bu)3.706 G 1.206(rsts. The a).2 F -.15(ve)-.2 G 1.205
(rage load v).15 F 1.205(alue updates once per second)-.25 F(only)128
318 Q 3.318(.T)-.65 G .818(he return v)-3.318 F .818
(alue for this query is al)-.25 F -.1(wa)-.1 G .818(ys 0.).1 F .818
(This requires a second ar)5.818 F .819(gument of type `)-.18 F F3
(pth_t)A F0(')A .161(which identi\214es a thread.)128 330 R .161
(It returns the priority \(ranging from)5.161 F F3(PTH_PRIO_MIN)2.661 E
F0(to)2.66 E F3(PTH_PRIO_MAX)2.66 E F0(\))A 1.155(of the gi)128 342 R
-.15(ve)-.25 G 3.655(nt).15 G 3.655(hread. This)-3.655 F 1.156
(requires a second ar)3.655 F 1.156(gument of type `)-.18 F F3(pth_t)A
F0 3.656('w)C 1.156(hich identi\214es a thread. It)-3.656 F .516
(returns the name of the gi)128 354 R -.15(ve)-.25 G 3.016(nt).15 G .516
(hread, i.e., the return v)-3.016 F .516(alue of)-.25 F F2(pth_ctrl)
3.016 E F0 .515(\(3\) should be casted to a `)1.666 F F3(char)A(*)128
366 Q F0 2.529('. This)B .029(requires a second ar)2.529 F .029
(gument of type `)-.18 F F3 .029(FILE *)B F0 2.529('t)C 2.529(ow)-2.529
G .029(hich a summary of the internal)-2.529 F F1 -6.108(PP)2.53 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0(library)8.088 E .068(state is wr\
itten to. The main information which is currently written out is the cu\
rrent state of the thread)128 378 R(pool.)128 390 Q
(The function returns)128 408 Q F3<ad31>2.5 E F0(on error)2.5 E(.)-.55 E
(long)108 424.8 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G 7.396 -4.998(vv e)4.998 H(er).56 E(rs)-4.438 E(si)
-3.888 E(io)-2.778 E(on)-4.998 E(n)-5.558 E F0(\(v)A(oid\);)-.2 E .144
(This function returns a he)128 436.8 R(x-v)-.15 E .144(alue `0x)-.25 F
F2(V)A F4(RR)A F2(T)A F4(LL)A F0 2.644('w)C .145
(hich describes the current)-2.644 F F1 -6.108(PP)2.645 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 .145(library v)8.203 F(ersion.)-.15 E F2(V)
2.645 E F0 .145(is the)2.645 F -.15(ve)128 448.8 S(rsion,).15 E F4(RR)
3.584 E F0 1.084(the re)3.584 F(visions,)-.25 E F4(LL)3.584 E F0 1.084
(the le)3.584 F -.15(ve)-.25 G 3.583(la).15 G(nd)-3.583 E F2(T)3.583 E
F0 1.083(the type of the le)3.583 F -.15(ve)-.25 G 3.583(l\().15 G
(alphale)-3.583 E -.15(ve)-.25 G 1.083(l=0, betale).15 F -.15(ve)-.25 G
1.083(l=1, patch-).15 F(le)128 460.8 Q -.15(ve)-.25 G 1.288
(l=2, etc\). F).15 F 1.289(or instance)-.15 F F1 -6.108(PP)3.789 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 -.15(ve)9.347 G 1.289
(rsion 1.0b1 is encoded as 0x100101.).15 F 1.289
(The reason for this unusual)6.289 F .887(mapping is that this w)128
472.8 R .887(ay the v)-.1 F .887(ersion number is steadily)-.15 F F2
(incr)3.387 E(easing)-.37 E F0 3.387(.T)C .887(he same v)-3.387 F .886
(alue is also a)-.25 F -.25(va)-.2 G(ilable).25 E(under compile time as)
128 484.8 Q F3(PTH_VERSION)2.5 E F0(.)A F1 -6.668(TT)108 507.6 S -5.558
(hh)6.668 G 6.196 -4.438(rr ee)5.558 H -4.998(aa)4.438 G 11.116 -5.558
(dd A)4.998 H(At)-1.66 E(tt)-3.328 E(tr)-3.328 E(ri)-4.438 E(ib)-2.778 E
-.2(bu)-5.558 G(ut)-5.358 E(te)-3.328 E 2.5(eH)-4.438 G(Ha)-10.278 E(an)
-4.998 E(nd)-5.558 E(dl)-5.558 E(li)-2.778 E(in)-2.778 E(ng)-5.558 E(g)
-4.998 E F0(Attrib)108 524.4 Q 1.409(ute objects are used in)-.2 F F1
-6.108(PP)3.909 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 1.41(for tw)
9.467 F 3.91(ot)-.1 G 1.41(hings: First stand-alone/unbound attrib)-3.91
F 1.41(ute objects are used to)-.2 F 2.021(store attrib)108 536.4 R
2.021(utes for to be spa)-.2 F 2.021(wned threads.)-.15 F 2.021
(Bounded attrib)7.021 F 2.02(ute objects are used to modify attrib)-.2 F
2.02(utes of)-.2 F .871(already e)108 548.4 R .871
(xisting threads. The follo)-.15 F .871(wing attrib)-.25 F .871
(ute \214elds e)-.2 F .872(xists in attrib)-.15 F .872
(ute objects: Thread Priority between)-.2 F F3(PTH_PRIO_MIN)108 560.4 Q
F0(and)2.54 E F3(PTH_PRIO_MAX)2.54 E F0 5.04(.T)C .04(he def)-5.04 F .04
(ault is)-.1 F F3(PTH_PRIO_STD)2.54 E F0 5.04(.N)C .04
(ame of thread \(up to 40 char)-5.04 F(-)-.2 E 1.504
(acters are stored only\), mainly for deb)108 572.4 R 1.504
(ugging purposes.)-.2 F 1.504(The thread detachment type,)6.504 F F3
(TRUE)4.005 E F0 1.505(indicates a)4.005 F 1.806(joinable thread,)108
584.4 R F3(FALSE)4.306 E F0 1.806(indicates a detached thread. When a t\
hread is detached, after termination it is)4.306 F .048
(immediately kick)108 596.4 R .049
(ed out of the system instead of inserted into the dead queue.)-.1 F
.049(The thread cancellation state,)5.049 F 6.718
(i.e., a combination of)108 608.4 R F3(PTH_CANCEL_ENABLE)9.218 E F0(or)
9.217 E F3(PTH_CANCEL_DISABLE)9.217 E F0(and)9.217 E F3(PTH_CAN-)9.217 E
(CEL_DEFERRED)108 620.4 Q F0(or)3.388 E F3(PTH_CANCEL_ASYNCHRONOUS)3.388
E F0 5.888(.T)C .888(he thread stack size in bytes. Use lo)-5.888 F .889
(wer v)-.25 F(alues)-.25 E 1.074(than 64)108 632.4 R F5(KB)3.574 E F0
1.074(with great care!)3.574 F 3.574(Ap)6.074 G 1.074(ointer to the lo)
-3.574 F 1.074(wer address of a chunk of)-.25 F F2(malloc)3.574 E F0
1.073(\(3\)'ed memory for the)1.666 F 2.609(stack. The)108 644.4 R .109
(time when the thread w)2.609 F .109(as spa)-.1 F 2.609(wned. This)-.15
F .11(can be queried only when the attrib)2.609 F .11
(ute object is bound)-.2 F 1.089(to a thread.)108 656.4 R 1.089
(The time when the thread w)6.089 F 1.089(as last dispatched.)-.1 F
1.089(This can be queried only when the attrib)6.089 F(ute)-.2 E 1.239
(object is bound to a thread.)108 668.4 R 1.239
(The total time the thread w)6.239 F 1.24(as running.)-.1 F 1.24
(This can be queried only when the)6.24 F(attrib)108 680.4 Q .199
(ute object is bound to a thread.)-.2 F .199(The thread start function.)
5.199 F .199(This can be queried only when the attrib)5.199 F(ute)-.2 E
.445(object is bound to a thread.)108 692.4 R .445(The thread start ar)
5.445 F 2.945(gument. This)-.18 F .445
(can be queried only when the attrib)2.945 F .445(ute object)-.2 F 6.337
(is bound to a thread.)108 704.4 R 6.337
(The scheduling state of the thread, i.e., either)11.337 F F3
(PTH_STATE_NEW)8.836 E F0(,)A F3(PTH_STATE_READY)108 716.4 Q F0(,)A F3
(PTH_STATE_WAITING)3.571 E F0 3.571(,o)C(r)-3.571 E F3(PTH_STATE_DEAD)
3.571 E F0 1.071(This can be queried only when)3.571 F .333(the attrib)
108 728.4 R .333(ute object is bound to a thread.)-.2 F .333(The e)5.333
F -.15(ve)-.25 G .332(nt ring the thread is w).15 F .332(aiting for)-.1
F 5.332(.T)-.55 G .332(his can be queried only)-5.332 F 163.315
(2002-10-15 perl)72 768 R 204.975(v5.6.1 7)2.5 F EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E .372(when the attrib)108 84 R .372
(ute object is bound to a thread.)-.2 F .373(Whether the attrib)5.373 F
.373(ute object is bound \()-.2 F/F1 10/Courier@0 SF(TRUE)A F0 2.873
(\)t)C 2.873(oat)-2.873 G .373(hread or)-2.873 F(not \()108 96 Q F1
(FALSE)A F0(\).)A(The follo)108 112.8 Q(wing)-.25 E/F2 9/Times-Roman@0
SF(API)2.5 E F0(functions can be used to handle the attrib)2.5 E
(ute objects:)-.2 E(pth_attr_t)108 129.6 Q/F3 10/Times-Bold@0 SF -5.558
(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -4.998
(aa)4.998 G -3.328(tt)4.998 G -3.328(tt)3.328 G -4.438(rr)3.328 G -4.998
(__)4.438 G -4.998(oo)4.998 G -3.328(ff)4.998 G F0(\(pth_t)3.328 E/F4 10
/Times-Italic@0 SF(tid)2.5 E F0(\);)A 1.833(This returns a ne)128 141.6
R 4.333(wa)-.25 G(ttrib)-4.333 E 1.833(ute object)-.2 F F4(bound)4.333 E
F0 1.833(to thread)4.333 F F4(tid)4.332 E F0 6.832(.A)C 2.132 -.15(ny q)
-6.832 H 1.832(ueries on this object directly fetch).15 F(attrib)128
153.6 Q .465(utes from)-.2 F F4(tid)2.965 E F0 2.965(.A)C .465
(nd attrib)-2.965 F .466(ute modi\214cations directly change)-.2 F F4
(tid)2.966 E F0 2.966(.U)C .466(se such attrib)-2.966 F .466
(ute objects to mod-)-.2 F(ify e)128 165.6 Q(xisting threads.)-.15 E
(pth_attr_t)108 182.4 Q F3 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)
3.328 G -4.998(__)5.558 G -4.998(aa)4.998 G -3.328(tt)4.998 G -3.328(tt)
3.328 G -4.438(rr)3.328 G -4.998(__)4.438 G -5.558(nn)4.998 G -4.438(ee)
5.558 G -7.218(ww)4.438 G F0(\(v)7.218 E(oid\);)-.2 E .615
(This returns a ne)128 194.4 R(w)-.25 E F4(unbound)3.115 E F0(attrib)
3.115 E .615(ute object. An implicit)-.2 F F4(pth_attr_init\(\))3.115 E
F0 .615(is done on it. An)3.115 F 3.115(yq)-.15 G .615(ueries on)-3.115
F 1.998(this object just fetch stored attrib)128 206.4 R 1.998
(utes from it.)-.2 F 1.999(And attrib)6.999 F 1.999
(ute modi\214cations just change the stored)-.2 F(attrib)128 218.4 Q 2.5
(utes. Use)-.2 F(such attrib)2.5 E
(ute objects to pre-con\214gure attrib)-.2 E(utes for to be spa)-.2 E
(wned threads.)-.15 E(int)108 235.2 Q F3 -5.558(pp)2.5 G -3.328(tt)5.558
G -5.558(hh)3.328 G -4.998(__)5.558 G -4.998(aa)4.998 G -3.328(tt)4.998
G -3.328(tt)3.328 G -4.438(rr)3.328 G -4.998(__)4.438 G -2.778(ii)4.998
G -5.558(nn)2.778 G -2.778(ii)5.558 G -3.328(tt)2.778 G F0(\(pth_attr_t)
3.328 E F4(attr)2.5 E F0(\);)A .6(This initializes an attrib)128 247.2 R
.6(ute object)-.2 F F4(attr)3.1 E F0 .6(to the def)3.1 F .6(ault v)-.1 F
(alues:)-.25 E F1(PTH_ATTR_PRIO)3.1 E F0(:=)3.1 E F1(PTH_PRIO_STD)3.1 E
F0(,)A F1(PTH_ATTR_NAME)128 259.2 Q F0 .416(:= `)2.916 F F1(unknown)A F0
(',)A F1(PTH_ATTR_JOINABLE)2.917 E F0(:=)2.917 E F1(TRUE)2.917 E F0(,)A
F1(PTH_ATTR_CANCELSTATE)2.917 E F0(:=)128 271.2 Q F1(PTH_CANCEL_DEFAULT)
24.244 E F0(,)A F1(PTH_ATTR_STACK_SIZE)24.244 E F0 21.744
(:= 64*1024 and)24.244 F F1(PTH_ATTR_STACK_ADDR)128 283.2 Q F0(:=)3.074
E F1(NULL)3.074 E F0 3.074(.A)C .574(ll other)-3.074 F F1(PTH_ATTR_*)
3.074 E F0(attrib)3.074 E .574(utes are read-only attrib)-.2 F .574
(utes and)-.2 F(don')128 295.2 Q 2.5(tr)-.18 G(ecei)-2.5 E .3 -.15(ve d)
-.25 H(ef).15 E(ault v)-.1 E(alues in)-.25 E F4(attr)2.5 E F0 2.5(,b)C
(ecause the)-2.5 E 2.5(ye)-.15 G(xists only for bounded attrib)-2.65 E
(ute objects.)-.2 E(int)108 312 Q F3 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G -4.998(aa)4.998 G -3.328(tt)4.998 G
-3.328(tt)3.328 G -4.438(rr)3.328 G -4.998(__)4.438 G -3.888(ss)4.998 G
-4.438(ee)3.888 G -3.328(tt)4.438 G F0(\(pth_attr_t)3.328 E F4(attr)2.5
E F0 2.5(,i)C(nt)-2.5 E F4(\214eld)2.5 E F0 2.5(,.)C(..\);)-2.5 E .718
(This sets the attrib)128 324 R .718(ute \214eld)-.2 F F4(\214eld)3.218
E F0(in)3.218 E F4(attr)3.218 E F0 .718(to a v)3.218 F .718
(alue speci\214ed as an additional ar)-.25 F .717(gument on the v)-.18 F
(ariable)-.25 E(ar)128 336 Q(gument list. The follo)-.18 E(wing attrib)
-.25 E(ute)-.2 E F4(\214elds)2.5 E F0(and ar)2.5 E
(gument pairs can be used:)-.18 E F1 60(PTH_ATTR_PRIO int)134 354 R 60
(PTH_ATTR_NAME char)134 366 R(*)6 E 36(PTH_ATTR_JOINABLE int)134 378 R
12(PTH_ATTR_CANCEL_STATE unsigned)134 390 R(int)6 E 24
(PTH_ATTR_STACK_SIZE unsigned)134 402 R(int)6 E 24
(PTH_ATTR_STACK_ADDR char)134 414 R(*)6 E F0(int)108 442.8 Q F3 -5.558
(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -4.998
(aa)4.998 G -3.328(tt)4.998 G -3.328(tt)3.328 G -4.438(rr)3.328 G -4.998
(__)4.438 G -4.998(gg)4.998 G -4.438(ee)4.998 G -3.328(tt)4.438 G F0
(\(pth_attr_t)3.328 E F4(attr)2.5 E F0 2.5(,i)C(nt)-2.5 E F4(\214eld)2.5
E F0 2.5(,.)C(..\);)-2.5 E 1.377(This retrie)128 454.8 R -.15(ve)-.25 G
3.877(st).15 G 1.377(he attrib)-3.877 F 1.377(ute \214eld)-.2 F F4
(\214eld)3.877 E F0(in)3.877 E F4(attr)3.878 E F0 1.378
(and stores its v)3.878 F 1.378(alue in the v)-.25 F 1.378
(ariable speci\214ed through a)-.25 F 1.431(pointer in an additional ar)
128 466.8 R 1.431(gument on the v)-.18 F 1.431(ariable ar)-.25 F 1.431
(gument list. The follo)-.18 F(wing)-.25 E F4(\214elds)3.93 E F0 1.43
(and ar)3.93 F(gument)-.18 E(pairs can be used:)128 478.8 Q F1 60
(PTH_ATTR_PRIO int)134 496.8 R(*)6 E 60(PTH_ATTR_NAME char)134 508.8 R
(**)6 E 36(PTH_ATTR_JOINABLE int)134 520.8 R(*)6 E 12
(PTH_ATTR_CANCEL_STATE unsigned)134 532.8 R(int *)6 E 24
(PTH_ATTR_STACK_SIZE unsigned)134 544.8 R(int *)6 E 24
(PTH_ATTR_STACK_ADDR char)134 556.8 R(**)6 E 24
(PTH_ATTR_TIME_SPAWN pth_time_t)134 568.8 R(*)6 E 30
(PTH_ATTR_TIME_LAST pth_time_t)134 580.8 R(*)6 E 36
(PTH_ATTR_TIME_RAN pth_time_t)134 592.8 R(*)6 E 24
(PTH_ATTR_START_FUNC void)134 604.8 R(*\(**\)\(void *\))6 E 30
(PTH_ATTR_START_ARG void)134 616.8 R(**)6 E 54
(PTH_ATTR_STATE pth_state_t)134 628.8 R(*)6 E 48
(PTH_ATTR_EVENTS pth_event_t)134 640.8 R(*)6 E 54(PTH_ATTR_BOUND int)134
652.8 R(*)6 E F0(int)108 681.6 Q F3 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G -4.998(aa)4.998 G -3.328(tt)4.998 G
-3.328(tt)3.328 G -4.438(rr)3.328 G -4.998(__)4.438 G -5.558(dd)4.998 G
-4.438(ee)5.558 G -3.888(ss)4.438 G -3.328(tt)3.888 G 6.196 -4.438(rr o)
3.328 H(oy)-.56 E(y)-4.998 E F0(\(pth_attr_t)A F4(attr)2.5 E F0(\);)A
(This destro)128 693.6 Q(ys a attrib)-.1 E(ute object)-.2 E F4(attr)2.5
E F0 2.5(.A)C(fter this)-2.5 E F4(attr)2.5 E F0(is no longer a v)2.5 E
(alid attrib)-.25 E(ute object.)-.2 E 163.315(2002-10-15 perl)72 768 R
204.975(v5.6.1 8)2.5 F EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Times-Bold@0 SF -6.668(TT)108 84 S -5.558(hh)6.668 G 6.196
-4.438(rr ee)5.558 H -4.998(aa)4.438 G 11.116 -5.558(dd C)4.998 H(Co)
-1.66 E(on)-4.998 E(nt)-5.558 E(tr)-3.328 E -.18(ro)-4.438 G(ol)-4.818 E
(l)-2.778 E F0(The follo)108 100.8 Q
(wing functions control the threading itself and mak)-.25 E 2.5(eu)-.1 G
2.5(pt)-2.5 G(he main)-2.5 E/F2 9/Times-Roman@0 SF(API)2.5 E F0(of the)
2.5 E F1 -6.108(PP)2.5 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0(library)
8.058 E(.)-.65 E(pth_t)108 117.6 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G -5.558(pp)3.888 G
-4.998(aa)5.558 G -7.218(ww)4.998 G -5.558(nn)7.218 G F0(\(pth_attr_t)
5.558 E/F3 10/Times-Italic@0 SF(attr)2.5 E F0 2.5(,v)C(oid *\(*)-2.7 E
F3(entry)A F0(\)\(v)A(oid *\), v)-.2 E(oid *)-.2 E F3(ar)A(g)-.37 E F0
(\);)A 1.859(This spa)128 129.6 R 1.859(wns a ne)-.15 F 4.359(wt)-.25 G
1.859(hread with the attrib)-4.359 F 1.859(utes gi)-.2 F -.15(ve)-.25 G
4.359(ni).15 G(n)-4.359 E F3(attr)4.359 E F0(\(or)4.36 E/F4 10/Courier@0
SF(PTH_ATTR_DEFAULT)4.36 E F0 1.86(for def)4.36 F(ault)-.1 E(attrib)128
141.6 Q .19(utes \255 which means that thread priority)-.2 F 2.689(,j)
-.65 G .189(oinability and cancel state are inherited from the current)
-2.689 F 1.235(thread\) with the starting point at routine)128 153.6 R
F3(entry)3.736 E F0 3.736(.T)C 1.236
(his entry routine is called as `pth_e)-3.736 F(xit\()-.15 E F3(entry)A
F0(\()A F3(ar)A(g)-.37 E F0(\)\)')A .2(inside the ne)128 165.6 R 2.699
(wt)-.25 G .199(hread unit, i.e.,)-2.699 F F3(entry)2.699 E F0 1.299
-.55('s r)D .199(eturn v).55 F .199(alue is fed to an implicit)-.25 F F3
(pth_e)2.699 E(xit)-.2 E F0 .199(\(3\). So the thread usu-)1.666 F .865
(ally can e)128 177.6 R .866(xit by just returning. Ne)-.15 F -.15(ve)
-.25 G .866(rtheless the thread can also e).15 F .866(xit e)-.15 F .866
(xplicitly at an)-.15 F 3.366(yt)-.15 G .866(ime by calling)-3.366 F F3
(pth_e)128 189.6 Q(xit)-.2 E F0 .103(\(3\). But k)1.666 F .103
(eep in mind that calling the)-.1 F F2(POSIX)2.602 E F0(function)2.602 E
F3 -.2(ex)2.602 G(it).2 E F0 .102
(\(3\) still terminates the complete pro-)1.666 F
(cess and not just the current thread.)128 201.6 Q .048(There is no)128
219.6 R F1 -6.108(PP)2.548 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .048
(\255internal limit on the number of threads one can spa)5.558 F .048
(wn, e)-.15 F .048(xcept the limit implied by the)-.15 F -.2(av)128
231.6 S .115(ailable virtual memory)-.05 F(.)-.65 E F1 -6.108(PP)2.615 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 .115(internally k)8.173 F .114
(eeps track of thread in dynamic data structures. The function)-.1 F
(returns)128 243.6 Q F4(NULL)2.5 E F0(on error)2.5 E(.)-.55 E(int)108
260.4 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998
(__)5.558 G -4.998(oo)4.998 G -5.558(nn)4.998 G -4.438(cc)5.558 G -4.438
(ee)4.438 G F0(\(pth_once_t *)4.438 E F3(ctrlvar)A F0 2.5(,v)C(oid \(*)
-2.7 E F3(func)A F0(\)\(v)A(oid *\), v)-.2 E(oid *)-.2 E F3(ar)A(g)-.37
E F0(\);)A 1.123(This is a con)128 272.4 R -.15(ve)-.4 G 1.123
(nience function which uses a control v).15 F 1.123(ariable of type)-.25
F F4(pth_once_t)3.623 E F0 1.123(to mak)3.623 F 3.624(es)-.1 G 1.124
(ure a)-3.624 F .018(constructor function)128 284.4 R F3(func)2.518 E F0
.018(is called only once as `)2.518 F F3(func)A F0(\()A F3(ar)A(g)-.37 E
F0 .018(\)' in the system. In other w)B .017(ords: Only the \214rst)-.1
F .758(call to)128 296.4 R F3(pth_once)3.259 E F0 .759(\(3\) by an)1.666
F 3.259(yt)-.15 G .759(hread in the system succeeds. The v)-3.259 F .759
(ariable referenced via)-.25 F F3(ctrlvar)3.259 E F0(should)3.259 E
(be declared as `)128 308.4 Q F4(pth_once_t)A F3(variable-name)2.5 E F0
(=)2.5 E F4(PTH_ONCE_INIT)2.5 E F0(;' before calling this function.)A
(pth_t)108 325.2 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328
G -4.998(__)5.558 G -3.888(ss)4.998 G -4.438(ee)3.888 G -2.778(ll)4.438
G -3.328(ff)2.778 G F0(\(v)3.328 E(oid\);)-.2 E .334(This just returns \
the unique thread handle of the currently running thread.)128 337.2 R
.333(This handle itself has to be)5.333 F .18
(treated as an opaque entity by the application.)128 349.2 R(It')5.181 E
2.681(su)-.55 G .181(sually used as an ar)-2.681 F .181
(gument to other functions who)-.18 F(require an ar)128 361.2 Q
(gument of type)-.18 E F4(pth_t)2.5 E F0(.)A(int)108 378 Q F1 -5.558(pp)
2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -3.888(ss)
4.998 G -5.558(uu)3.888 G -3.888(ss)5.558 G -5.558(pp)3.888 G -4.438(ee)
5.558 G -5.558(nn)4.438 G -5.558(dd)5.558 G F0(\(pth_t)5.558 E F3(tid)
2.5 E F0(\);)A .202(This suspends a thread)128 390 R F3(tid)2.702 E F0
.202(until it is manually resumed ag)2.702 F .202(ain via)-.05 F F3
(pth_r)2.702 E(esume)-.37 E F0 .202(\(3\). F)1.666 F .202
(or this, the thread is)-.15 F(mo)128 402 Q -.15(ve)-.15 G 2.631(dt).15
G 2.631(ot)-2.631 G(he)-2.631 E/F5 9/Times-Bold@0 SF -5.002(SS)2.631 G
-6.496(UU)5.002 G -5.002(SS)6.496 G -5.497(PP)5.002 G -6.001(EE)5.497 G
-6.496(NN)6.001 G -6.496(DD)6.496 G -6.001(EE)6.496 G -6.496(DD)6.001 G
F0 .131(queue and this w)9.127 F .131
(ay is completely out of the scheduler')-.1 F 2.631(se)-.55 G -.15(ve)
-2.881 G .131(nt handling and).15 F .137
(thread dispatching scope. Suspending the current thread is not allo)128
414 R 2.637(wed. The)-.25 F .137(function returns)2.637 F F4(TRUE)2.637
E F0(on)2.637 E(success and)128 426 Q F4(FALSE)2.5 E F0(on errors.)2.5 E
(int)108 442.8 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G 6.196 -4.438(rr ee)4.998 H -3.888(ss)4.438 G -5.558
(uu)3.888 G -8.328(mm)5.558 G -4.438(ee)8.328 G F0(\(pth_t)4.438 E F3
(tid)2.5 E F0(\);)A 1.917(This function resumes a pre)128 454.8 R 1.917
(viously suspended thread)-.25 F F3(tid)4.417 E F0 4.417(,i)C(.e.)-4.417
E F3(tid)4.417 E F0 1.917(has to stay on the)4.417 F F5 -5.002(SS)4.418
G -6.496(UU)5.002 G -5.002(SS)6.496 G -5.497(PP)5.002 G -6.001(EE)5.497
G -6.496(NN)6.001 G -6.496(DD)6.496 G -6.001(EE)6.496 G -6.496(DD)6.001
G F0 .182(queue. The thread is mo)128 466.8 R -.15(ve)-.15 G 2.682(dt)
.15 G 2.682(ot)-2.682 G(he)-2.682 E F5 -6.496(NN)2.682 G -6.001(EE)6.496
G -8.998(WW)6.001 G F0(,)8.998 E F5 -6.496(RR)2.682 G -6.001(EE)6.496 G
-6.496(AA)6.001 G 10.382 -6.496(DD YY)6.496 H F0(or)9.178 E F5 14.666
-8.998(WW A)2.682 H(AI)2.502 E(IT)-3.499 E(TI)-6.001 E(IN)-3.499 E(NG)
-6.496 E(G)-7 E F0 .182(queue \(dependent on what its state w)2.682 F
(as)-.1 E .13(when the)128 478.8 R F3(pth_suspend)2.63 E F0 .13
(\(3\) call were made\) and this w)1.666 F .13(ay ag)-.1 F .13
(ain enters the e)-.05 F -.15(ve)-.25 G .131
(nt handling and thread dis-).15 F(patching scope of the scheduler)128
490.8 Q 2.5(.T)-.55 G(he function returns)-2.5 E F4(TRUE)2.5 E F0
(on success and)2.5 E F4(FALSE)2.5 E F0(on errors.)2.5 E(int)108 507.6 Q
F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G
-4.438(rr)4.998 G -4.998(aa)4.438 G -2.778(ii)4.998 G -3.888(ss)2.778 G
-4.438(ee)3.888 G F0(\(pth_t)4.438 E F3(tid)2.5 E F0 2.5(,i)C(nt)-2.5 E
F3(sig)2.5 E F0(\))A .336(This function raises a signal for deli)128
519.6 R -.15(ve)-.25 G .335(ry to thread).15 F F3(tid)2.835 E F0(only)
2.835 E 5.335(.W)-.65 G .335(hen one just raises a signal via)-5.335 F
F3 -.15(ra)2.835 G(ise).15 E F0(\(3\))1.666 E(or)128 531.6 Q F3(kill)
2.607 E F0 .107(\(2\), its deli)1.666 F -.15(ve)-.25 G .107
(red to an arbitrary thread which has this signal not block).15 F 2.608
(ed. W)-.1 F(ith)-.4 E F3(pth_r)2.608 E(aise)-.15 E F0 .108(\(3\) one)
1.666 F .164(can send a signal to a thread and its guarantees that only\
 this thread gets the signal deli)128 543.6 R -.15(ve)-.25 G .164
(red. But k).15 F(eep)-.1 E 1.685(in mind that ne)128 555.6 R -.15(ve)
-.25 G 1.685(rtheless the signals).15 F F3(action)4.185 E F0 1.685
(is still con\214gured)4.185 F F3(pr)4.185 E(ocess)-.45 E F0 4.186
(\255wide. When)B F3(sig)4.186 E F0 1.686(is 0 plain)4.186 F .007
(thread checking is performed, i.e., `)128 567.6 R F4 .007
(pth_raise\(tid, 0\))B F0 2.507('r)C(eturns)-2.507 E F4(TRUE)2.507 E F0
.007(when thread)2.507 F F3(tid)2.507 E F0 .006(still e)2.507 F(xists)
-.15 E(in the)128 579.6 Q F5 -5.497(PP)2.5 G -6.001(TT)5.497 G -7(HH)
6.001 G F0(system b)9.5 E(ut doesn')-.2 E 2.5(ts)-.18 G(end an)-2.5 E
2.5(ys)-.15 G(ignal to it.)-2.5 E(int)108 596.4 Q F1 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -4.998(yy)4.998 G
-2.778(ii)4.998 G -4.438(ee)2.778 G -2.778(ll)4.438 G -5.558(dd)2.778 G
F0(\(pth_t)5.558 E F3(tid)2.5 E F0(\);)A 1.628(This e)128 608.4 R 1.628
(xplicitly yields back the e)-.15 F -.15(xe)-.15 G 1.629
(cution control to the scheduler thread.).15 F 1.629(Usually the e)6.629
F -.15(xe)-.15 G 1.629(cution is).15 F .221
(implicitly transferred back to the scheduler when a thread w)128 620.4
R .221(aits for an e)-.1 F -.15(ve)-.25 G .221
(nt. But when a thread has to).15 F .249(do lar)128 632.4 R(ger)-.18 E
F2(CPU)2.75 E F0 -.2(bu)2.75 G .25
(rsts, it can be reasonable to interrupt it e).2 F .25
(xplicitly by doing a fe)-.15 F(w)-.25 E F3(pth_yield)2.75 E F0 .25
(\(3\) calls to)1.666 F(gi)128 644.4 Q 1.093 -.15(ve o)-.25 H .793
(ther threads a chance to e).15 F -.15(xe)-.15 G .793(cute, too.).15 F
.793(This ob)5.793 F .792(viously is the cooperating part of)-.15 F F1
-6.108(PP)3.292 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 5.792(.A)5.558
G(thread)-2.5 E F3 .822(has not)128 656.4 R F0 .823(to yield e)3.323 F
-.15(xe)-.15 G .823(cution, of course. But when you w).15 F .823
(ant to program a serv)-.1 F .823(er application with good)-.15 F 1.297
(response times the threads should be cooperati)128 668.4 R -.15(ve)-.25
G 3.796(,i).15 G 1.296(.e., when the)-3.796 F 3.796(ys)-.15 G 1.296
(hould split their)-3.796 F F2(CPU)3.796 E F0 -.2(bu)3.796 G 1.296
(rsts into).2 F(smaller units with this call.)128 680.4 Q .293
(Usually one speci\214es)128 698.4 R F3(tid)2.794 E F0(as)2.794 E F4
(NULL)2.794 E F0 .294
(to indicate to the scheduler that it can freely decide which thread to)
2.794 F .542(dispatch ne)128 710.4 R 3.042(xt. But)-.15 F .542(if one w)
3.042 F .542
(ants to indicate to the scheduler that a particular thread should be f)
-.1 F -.2(avo)-.1 G(red).2 E 1.024(on the ne)128 722.4 R 1.024
(xt dispatching step, one can specify this thread e)-.15 F(xplicitly)
-.15 E 3.524(.T)-.65 G 1.024(his allo)-3.524 F 1.024
(ws the usage of the old)-.25 F 163.315(2002-10-15 perl)72 768 R 204.975
(v5.6.1 9)2.5 F EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E .799(concept of)128 84 R/F1 10/Times-Italic@0 SF(cor)3.299 E
(outines)-.45 E F0 .799
(where a thread/routine switches to a particular cooperating thread. If)
3.299 F F1(tid)3.298 E F0 .798(is not)3.298 F/F2 10/Courier@0 SF(NULL)
128 96 Q F0 .611(and points to a)3.111 F F1(ne)3.112 E(w)-.15 E F0(or)
3.112 E F1 -.37(re)3.112 G(ady).37 E F0 .612
(thread, it is guaranteed that this thread recei)3.112 F -.15(ve)-.25 G
3.112(se).15 G -.15(xe)-3.262 G .612(cution control).15 F 2.499
(on the ne)128 108 R 2.499(xt dispatching step. If)-.15 F F1(tid)4.999 E
F0 2.499(is in a dif)4.999 F 2.499(ferent state \(that is, not in)-.25 F
F2(PTH_STATE_NEW)4.998 E F0(or)4.998 E F2(PTH_STATE_READY)128 120 Q F0
2.5(\)a)C 2.5(ne)-2.5 G(rror is reported.)-2.5 E .786
(The function usually returns)128 138 R F2(TRUE)3.287 E F0 .787
(for success and only)3.287 F F2(FALSE)3.287 E F0(\(with)3.287 E F2
(errno)3.287 E F0 .787(set to)3.287 F F2(EINVAL)3.287 E F0 3.287(\)i)C
(f)-3.287 E F1(tid)3.287 E F0(speci\214ed an in)128 150 Q -.25(va)-.4 G
(lid or still not ne).25 E 2.5(wo)-.25 G 2.5(rr)-2.5 G(eady thread.)-2.5
E(int)108 166.8 Q/F3 10/Times-Bold@0 SF -5.558(pp)2.5 G -3.328(tt)5.558
G -5.558(hh)3.328 G -4.998(__)5.558 G -5.558(nn)4.998 G -4.998(aa)5.558
G -5.558(pp)4.998 G F0(\(pth_time_t)5.558 E F1(naptime)2.5 E F0(\);)A
.13(This functions suspends the e)128 178.8 R -.15(xe)-.15 G .129
(cution of the current thread until).15 F F1(naptime)2.629 E F0 .129
(is elapsed.)2.629 F F1(naptime)2.629 E F0 .129(is of type)2.629 F F2
(pth_time_t)128 190.8 Q F0 .412(and this w)2.912 F .412(ay has theoreti\
cally a resolution of one microsecond. In practice you should)-.1 F .218
(neither rely on this nor that the thread is a)128 202.8 R -.1(wa)-.15 G
-.1(ke).1 G .218(ned e).1 F .218(xactly after)-.15 F F1(naptime)2.717 E
F0 .217(has elapsed. It')2.717 F 2.717(so)-.55 G .217(nly guaran-)-2.717
F .307(tees that the thread will sleep at least)128 214.8 R F1(naptime)
2.807 E F0 2.807(.B)C .307(ut because of the non-preempti)-2.807 F .607
-.15(ve n)-.25 H .307(ature of).15 F F3 -6.108(PP)2.807 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 .307(it can)8.365 F .725
(last longer \(when another thread k)128 226.8 R .725(ept the)-.1 F/F4 9
/Times-Roman@0 SF(CPU)3.225 E F0 .724
(for a long time\). Additionally the resolution is depen-)3.225 F .357(\
dent of the implementation of timers by the operating system and these \
usually ha)128 238.8 R .658 -.15(ve o)-.2 H .358(nly a resolution).15 F
.827(of 10 microseconds or lar)128 250.8 R(ger)-.18 E 3.327(.B)-.55 G
.827(ut usually this isn')-3.327 F 3.326(ti)-.18 G .826
(mportant for an application unless it tries to use)-3.326 F(this f)128
262.8 Q(acility for real time tasks.)-.1 E(int)108 279.6 Q F3 -5.558(pp)
2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -7.218(ww)
4.998 G -4.998(aa)7.218 G -2.778(ii)4.998 G -3.328(tt)2.778 G F0
(\(pth_e)3.328 E -.15(ve)-.25 G(nt_t).15 E F1 -.15(ev)2.5 G F0(\);).15 E
.168(This is the link between the scheduler and the e)128 291.6 R -.15
(ve)-.25 G .168(nt f).15 F .168(acility \(see belo)-.1 F 2.668(wf)-.25 G
.168(or the v)-2.668 F(arious)-.25 E F1(pth_e)2.669 E(vent_xxx\(\))-.15
E F0 1.096(functions\). It')128 303.6 R 3.596(sm)-.55 G 1.096
(odeled lik)-3.596 F(e)-.1 E F1(select)3.596 E F0 1.095
(\(2\), i.e., one gi)1.666 F -.15(ve)-.25 G 3.595(st).15 G 1.095
(his function one or more e)-3.595 F -.15(ve)-.25 G 1.095
(nts \(in the e).15 F -.15(ve)-.25 G(nt).15 E .05(ring speci\214ed by)
128 315.6 R F1 -.15(ev)2.55 G F0 2.55(\)o).15 G 2.55(nw)-2.55 G .05
(hich the current thread w)-2.55 F .051(ants to w)-.1 F 2.551(ait. The)
-.1 F .051(scheduler a)2.551 F -.1(wa)-.15 G -.1(ke).1 G 2.551(st).1 G
.051(he thread when)-2.551 F 1.262
(one ore more of them occurred after tagging them as occurred. The)128
327.6 R F1 -.15(ev)3.762 G F0(ar)3.911 E 1.261(gument is a)-.18 F F1
(pointer)3.761 E F0 1.261(to an)3.761 F -2.15 -.25(ev e)128 339.6 T
1.411(nt ring which isn').25 F 3.911(tc)-.18 G 1.411(hanged e)-3.911 F
1.411(xcept for the tagging.)-.15 F F1(pth_wait)3.911 E F0 1.411
(\(3\) returns the number of occurred)1.666 F -2.15 -.25(ev e)128 351.6
T(nts and the application can use).25 E F1(pth_e)2.5 E(vent_occurr)-.15
E(ed)-.37 E F0(\(3\) to test which e)1.666 E -.15(ve)-.25 G
(nts occurred.).15 E(int)108 368.4 Q F3 -5.558(pp)2.5 G -3.328(tt)5.558
G -5.558(hh)3.328 G -4.998(__)5.558 G -4.438(cc)4.998 G -4.998(aa)4.438
G -5.558(nn)4.998 G -4.438(cc)5.558 G -4.438(ee)4.438 G -2.778(ll)4.438
G F0(\(pth_t)2.778 E F1(tid)2.5 E F0(\);)A .529(This cancels a thread)
128 380.4 R F1(tid)3.029 E F0 3.029(.H)C 1.029 -.25(ow t)-3.029 H .529
(he cancellation is done depends on the cancellation state of).25 F F1
(tid)3.028 E F0(which)3.028 E 1.038
(the thread can con\214gure itself. When its state is)128 392.4 R F2
(PTH_CANCEL_DISABLE)3.539 E F0 3.539(ac)3.539 G 1.039
(ancellation request is)-3.539 F .955(just made pending.)128 404.4 R
.955(When it is)5.955 F F2(PTH_CANCEL_ENABLE)3.454 E F0 .954
(it depends on the cancellation type what is)3.454 F .408
(performed. When its)128 416.4 R F2(PTH_CANCEL_DEFERRED)2.908 E F0(ag)
2.908 E .408(ain the cancellation request is just made pending.)-.05 F
1.349(But when its)128 428.4 R F2(PTH_CANCEL_ASYNCHRONOUS)3.849 E F0
1.349(the thread is immediately canceled before)3.849 F F1(pth_can-)
3.849 E(cel)128 440.4 Q F0 1.83(\(3\) returns. The ef)1.666 F 1.83(fect\
 of a thread cancellation is equal to implicitly forcing the thread to \
call)-.25 F(`)128 452.4 Q F2(pth_exit\(PTH_CANCELED\))A F0 2.737('a)C
2.737(to)-2.737 G .236(ne of his cancellation points.)-2.737 F(In)5.236
E F3 -6.108(PP)2.736 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .236
(thread enter a cancellation)8.294 F(point either e)128 464.4 Q
(xplicitly via)-.15 E F1(pth_cancel_point)2.5 E F0
(\(3\) or implicitly by w)1.666 E(aiting for an e)-.1 E -.15(ve)-.25 G
(nt.).15 E(int)108 481.2 Q F3 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558
(hh)3.328 G -4.998(__)5.558 G -4.998(aa)4.998 G -5.558(bb)4.998 G -4.998
(oo)5.558 G -4.438(rr)4.998 G -3.328(tt)4.438 G F0(\(pth_t)3.328 E F1
(tid)2.5 E F0(\);)A .039(This is the cruel w)128 493.2 R .039
(ay to cancel a thread)-.1 F F1(tid)2.539 E F0 2.539(.W)C .039(hen it')
-2.539 F 2.539(sa)-.55 G .039(lready dead and w)-2.539 F .039
(aits to be joined it just joins it)-.1 F .558(\(via `)128 505.2 R F2
(pth_join\()A F1(tid)A F2 6.557(,N)C(ULL\))-6.557 E F0 .557
('\) and this w)B .557(ay kicks it out of the system.)-.1 F .557
(Else it forces the thread to)5.557 F(be not joinable and to allo)128
517.2 Q 2.5(wa)-.25 G
(synchronous cancellation and then cancels it via `)-2.5 E F2
(pth_cancel\()A F1(tid)A F2(\))A F0('.)A(int)108 534 Q F3 -5.558(pp)2.5
G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -3.328(jj)4.998
G -4.998(oo)3.328 G -2.778(ii)4.998 G -5.558(nn)2.778 G F0(\(pth_t)5.558
E F1(tid)2.5 E F0 2.5(,v)C(oid **)-2.7 E F1(value)A F0(\);)A .398
(This joins the current thread with the thread speci\214ed via)128 546 R
F1(tid)2.898 E F0 5.398(.I)C 2.898<748c>-5.398 G .399
(rst suspends the current thread until)-2.898 F(the)128 558 Q F1(tid)
3.584 E F0 1.083(thread has terminated. Then it is a)3.584 F -.1(wa)-.15
G -.1(ke).1 G 1.083(ned and stores the v).1 F 1.083(alue of)-.25 F F1
(tid)3.583 E F0 -.55('s)C F1(pth_e)4.133 E(xit)-.2 E F0 1.083
(\(3\) call into)1.666 F(*)128 570 Q F1(value)A F0(\(if)3.112 E F1
(value)3.112 E F0 .612(and not)3.112 F F2(NULL)3.112 E F0 3.112(\)a)C
.612(nd returns to the caller)-3.112 F 3.112(.At)-.55 G .612
(hread can be joined only when it has the)-3.112 F(attrib)128 582 Q(ute)
-.2 E F2(PTH_ATTR_JOINABLE)3.609 E F0 1.109(set to)3.609 F F2(TRUE)3.609
E F0 1.109(\(the def)3.609 F 1.108
(ault\). A thread can only be joined once, i.e.,)-.1 F(after the)128 594
Q F1(pth_join)2.5 E F0(\(3\) call the thread)1.666 E F1(tid)2.5 E F0
(is completely remo)2.5 E -.15(ve)-.15 G 2.5(df).15 G(rom the system.)
-2.5 E -.2(vo)108 610.8 S(id).2 E F3 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G -4.438(ee)4.998 G -4.998(xx)4.438 G
-2.778(ii)4.998 G -3.328(tt)2.778 G F0(\(v)3.328 E(oid *)-.2 E F1(value)
A F0(\);)A .228(This terminates the current thread. Whether it')128
622.8 R 2.728(si)-.55 G .228(mmediately remo)-2.728 F -.15(ve)-.15 G
2.728(df).15 G .228(rom the system or inserted into)-2.728 F .823
(the dead queue of the scheduler depends on its join type which w)128
634.8 R .823(as speci\214ed at spa)-.1 F .822(wning time. If it)-.15 F
2.52(has the attrib)128 646.8 R(ute)-.2 E F2(PTH_ATTR_JOINABLE)5.02 E F0
2.52(set to)5.02 F F2(FALSE)5.02 E F0 5.02(,i)C(t')-5.02 E 5.02(si)-.55
G 2.52(mmediately remo)-5.02 F -.15(ve)-.15 G 5.02(da).15 G(nd)-5.02 E
F1(value)5.02 E F0(is)5.02 E 2.102
(ignored. Else the thread is inserted into the dead queue and)128 658.8
R F1(value)4.602 E F0 2.102(remembered for a subsequent)4.602 F F1
(pth_join)128 670.8 Q F0(\(3\) call by another thread.)1.666 E 163.315
(2002-10-15 perl)72 768 R 199.975(v5.6.1 10)2.5 F EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Times-Bold@0 SF -7.218(UU)108 84 S -3.328(tt)7.218 G -2.778
(ii)3.328 G -2.778(ll)2.778 G -2.778(ii)2.778 G -3.328(tt)2.778 G -2.778
(ii)3.328 G -4.438(ee)2.778 G -3.888(ss)4.438 G F0(Utility functions.)
108 100.8 Q(int)108 117.6 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558
(hh)3.328 G -4.998(__)5.558 G -3.328(ff)4.998 G -5.558(dd)3.328 G -8.328
(mm)5.558 G -4.998(oo)8.328 G -5.558(dd)4.998 G -4.438(ee)5.558 G F0
(\(int)4.438 E/F2 10/Times-Italic@0 SF(fd)2.5 E F0 2.5(,i)C(nt)-2.5 E F2
(mode)2.5 E F0(\);)A 3.453
(This switches the non-blocking mode \215ag on \214le descriptor)128
129.6 R F2(fd)5.953 E F0 8.453(.T)C 3.453(he ar)-8.453 F(gument)-.18 E
F2(mode)5.953 E F0 3.453(can be)5.953 F/F3 10/Courier@0 SF
(PTH_FDMODE_BLOCK)128 141.6 Q F0 2.323(for switching)4.823 F F2(fd)4.822
E F0 2.322(into blocking I/O mode,)4.822 F F3(PTH_FDMODE_NONBLOCK)4.822
E F0(for)4.822 E(switching)128 153.6 Q F2(fd)3.296 E F0 .796
(into non-blocking I/O mode or)3.296 F F3(PTH_FDMODE_POLL)3.296 E F0
.796(for just polling the current mode.)3.296 F 3.037
(The current mode is returned \(either)128 165.6 R F3(PTH_FDMODE_BLOCK)
5.537 E F0(or)5.536 E F3(PTH_FDMODE_NONBLOCK)5.536 E F0 5.536(\)o)C(r)
-5.536 E F3(PTH_FDMODE_ERROR)128 177.6 Q F0 .601(on error)3.101 F 3.101
(.K)-.55 G .601(eep in mind that since)-3.351 F F1 -6.108(PP)3.101 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 .602
(1.1 there is no longer a requirement to)8.66 F .248(manually switch a \
\214le descriptor into non-blocking mode in order to use it. This is au\
tomatically done)128 189.6 R 1.276(temporarily inside)128 201.6 R F1
-6.108(PP)3.776 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 6.276(.I)5.558
G 1.276(nstead when you no)-6.276 F 3.776(ws)-.25 G 1.277
(witch a \214le descriptor e)-3.776 F 1.277(xplicitly into non-blocking)
-.15 F(mode,)128 213.6 Q F2(pth_r)2.5 E(ead)-.37 E F0(\(3\) or)1.666 E
F2(pth_write)2.5 E F0(\(3\) will ne)1.666 E -.15(ve)-.25 G 2.5(rb).15 G
(lock the current thread.)-2.5 E(pth_time_t)108 230.4 Q F1 -5.558(pp)2.5
G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -3.328(tt)4.998
G -2.778(ii)3.328 G -8.328(mm)2.778 G -4.438(ee)8.328 G F0(\(long)4.438
E F2(sec)2.5 E F0 2.5(,l)C(ong)-2.5 E F2(usec)2.5 E F0(\);)A .442
(This is a constructor for a)128 242.4 R F3(pth_time_t)2.941 E F0 .441
(structure which is a con)2.941 F -.15(ve)-.4 G .441
(nient function to a).15 F -.2(vo)-.2 G .441(id temporary).2 F .43
(structure v)128 254.4 R .43(alues. It returns a)-.25 F F2(pth_time_t)
2.93 E F0 .43(structure which holds the absolute time v)2.93 F .43
(alue speci\214ed by)-.25 F F2(sec)2.93 E F0(and)128 266.4 Q F2(usec)2.5
E F0(.)A(pth_time_t)108 283.2 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G -3.328(tt)4.998 G -2.778(ii)3.328 G
-8.328(mm)2.778 G -4.438(ee)8.328 G -4.998(oo)4.438 G -5.558(uu)4.998 G
-3.328(tt)5.558 G F0(\(long)3.328 E F2(sec)2.5 E F0 2.5(,l)C(ong)-2.5 E
F2(usec)2.5 E F0(\);)A .442(This is a constructor for a)128 295.2 R F3
(pth_time_t)2.941 E F0 .441(structure which is a con)2.941 F -.15(ve)-.4
G .441(nient function to a).15 F -.2(vo)-.2 G .441(id temporary).2 F
1.016(structure v)128 307.2 R 3.516(alues. It)-.25 F 1.016(returns a)
3.516 F F2(pth_time_t)3.516 E F0 1.017
(structure which holds the absolute time v)3.516 F 1.017
(alue calculated by)-.25 F(adding)128 319.2 Q F2(sec)2.5 E F0(and)2.5 E
F2(usec)2.5 E F0(to the current time.)2.5 E(Sfdisc_t *)108 336 Q F1
-5.558(pp)C -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -3.888
(ss)4.998 G -5.558<8c8c>3.888 G -4.998(oo)5.558 G -5.558(dd)4.998 G
-2.778(ii)5.558 G -3.888(ss)2.778 G -4.438(cc)3.888 G F0(\(v)4.438 E
(oid\);)-.2 E .915(This functions is al)128 348 R -.1(wa)-.1 G .915
(ys a).1 F -.25(va)-.2 G .915(ilable, b).25 F .915
(ut only reasonably usable when)-.2 F F1 -6.108(PP)3.414 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 -.1(wa)8.972 G 3.414(sb).1 G .914
(uilt with)-3.614 F F1 -5.558(SS)3.414 G -5.558<8c8c>5.558 G -4.998(oo)
5.558 G F0(support)8.412 E(\()128 360 Q F3(\255\255with\255sfio)A F0
.138(option\) and)2.638 F F3(PTH_EXT_SFIO)2.638 E F0 .138
(is then de\214ned by)2.638 F F3(pth.h)2.639 E F0 2.639(.I)C 2.639(ti)
-2.639 G 2.639(su)-2.639 G .139(seful for applications)-2.639 F .703
(which w)128 372 R .703(ant to use the comprehensi)-.1 F -.15(ve)-.25 G
F1 -5.558(SS)3.353 G -5.558<8c8c>5.558 G -4.998(oo)5.558 G F0 .703
(I/O library with the)8.201 F F1 -6.108(PP)3.203 G -3.328(tt)6.108 G
-5.558(hh)3.328 G F0 .703(threading library)8.761 F 3.203(.T)-.65 G .703
(hen this func-)-3.203 F 1.918(tion can be used to get an)128 384 R F1
-5.558(SS)4.418 G -5.558<8c8c>5.558 G -4.998(oo)5.558 G F0 1.918
(discipline structure \()9.416 F F3(Sfdisc_t)A F0 4.418(\)w)C 1.918
(hich can be pushed onto)-4.418 F F1 -5.558(SS)4.418 G -5.558<8c8c>5.558
G -4.998(oo)5.558 G F0 6.366(streams \()128 396 R F3(Sfio_t)A F0 8.866
(\)i)C 8.866(no)-8.866 G 6.365(rder to let this stream use)-8.866 F F2
(pth_r)8.865 E(ead)-.37 E F0(\(3\)/)1.666 E F2(pth_write)A F0 6.365
(\(2\) instead of)1.666 F F2 -.37(re)128 408 S(ad).37 E F0(\(2\)/)1.666
E F2(write)A F0 .082(\(2\). The bene\214t is that this w)1.666 F .082
(ay I/O on the)-.1 F F1 -5.558(SS)2.583 G -5.558<8c8c>5.558 G -4.998(oo)
5.558 G F0 .083(stream does only block the current thread)7.581 F 1.093
(instead of the whole process. The application has to)128 420 R F2(fr)
3.593 E(ee)-.37 E F0 1.093(\(3\) the)1.666 F F3(Sfdisc_t)3.593 E F0
1.092(structure when it is no)3.593 F
(longer needed. The S\214o package can be found at http://www)128 432 Q
(.research.att.com/sw/tools/s\214o/.)-.65 E F1 -7.218(CC)108 454.8 S
-4.998(aa)7.218 G -5.558(nn)4.998 G -4.438(cc)5.558 G -4.438(ee)4.438 G
-2.778(ll)4.438 G -2.778(ll)2.778 G -4.998(aa)2.778 G -3.328(tt)4.998 G
-2.778(ii)3.328 G -4.998(oo)2.778 G 11.116 -5.558(nn M)4.998 H(Ma)-3.88
E(an)-4.998 E(na)-5.558 E(ag)-4.998 E(ge)-4.998 E(em)-4.438 E(me)-8.328
E(en)-4.438 E(nt)-5.558 E(t)-3.328 E -6.108(PP)108 471.6 S -3.328(tt)
6.108 G -5.558(hh)3.328 G F0(supports)8.058 E/F4 9/Times-Roman@0 SF
(POSIX)2.5 E F0(style thread cancellation via)2.5 E F2(pth_cancel)2.5 E
F0(\(3\) and the follo)1.666 E(wing tw)-.25 E 2.5(or)-.1 G
(elated functions:)-2.5 E -.2(vo)108 488.4 S(id).2 E F1 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -4.438(cc)4.998 G
-4.998(aa)4.438 G -5.558(nn)4.998 G -4.438(cc)5.558 G -4.438(ee)4.438 G
-2.778(ll)4.438 G -4.998(__)2.778 G -3.888(ss)4.998 G -3.328(tt)3.888 G
-4.998(aa)3.328 G -3.328(tt)4.998 G -4.438(ee)3.328 G F0(\(int)4.438 E
F2(ne)2.5 E(wstate)-.15 E F0 2.5(,i)C(nt *)-2.5 E F2(oldstate)A F0(\);)A
1.296(This manages the cancellation state of the current thread.)128
500.4 R(When)6.297 E F2(oldstate)3.797 E F0 1.297(is not)3.797 F F3
(NULL)3.797 E F0 1.297(the function)3.797 F .934
(stores the old cancellation state under the v)128 512.4 R .934
(ariable pointed to by)-.25 F F2(oldstate)3.434 E F0 3.434(.W)C(hen)
-3.434 E F2(ne)3.434 E(wstate)-.15 E F0 .934(is not)3.434 F F3(0)3.434 E
F0(it)3.434 E .667(sets the ne)128 524.4 R 3.167(wc)-.25 G .667
(ancellation state.)-3.167 F F2(oldstate)3.167 E F0 .668
(is created before)3.167 F F2(ne)3.168 E(wstate)-.15 E F0 .668(is set.)
3.168 F 3.168(As)5.668 G .668(tate is a combination of)-3.168 F F3
(PTH_CANCEL_ENABLE)128 536.4 Q F0(or)11.38 E F3(PTH_CANCEL_DISABLE)11.38
E F0(and)11.38 E F3(PTH_CANCEL_DEFERRED)11.38 E F0(or)11.38 E F3
(PTH_CANCEL_ASYNCHRONOUS)128 548.4 Q F0(.)A F3(PTH_CANCEL_ENABLE)20.7 E
/F5 10/Symbol SF<ef>A F3(PTH_CANCEL_DEFERRED)A F0(\(or)18.2 E F3
(PTH_CANCEL_DEFAULT)128 560.4 Q F0 3.14(\)i)C 3.14(st)-3.14 G .64
(he def)-3.14 F .64(ault state where cancellation is possible b)-.1 F
.64(ut only at cancellation)-.2 F 3.125(points. Use)128 572.4 R F3
(PTH_CANCEL_DISABLE)3.125 E F0 .626
(to complete disable cancellation for a thread and)3.125 F F3(PTH_CAN-)
3.126 E(CEL_ASYNCHRONOUS)128 584.4 Q F0 .363(for allo)2.863 F .362
(wing asynchronous cancellations, i.e., cancellations which can happen)
-.25 F(at an)128 596.4 Q 2.5(yt)-.15 G(ime.)-2.5 E -.2(vo)108 613.2 S
(id).2 E F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998
(__)5.558 G -4.438(cc)4.998 G -4.998(aa)4.438 G -5.558(nn)4.998 G -4.438
(cc)5.558 G -4.438(ee)4.438 G -2.778(ll)4.438 G -4.998(__)2.778 G -5.558
(pp)4.998 G -4.998(oo)5.558 G -2.778(ii)4.998 G -5.558(nn)2.778 G -3.328
(tt)5.558 G F0(\(v)3.328 E(oid\);)-.2 E .253(This e)128 625.2 R .253(xp\
licitly enter a cancellation point. When the current cancellation state\
 is)-.15 F F3(PTH_CANCEL_DIS-)2.754 E(ABLE)128 637.2 Q F0 1.134
(or no cancellation request is pending, this has no side-ef)3.634 F
1.134(fect and returns immediately)-.25 F 3.634(.E)-.65 G 1.134(lse it)
-3.634 F(calls `)128 649.2 Q F3(pth_exit\(PTH_CANCELED\))A F0('.)A F1
-6.668(EE)108 672 S 7.396 -4.998(vv e)6.668 H(en).56 E(nt)-5.558 E 2.5
(tH)-3.328 G(Ha)-10.278 E(an)-4.998 E(nd)-5.558 E(dl)-5.558 E(li)-2.778
E(in)-2.778 E(ng)-5.558 E(g)-4.998 E -6.108(PP)108 688.8 S -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 .791(has a v)8.849 F .791(ery \215e)-.15 F
.791(xible e)-.15 F -.15(ve)-.25 G .791(nt f).15 F .791
(acility which is link)-.1 F .791(ed into the scheduler through the)-.1
F F2(pth_wait)3.292 E F0 .792(\(3\) function.)1.666 F(The follo)108
700.8 Q(wing functions pro)-.25 E(vide the handling of e)-.15 E -.15(ve)
-.25 G(nt rings.).15 E 163.315(2002-10-15 perl)72 768 R 199.975
(v5.6.1 11)2.5 F EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E(pth_e)108 84 Q -.15(ve)-.25 G(nt_t).15 E/F1 10/Times-Bold@0 SF
-5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G
6.226 -4.438(ee v)4.998 H -.1(ve)-.56 G(en)-4.338 E(nt)-5.558 E(t)-3.328
E F0(\(unsigned long)A/F2 10/Times-Italic@0 SF(spec)2.5 E F0 2.5(,.)C
(..\);)-2.5 E .906(This creates a ne)128 96 R 3.406(we)-.25 G -.15(ve)
-3.656 G .906(nt ring consisting of a single initial e).15 F -.15(ve)
-.25 G 3.405(nt. The).15 F .905(type of the generated e)3.405 F -.15(ve)
-.25 G .905(nt is).15 F(speci\214ed by)128 108 Q F2(spec)2.5 E F0 2.5
(.T)C(he follo)-2.5 E(wing types are a)-.25 E -.25(va)-.2 G(ilable:).25
E 9.921(This is a \214le descriptor e)128 120 R -.15(ve)-.25 G 9.921
(nt. One or more of).15 F/F3 10/Courier@0 SF(PTH_UNTIL_FD_READABLE)
12.421 E F0(,)A F3(PTH_UNTIL_FD_WRITEABLE)128 132 Q F0(or)4.017 E F3
(PTH_UNTIL_FD_EXCEPTION)4.017 E F0(ha)4.017 E 1.817 -.15(ve t)-.2 H
4.017(ob).15 G 4.017(eO)-4.017 G 1.516(R-ed into)-4.017 F F2(spec)4.016
E F0(to)4.016 E .242
(specify on which state of the \214le descriptor you w)128 144 R .242
(ant to w)-.1 F 2.742(ait. The)-.1 F .242
(\214le descriptor itself has to be gi)2.742 F -.15(ve)-.25 G(n).15 E
2.508(as an additional ar)128 156 R 5.008(gument. Example:)-.18 F(`)
5.008 E F3(pth_event\(PTH_EVENT_FD)A/F4 10/Symbol SF<ef>A F3
(PTH_UNTIL_FD_READ-)A .601(ABLE, fd\))128 168 R F0 3.101('. This)B .601
(is a multiple \214le descriptor e)3.101 F -.15(ve)-.25 G .602
(nt modeled directly after the).15 F F2(select)3.102 E F0 .602
(\(2\) call \(actu-)1.666 F .289(ally it is also used to implement)128
180 R F2(pth_select)2.789 E F0 .289(\(3\) internally\).)1.666 F(It')
5.289 E 2.789(sac)-.55 G(on)-2.789 E -.15(ve)-.4 G .289(nient w).15 F
.289(ay to w)-.1 F .289(ait for a lar)-.1 F .289(ge set)-.18 F .211
(of \214le descriptors at once and at each \214le descriptor for a dif)
128 192 R .211(ferent type of state. Additionally as a nice)-.25 F
(side-ef)128 204 Q 1.118(fect one recei)-.25 F -.15(ve)-.25 G 3.618(st)
.15 G 1.118(he number of \214le descriptors which causes the e)-3.618 F
-.15(ve)-.25 G 1.118(nt to be occurred \(using).15 F/F5 9/Times-Roman@0
SF(BSD)128 216 Q F0 .124
(semantics, i.e., when a \214le descriptor occurred in tw)2.624 F 2.625
(os)-.1 G .125(ets it')-2.625 F 2.625(sc)-.55 G .125
(ounted twice\). The ar)-2.625 F .125(guments cor)-.18 F(-)-.2 E .225
(respond directly to the)128 228 R F2(select)2.725 E F0 .225
(\(2\) function ar)1.666 F .225(guments e)-.18 F .224
(xcept that there is no timeout ar)-.15 F .224(gument \(because)-.18 F
(timeouts already can be handled via)128 240 Q F3(PTH_EVENT_TIME)2.5 E
F0 -2.15 -.25(ev e)2.5 H(nts\).).25 E 1.082(Example: `)128 258 R F3
1.083(pth_event\(PTH_EVENT_SELECT, &rc, nfd, rfds, wfds, efds\))B F0
3.583('w)C(here)-3.583 E F3(rc)128 270 Q F0 .153(has to be of type `)
2.654 F F3 .153(int *)B F0(',)A F3(nfd)2.653 E F0 .153
(has to be of type `)2.653 F F3(int)A F0 2.653('a)C(nd)-2.653 E F3(rfds)
2.653 E F0(,)A F3(wfds)2.653 E F0(and)2.653 E F3(efds)2.653 E F0(ha)
2.653 E .453 -.15(ve t)-.2 H 2.653(ob).15 G 2.653(eo)-2.653 G(f)-2.653 E
.335(type `)128 282 R F3 .335(fd_set *)B F0 2.835('\()C(see)-2.835 E F2
(select)2.835 E F0 .336
(\(2\)\). The number of occurred \214le descriptors are stored in)1.666
F F3(rc)2.836 E F0 5.336(.T)C .336(his is a)-5.336 F .659(signal set e)
128 294 R -.15(ve)-.25 G .659(nt. The tw).15 F 3.158(oa)-.1 G .658
(dditional ar)-3.158 F .658(guments ha)-.18 F .958 -.15(ve t)-.2 H 3.158
(ob).15 G 3.158(eap)-3.158 G .658(ointer to a signal set \(type `)-3.158
F F3(sigset_t)A(*)128 306 Q F0 .095
('\) and a pointer to a signal number v)B .095(ariable \(type `)-.25 F
F3 .095(int *)B F0 2.595('\). This)B -2.15 -.25(ev e)2.595 H .095(nt w)
.25 F .096(aits until one of the signals)-.1 F .955
(in the signal set occurred.)128 318 R .955(As a result the occurred si\
gnal number is stored in the second additional)5.955 F(ar)128 330 Q .004
(gument. K)-.18 F .004(eep in mind that the)-.25 F F1 -6.108(PP)2.504 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 .004(scheduler doesn')8.062 F
2.504(tb)-.18 G .004(lock signals automatically)-2.504 F 5.005(.S)-.65 G
2.505(ow)-5.005 G .005(hen you w)-2.505 F(ant)-.1 E .081(to w)128 342 R
.081(ait for a signal with this e)-.1 F -.15(ve)-.25 G .081(nt you').15
F .381 -.15(ve t)-.5 H 2.581(ob).15 G .081(lock it via)-2.581 F F2
(sigpr)2.581 E(ocmask)-.45 E F0 .08(\(2\) or it will be deli)1.666 F
-.15(ve)-.25 G .08(red without).15 F 11.914(your notice. Example: `)128
354 R F3 11.914(sigemptyset\(&set\); sigaddset\(&set, SIGINT\);)B 1.513
(pth_event\(PTH_EVENT_SIG, &set, &sig\);)128 366 R F0 4.013('. This)B
1.513(is a time point e)4.013 F -.15(ve)-.25 G 1.513(nt. The additional)
.15 F(ar)128 378 Q .459(gument has to be of type)-.18 F F3(pth_time_t)
2.959 E F0 .46(\(usually on-the-\215y generated via)2.96 F F2(pth_time)
2.96 E F0 .46(\(3\)\). This e)1.666 F -.15(ve)-.25 G(nts).15 E -.1(wa)
128 390 S .563(its until the speci\214ed time point has elapsed. K).1 F
.562(eep in mind that the v)-.25 F .562(alue is an absolute time point)
-.25 F 1.029(and not an of)128 402 R 1.029(fset. When you w)-.25 F 1.029
(ant to w)-.1 F 1.03(ait for a speci\214ed amount of time, you')-.1 F
1.33 -.15(ve t)-.5 H 3.53(oa).15 G 1.03(dd the current)-3.53 F 11.38
(time to the of)128 414 R 11.379(fset \(usually on-the-\215y achie)-.25
F -.15(ve)-.25 G 13.879(dv).15 G(ia)-13.879 E F2(pth_timeout)13.879 E F0
13.879(\(3\)\). Example:)1.666 F(`)128 426 Q F3 .831
(pth_event\(PTH_EVENT_TIME, pth_timeout\(2,0\)\))B F0 3.331('. This)B
.831(is a message port e)3.331 F -.15(ve)-.25 G .832(nt. The).15 F 1.018
(additional ar)128 438 R 1.018(gument has to be of type)-.18 F F3
(pth_msgport_t)3.518 E F0 3.518(.T)C 1.018(his e)-3.518 F -.15(ve)-.25 G
1.018(nts w).15 F 1.018(aits until one or more mes-)-.1 F 1.835
(sages were recei)128 450 R -.15(ve)-.25 G 4.335(do).15 G 4.335(nt)
-4.335 G 1.836(he speci\214ed message port.)-4.335 F 1.836(Example: `)
6.836 F F3(pth_event\(PTH_EVENT_MSG,)A(mp\))128 462 Q F0 6.175('. This)B
3.675(is a thread e)6.175 F -.15(ve)-.25 G 3.675(nt. The additional ar)
.15 F 3.675(gument has to be of type)-.18 F F3(pth_t)6.175 E F0 8.675
(.O)C 3.675(ne of)-8.675 F F3(PTH_UNTIL_TID_NEW)128 474 Q F0(,)A F3
(PTH_UNTIL_TID_READY)18.89 E F0(,)A F3(PTH_UNTIL_TID_WAITING)18.89 E F0
(or)18.89 E F3(PTH_UNTIL_TID_DEAD)128 486 Q F0 .26(has to be OR-ed into)
2.76 F F2(spec)2.76 E F0 .259
(to specify on which state of the thread you w)2.759 F(ant)-.1 E .182
(to w)128 498 R 2.683(ait. Example:)-.1 F(`)2.683 E F3
(pth_event\(PTH_EVENT_TID)A F4<ef>A F3 .183(PTH_UNTIL_TID_DEAD, tid\))B
F0 2.683('. This)B .183(is a)2.683 F .2(custom callback function e)128
510 R -.15(ve)-.25 G .2(nt. Three additional ar).15 F .2(guments ha)-.18
F .5 -.15(ve t)-.2 H 2.7(ob).15 G 2.7(eg)-2.7 G -2.15 -.25(iv e)-2.7 H
2.7(nw).25 G .2(ith the follo)-2.7 F .2(wing types:)-.25 F(`)128 522 Q
F3 1.144(int \(*\)\(void *\))B F0 1.144(', `)B F3 1.144(void *)B F0
3.644('a)C 1.144(nd `)-3.644 F F3(pth_time_t)A F0 1.144
('. The \214rst is a function pointer to a check)B 1.189
(function and the second ar)128 534 R 1.189(gument is a user)-.18 F
1.189(-supplied conte)-.2 F 1.189(xt v)-.15 F 1.188
(alue which is passed to this function.)-.25 F .776
(The scheduler calls this function on a re)128 546 R .776
(gular basis \(on his o)-.15 F .777(wn scheduler stack, so be v)-.25 F
.777(ery careful!\))-.15 F .875(and the thread is k)128 558 R .875
(ept sleeping while the function returns)-.1 F F3(FALSE)3.375 E F0 3.375
(.O)C .875(nce it returned)-3.375 F F3(TRUE)3.375 E F0 .875(the thread)
3.375 F .037(will be a)128 570 R -.1(wa)-.15 G -.1(ke).1 G .037
(ned. The check interv).1 F .037(al is de\214ned by the third ar)-.25 F
.037(gument, i.e., the check function is polled)-.18 F(ag)128 582 Q .606
(ain not until this amount of time elapsed. Example: `)-.05 F F3 .606
(pth_event\(PTH_EVENT_FUNC, func,)B(arg, pth_time\(0,500000\)\))128 594
Q F0('.)A(unsigned long)108 610.8 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G 6.226 -4.438(ee v)4.998 H -.1(ve)
-.56 G(en)-4.338 E(nt)-5.558 E(t_)-3.328 E(_t)-4.998 E(ty)-3.328 E(yp)
-4.998 E(pe)-5.558 E(eo)-4.438 E(of)-4.998 E(f)-3.328 E F0(\(pth_e)A
-.15(ve)-.25 G(nt_t).15 E F2 -.15(ev)2.5 G F0(\);).15 E 3.237
(This returns the type of e)128 622.8 R -.15(ve)-.25 G(nt).15 E F2 -.15
(ev)5.737 G F0 5.737(.I).15 G(t')-5.737 E 5.737(sac)-.55 G 3.237
(ombination of the describing)-5.737 F F3(PTH_EVENT_XX)5.738 E F0(and)
5.738 E F3(PTH_UNTIL_XX)128 634.8 Q F0 -.25(va)2.794 G .294
(lue. This is especially useful to kno).25 F 2.793(ww)-.25 G .293
(hich ar)-2.793 F .293(guments ha)-.18 F .593 -.15(ve t)-.2 H 2.793(ob)
.15 G 2.793(es)-2.793 G .293(upplied to the)-2.793 F F2(pth_e)128 646.8
Q(vent_e)-.15 E(xtr)-.2 E(act)-.15 E F0(\(3\) function.)1.666 E(int)108
663.6 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998
(__)5.558 G 6.226 -4.438(ee v)4.998 H -.1(ve)-.56 G(en)-4.338 E(nt)
-5.558 E(t_)-3.328 E(_e)-4.998 E(ex)-4.438 E(xt)-4.998 E(tr)-3.328 E(ra)
-4.438 E(ac)-4.998 E(ct)-4.438 E(t)-3.328 E F0(\(pth_e)A -.15(ve)-.25 G
(nt_t).15 E F2 -.15(ev)2.5 G F0 2.5(,.).15 G(..\);)-2.5 E(When)128 675.6
Q F2(pth_e)2.777 E(vent)-.15 E F0 .277(\(3\) is treated lik)1.666 F(e)
-.1 E F2(sprintf)2.777 E F0 .278(\(3\), then this function is)1.666 F F2
(sscanf)2.778 E F0 .278(\(3\), i.e., it is the in)1.666 F -.15(ve)-.4 G
.278(rse oper).15 F(-)-.2 E .201(ation of)128 687.6 R F2(pth_e)2.701 E
(vent)-.15 E F0 .201(\(3\). This means that it can be used to e)1.666 F
.201(xtract the ingredients of an e)-.15 F -.15(ve)-.25 G 2.7(nt. The)
.15 F(ingre-)2.7 E .092(dients are stored into v)128 699.6 R .092
(ariables which are gi)-.25 F -.15(ve)-.25 G 2.592(na).15 G 2.593(sp)
-2.592 G .093(ointers on the v)-2.593 F .093(ariable ar)-.25 F .093
(gument list.)-.18 F .093(Which point-)5.093 F 1.188(ers ha)128 711.6 R
1.488 -.15(ve t)-.2 H 3.688(ob).15 G 3.688(ep)-3.688 G 1.188
(resent depends on the e)-3.688 F -.15(ve)-.25 G 1.188
(nt type and has to be determined by the caller before via).15 F F2
(pth_e)128 723.6 Q(vent_typeof)-.15 E F0(\(3\).)1.666 E 163.315
(2002-10-15 perl)72 768 R 199.975(v5.6.1 12)2.5 F EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E 1.959 -.8(To m)128 84 T(ak).8 E 2.859(ei)-.1 G 2.859(tc)-2.859 G
(lear)-2.859 E 2.859(,w)-.4 G .359(hen you constructed)-2.859 F/F1 10
/Times-Italic@0 SF -.15(ev)2.859 G F0 .359(via `)3.009 F/F2 10/Courier@0
SF .36(ev = pth_event\(PTH_EVENT_FD, fd\);)B F0 2.86('y)C(ou)-2.86 E(ha)
128 96 Q .604 -.15(ve t)-.2 H 2.803(oe).15 G .303(xtract it via `)-2.953
F F2 .303(pth_event_extract\(ev, &fd\))B F0 .303(', etc. F)B .303
(or multiple ar)-.15 F .303(guments of an e)-.18 F -.15(ve)-.25 G(nt).15
E .566(the order of the pointer ar)128 108 R .566
(guments is the same as for)-.18 F F1(pth_e)3.066 E(vent)-.15 E F0 .566
(\(3\). But al)1.666 F -.1(wa)-.1 G .567(ys k).1 F .567
(eep in mind that you)-.1 F(ha)128 120 Q 1.595 -.15(ve t)-.2 H 3.795(oa)
.15 G -.1(lwa)-3.795 G 1.295(ys supply).1 F F1(pointer)3.795 E(s)-.1 E
F0(to)3.795 E F1(variables)3.795 E F0 1.295(and these v)3.795 F 1.295
(ariables ha)-.25 F 1.595 -.15(ve t)-.2 H 3.795(ob).15 G 3.795(eo)-3.795
G 3.795(ft)-3.795 G 1.295(he same type as the)-3.795 F(ar)128 132 Q
(gument of)-.18 E F1(pth_e)2.5 E(vent)-.15 E F0(\(3\) required.)1.666 E
(pth_e)108 148.8 Q -.15(ve)-.25 G(nt_t).15 E/F3 10/Times-Bold@0 SF
-5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G
6.226 -4.438(ee v)4.998 H -.1(ve)-.56 G(en)-4.338 E(nt)-5.558 E(t_)
-3.328 E(_c)-4.998 E(co)-4.438 E(on)-4.998 E(nc)-5.558 E(ca)-4.438 E(at)
-4.998 E(t)-3.328 E F0(\(pth_e)A -.15(ve)-.25 G(nt_t).15 E F1 -.15(ev)
2.5 G F0 2.5(,.).15 G(..\);)-2.5 E .051
(This concatenates one or more additional e)128 160.8 R -.15(ve)-.25 G
.051(nt rings to the e).15 F -.15(ve)-.25 G .051(nt ring).15 F F1 -.15
(ev)2.551 G F0 .051(and returns)2.701 F F1 -.15(ev)2.551 G F0 2.551(.T)
.15 G .051(he end of the)-2.551 F(ar)128 172.8 Q .141
(gument list has to be mark)-.18 F .141(ed with a)-.1 F F2(NULL)2.641 E
F0(ar)2.641 E .14(gument. Use this function to create real e)-.18 F -.15
(ve)-.25 G .14(nts rings out).15 F(of the single-e)128 184.8 Q -.15(ve)
-.25 G(nt rings created by).15 E F1(pth_e)2.5 E(vent)-.15 E F0(\(3\).)
1.666 E(pth_e)108 201.6 Q -.15(ve)-.25 G(nt_t).15 E F3 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G 6.226 -4.438(ee v)
4.998 H -.1(ve)-.56 G(en)-4.338 E(nt)-5.558 E(t_)-3.328 E(_i)-4.998 E
(is)-2.778 E(so)-3.888 E(ol)-4.998 E(la)-2.778 E(at)-4.998 E(te)-3.328 E
(e)-4.438 E F0(\(pth_e)A -.15(ve)-.25 G(nt_t).15 E F1 -.15(ev)2.5 G F0
(\);).15 E .251(This isolates the e)128 213.6 R -.15(ve)-.25 G(nt).15 E
F1 -.15(ev)2.751 G F0 .251(from possibly appended e)2.901 F -.15(ve)-.25
G .251(nts in the e).15 F -.15(ve)-.25 G .251(nt ring.).15 F .251
(When in)5.251 F F1 -.15(ev)2.751 G F0 .252(only one e)2.901 F -.15(ve)
-.25 G(nt).15 E -.15(ex)128 225.6 S .112(ists, this returns).15 F F2
(NULL)2.612 E F0 2.612(.W)C .111(hen remaining e)-2.612 F -.15(ve)-.25 G
.111(nts e).15 F .111(xists, the)-.15 F 2.611(yf)-.15 G .111(orm a ne)
-2.611 F 2.611(we)-.25 G -.15(ve)-2.861 G .111
(nt ring which is returned.).15 F(pth_e)108 242.4 Q -.15(ve)-.25 G(nt_t)
.15 E F3 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)
5.558 G 6.226 -4.438(ee v)4.998 H -.1(ve)-.56 G(en)-4.338 E(nt)-5.558 E
(t_)-3.328 E(_w)-4.998 E(wa)-7.218 E(al)-4.998 E(lk)-2.778 E(k)-5.558 E
F0(\(pth_e)A -.15(ve)-.25 G(nt_t).15 E F1 -.15(ev)2.5 G F0 2.5(,i).15 G
(nt)-2.5 E F1(dir)2.5 E(ection)-.37 E F0(\);)A 3.181(This w)128 254.4 R
3.181(alks to the ne)-.1 F 3.181(xt \(when)-.15 F F1(dir)5.681 E(ection)
-.37 E F0(is)5.682 E F2(PTH_WALK_NEXT)5.682 E F0 5.682(\)o)C 5.682(rp)
-5.682 G(re)-5.682 E(vie)-.25 E 3.182(ws \(when)-.25 F F1(dir)5.682 E
(ection)-.37 E F0(is)5.682 E F2(PTH_WALK_PREV)128 266.4 Q F0 4.987(\)e)C
-.15(ve)-5.237 G 2.487(nt in the e).15 F -.15(ve)-.25 G 2.487(nt ring)
.15 F F1 -.15(ev)4.987 G F0 2.487(and returns this ne)5.137 F 4.987(wr)
-.25 G 2.487(eached e)-4.987 F -.15(ve)-.25 G 2.486(nt. Additionally).15
F F2(PTH_UNTIL_OCCURRED)128 278.4 Q F0 .387(can be OR-ed into)2.887 F F1
(dir)2.888 E(ection)-.37 E F0 .388(to w)2.888 F .388(alk to the ne)-.1 F
(xt/pre)-.15 E .388(vious occurred e)-.25 F -.15(ve)-.25 G .388(nt in)
.15 F(the ring)128 290.4 Q F1 -.15(ev)2.5 G F0(.).15 E(int)108 307.2 Q
F3 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G
6.226 -4.438(ee v)4.998 H -.1(ve)-.56 G(en)-4.338 E(nt)-5.558 E(t_)
-3.328 E(_o)-4.998 E(oc)-4.998 E(cc)-4.438 E(cu)-4.438 E(ur)-5.558 E(rr)
-4.438 E -.18(re)-4.438 G(ed)-4.258 E(d)-5.558 E F0(\(pth_e)A -.15(ve)
-.25 G(nt_t).15 E F1 -.15(ev)2.5 G F0(\);).15 E .13
(This checks whether the e)128 319.2 R -.15(ve)-.25 G(nt).15 E F1 -.15
(ev)2.63 G F0 .13(occurred. This is a f)2.78 F .129
(ast operation because only a tag on)-.1 F F1 -.15(ev)2.629 G F0 .129
(is check)2.779 F(ed)-.1 E 1.315(which w)128 331.2 R 1.315
(as either set or still not set by the scheduler)-.1 F 3.815(.I)-.55 G
3.815(no)-3.815 G 1.315(ther w)-3.815 F 1.315(ords: This doesn')-.1 F
3.815(tc)-.18 G 1.315(heck the e)-3.815 F -.15(ve)-.25 G(nt).15 E
(itself, it just checks the last kno)128 343.2 Q
(wledge of the scheduler)-.25 E(.)-.55 E(int)108 360 Q F3 -5.558(pp)2.5
G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G 6.226 -4.438
(ee v)4.998 H -.1(ve)-.56 G(en)-4.338 E(nt)-5.558 E(t_)-3.328 E(_f)
-4.998 E(fr)-3.328 E -.18(re)-4.438 G(ee)-4.258 E(e)-4.438 E F0(\(pth_e)
A -.15(ve)-.25 G(nt_t).15 E F1 -.15(ev)2.5 G F0 2.5(,i).15 G(nt)-2.5 E
F1(mode)2.5 E F0(\);)A .825(This deallocates the e)128 372 R -.15(ve)
-.25 G(nt).15 E F1 -.15(ev)3.325 G F0(\(when)3.475 E F1(mode)3.325 E F0
(is)3.325 E F2(PTH_FREE_THIS)3.325 E F0 3.325(\)o)C 3.325(ra)-3.325 G
.824(ll e)-3.325 F -.15(ve)-.25 G .824(nts appended to the e).15 F -.15
(ve)-.25 G(nt).15 E(ring under)128 384 Q F1 -.15(ev)2.5 G F0(\(when)2.65
E F1(mode)2.5 E F0(is)2.5 E F2(PTH_FREE_ALL)2.5 E F0(\).)A F3 12.806
-7.778(KK e)108 406.8 T(ey)3.34 E(y-)-4.998 E(-B)-3.328 E(Ba)-6.668 E
(as)-4.998 E(se)-3.888 E(ed)-4.438 E 2.5(dS)-5.558 G(St)-8.058 E(to)
-3.328 E(or)-4.998 E(ra)-4.438 E(ag)-4.998 E(ge)-4.998 E(e)-4.438 E F0
1.275(The follo)108 423.6 R 1.275(wing functions pro)-.25 F 1.276
(vide thread-local storage through unique k)-.15 F -.15(ey)-.1 G 3.776
(ss).15 G 1.276(imilar to the)-3.776 F/F4 9/Times-Roman@0 SF(POSIX)3.776
E F3 -6.108(PP)3.776 G -3.328(tt)6.108 G -5.558(hh)3.328 G 6.196 -4.438
(rr ee)5.558 H -4.998(aa)4.438 G -5.558(dd)4.998 G F4(API)108 435.6 Q F0
2.5(.U)C(se this for thread speci\214c global data.)-2.5 E(int)108 452.4
Q F3 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558
G 8.516 -5.558(kk e)4.998 H(ey)1.12 E(y_)-4.998 E(_c)-4.998 E(cr)-4.438
E -.18(re)-4.438 G(ea)-4.258 E(at)-4.998 E(te)-3.328 E(e)-4.438 E F0
(\(pth_k)A -.15(ey)-.1 G(_t *).15 E F1 -.1(ke)C(y)-.2 E F0 2.5(,v)C
(oid \(*)-2.7 E F1(func)A F0(\)\(v)A(oid *\)\);)-.2 E .192
(This created a ne)128 464.4 R 2.692(wu)-.25 G .192(nique k)-2.692 F
.492 -.15(ey a)-.1 H .192(nd stores it in).15 F F1 -.1(ke)2.692 G(y)-.2
E F0 5.192(.A)C(dditionally)-5.192 E F1(func)2.692 E F0 .191
(can specify a destructor function)2.692 F
(which is called on the current threads termination with the)128 476.4 Q
F1 -.1(ke)2.5 G(y)-.2 E F0(.)A(int)108 493.2 Q F3 -5.558(pp)2.5 G -3.328
(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G 8.516 -5.558(kk e)4.998
H(ey)1.12 E(y_)-4.998 E(_d)-4.998 E(de)-5.558 E(el)-4.438 E(le)-2.778 E
(et)-4.438 E(te)-3.328 E(e)-4.438 E F0(\(pth_k)A -.15(ey)-.1 G(_t).15 E
F1 -.1(ke)2.5 G(y)-.2 E F0(\);)A(This e)128 505.2 Q(xplicitly destro)
-.15 E(ys a k)-.1 E -.15(ey)-.1 G F1 -.1(ke)2.65 G(y)-.2 E F0(.)A(int)
108 522 Q F3 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998
(__)5.558 G 8.516 -5.558(kk e)4.998 H(ey)1.12 E(y_)-4.998 E(_s)-4.998 E
(se)-3.888 E(et)-4.438 E(td)-3.328 E(da)-5.558 E(at)-4.998 E(ta)-3.328 E
(a)-4.998 E F0(\(pth_k)A -.15(ey)-.1 G(_t).15 E F1 -.1(ke)2.5 G(y)-.2 E
F0 2.5(,c)C(onst v)-2.5 E(oid *)-.2 E F1(value)A F0(\);)A(This stores)
128 534 Q F1(value)2.5 E F0(under)2.5 E F1 -.1(ke)2.5 G(y)-.2 E F0(.)A
-.2(vo)108 550.8 S(id *).2 E F3 -5.558(pp)C -3.328(tt)5.558 G -5.558(hh)
3.328 G -4.998(__)5.558 G 8.516 -5.558(kk e)4.998 H(ey)1.12 E(y_)-4.998
E(_g)-4.998 E(ge)-4.998 E(et)-4.438 E(td)-3.328 E(da)-5.558 E(at)-4.998
E(ta)-3.328 E(a)-4.998 E F0(\(pth_k)A -.15(ey)-.1 G(_t).15 E F1 -.1(ke)
2.5 G(y)-.2 E F0(\);)A(This retrie)128 562.8 Q -.15(ve)-.25 G 2.5(st).15
G(he v)-2.5 E(alue under)-.25 E F1 -.1(ke)2.5 G(y)-.2 E F0(.)A F3 -9.438
(MM)108 585.6 S -4.438(ee)9.438 G -3.888(ss)4.438 G -3.888(ss)3.888 G
-4.998(aa)3.888 G -4.998(gg)4.998 G 8.876 -4.438(ee P)4.998 H -.2(Po)
-1.67 G(or)-4.798 E(rt)-4.438 E 2.5(tC)-3.328 G(Co)-9.718 E(om)-4.998 E
(mm)-8.328 E(mu)-8.328 E(un)-5.558 E(ni)-5.558 E(ic)-2.778 E(ca)-4.438 E
(at)-4.998 E(ti)-3.328 E(io)-2.778 E(on)-4.998 E(n)-5.558 E F0 1.45
(The follo)108 602.4 R 1.45(wing functions pro)-.25 F 1.45
(vide message ports which can be used for ef)-.15 F 1.45
(\214cient and \215e)-.25 F 1.45(xible inter)-.15 F(-thread)-.2 E
(communication.)108 614.4 Q(pth_msgport_t)108 631.2 Q F3 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -8.328(mm)4.998 G
-3.888(ss)8.328 G -4.998(gg)3.888 G -5.558(pp)4.998 G -4.998(oo)5.558 G
-4.438(rr)4.998 G -3.328(tt)4.438 G -4.998(__)3.328 G -4.438(cc)4.998 G
6.196 -4.438(rr ee)4.438 H -4.998(aa)4.438 G -3.328(tt)4.998 G -4.438
(ee)3.328 G F0(\(const char *)4.438 E F1(name)A F0(\);)A .299
(This returns a pointer to a ne)128 643.2 R 2.799(wm)-.25 G .298
(essage port with name)-2.799 F F1(name)2.798 E F0 2.798(.T)C(he)-2.798
E F1(name)2.798 E F0 .298(can be used by other threads)2.798 F(via)128
655.2 Q F1(pth_msgport_\214nd)3.084 E F0 .584
(\(3\) to \214nd the message port in case the)1.666 F 3.084(yd)-.15 G
3.084(on)-3.084 G .585(ot kno)-3.084 F 3.085(wd)-.25 G .585
(irectly the pointer to the)-3.085 F(message port.)128 667.2 Q -.2(vo)
108 684 S(id).2 E F3 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G -8.328(mm)4.998 G -3.888(ss)8.328 G -4.998(gg)3.888 G
-5.558(pp)4.998 G -4.998(oo)5.558 G -4.438(rr)4.998 G -3.328(tt)4.438 G
-4.998(__)3.328 G -5.558(dd)4.998 G -4.438(ee)5.558 G -3.888(ss)4.438 G
-3.328(tt)3.888 G 6.196 -4.438(rr o)3.328 H(oy)-.56 E(y)-4.998 E F0
(\(pth_msgport_t)A F1(mp)2.5 E F0(\);)A .16(This destro)128 696 R .16
(ys a message port)-.1 F F1(mp)2.66 E F0 2.66(.B)C .16
(efore all pending messages on it are replied to their origin message)
-2.66 F(port.)128 708 Q 163.315(2002-10-15 perl)72 768 R 199.975
(v5.6.1 13)2.5 F EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E(pth_msgport_t)108 84 Q/F1 10/Times-Bold@0 SF -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -8.328(mm)4.998 G
-3.888(ss)8.328 G -4.998(gg)3.888 G -5.558(pp)4.998 G -4.998(oo)5.558 G
-4.438(rr)4.998 G -3.328(tt)4.438 G -4.998(__)3.328 G -5.558<8c8c>4.998
G -5.558(nn)5.558 G -5.558(dd)5.558 G F0(\(const char *)5.558 E/F2 10
/Times-Italic@0 SF(name)A F0(\);)A
(This \214nds a message port in the system by)128 96 Q F2(name)2.5 E F0
(and returns the pointer to it.)2.5 E(int)108 112.8 Q F1 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -8.328(mm)4.998 G
-3.888(ss)8.328 G -4.998(gg)3.888 G -5.558(pp)4.998 G -4.998(oo)5.558 G
-4.438(rr)4.998 G -3.328(tt)4.438 G -4.998(__)3.328 G -5.558(pp)4.998 G
-4.438(ee)5.558 G -5.558(nn)4.438 G -5.558(dd)5.558 G -2.778(ii)5.558 G
-5.558(nn)2.778 G -4.998(gg)5.558 G F0(\(pth_msgport_t)4.998 E F2(mp)2.5
E F0(\);)A(This returns the number of pending messages on message port)
128 124.8 Q F2(mp)2.5 E F0(.)A(int)108 141.6 Q F1 -5.558(pp)2.5 G -3.328
(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -8.328(mm)4.998 G -3.888
(ss)8.328 G -4.998(gg)3.888 G -5.558(pp)4.998 G -4.998(oo)5.558 G -4.438
(rr)4.998 G -3.328(tt)4.438 G -4.998(__)3.328 G -5.558(pp)4.998 G -5.558
(uu)5.558 G -3.328(tt)5.558 G F0(\(pth_msgport_t)3.328 E F2(mp)2.5 E F0
2.5(,p)C(th_message_t *)-2.5 E F2(m)A F0(\);)A
(This puts \(or sends\) a message)128 153.6 Q F2(m)2.5 E F0
(to message port)2.5 E F2(mp)2.5 E F0(.)A(pth_message_t *)108 170.4 Q F1
-5.558(pp)C -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -8.328
(mm)4.998 G -3.888(ss)8.328 G -4.998(gg)3.888 G -5.558(pp)4.998 G -4.998
(oo)5.558 G -4.438(rr)4.998 G -3.328(tt)4.438 G -4.998(__)3.328 G -4.998
(gg)4.998 G -4.438(ee)4.998 G -3.328(tt)4.438 G F0(\(pth_msgport_t)3.328
E F2(mp)2.5 E F0(\);)A .278(This gets \(or recei)128 182.4 R -.15(ve)
-.25 G .278(s\) the top message from message port).15 F F2(mp)2.778 E F0
5.278(.I)C .278(ncoming messages are al)-5.278 F -.1(wa)-.1 G .279(ys k)
.1 F .279(ept in)-.1 F 2.5(aq)128 194.4 S
(ueue, so there can be more pending messages, of course.)-2.5 E(int)108
211.2 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998
(__)5.558 G -8.328(mm)4.998 G -3.888(ss)8.328 G -4.998(gg)3.888 G -5.558
(pp)4.998 G -4.998(oo)5.558 G -4.438(rr)4.998 G -3.328(tt)4.438 G -4.998
(__)3.328 G 6.196 -4.438(rr ee)4.998 H -5.558(pp)4.438 G -2.778(ll)5.558
G -4.998(yy)2.778 G F0(\(pth_message_t *)4.998 E F2(m)A F0(\);)A
(This replies a message)128 223.2 Q F2(m)2.5 E F0
(to the message port of the sender)2.5 E(.)-.55 E F1 -6.668(TT)108 246 S
-5.558(hh)6.668 G 6.196 -4.438(rr ee)5.558 H -4.998(aa)4.438 G 11.116
-5.558(dd C)4.998 H(Cl)-1.66 E(le)-2.778 E(ea)-4.438 E(an)-4.998 E(nu)
-5.558 E(up)-5.558 E(ps)-5.558 E(s)-3.888 E F0(Per)108 262.8 Q
(-thread cleanup functions.)-.2 E(int)108 279.6 Q F1 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -4.438(cc)4.998 G
-2.778(ll)4.438 G -4.438(ee)2.778 G -4.998(aa)4.438 G -5.558(nn)4.998 G
-5.558(uu)5.558 G -5.558(pp)5.558 G -4.998(__)5.558 G -5.558(pp)4.998 G
-5.558(uu)5.558 G -3.888(ss)5.558 G -5.558(hh)3.888 G F0(\(v)5.558 E
(oid \(*)-.2 E F2(handler)A F0(\)\(v)A(oid *\), v)-.2 E(oid *)-.2 E F2
(ar)A(g)-.37 E F0(\);)A .651(This pushes the routine)128 291.6 R F2
(handler)3.151 E F0 .651
(onto the stack of cleanup routines for the current thread.)3.151 F .65
(These rou-)5.65 F(tines are called in)128 303.6 Q/F3 9/Times-Roman@0 SF
(LIFO)2.5 E F0(order when the thread terminates.)2.5 E(int)108 320.4 Q
F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G
-4.438(cc)4.998 G -2.778(ll)4.438 G -4.438(ee)2.778 G -4.998(aa)4.438 G
-5.558(nn)4.998 G -5.558(uu)5.558 G -5.558(pp)5.558 G -4.998(__)5.558 G
-5.558(pp)4.998 G -4.998(oo)5.558 G -5.558(pp)4.998 G F0(\(int)5.558 E
F2 -.2(ex)2.5 G(ecute).2 E F0(\);)A .126(This pops the top-most routine\
 from the stack of cleanup routines for the current thread. When)128
332.4 R F2 -.2(ex)2.626 G(ecute).2 E F0(is)128 344.4 Q/F4 10/Courier@0
SF(TRUE)2.5 E F0(the routine is additionally called.)2.5 E F1 -6.108(PP)
108 367.2 S 6.196 -4.438(rr o)6.108 H(oc)-.56 E(ce)-4.438 E(es)-4.438 E
(ss)-3.888 E 2.5(sF)-3.888 G -.25(Fo)-8.608 G(or)-4.748 E(rk)-4.438 E
(ki)-5.558 E(in)-2.778 E(ng)-5.558 E(g)-4.998 E F0 1.193(The follo)108
384 R 1.193(wing functions pro)-.25 F 1.192(vide some special support f\
or process forking situations inside the threading)-.15 F(en)108 396 Q
(vironment.)-.4 E(int)108 412.8 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G -4.998(aa)4.998 G -3.328(tt)4.998 G
3.906 -3.328(ff o)3.328 H(or)-1.67 E(rk)-4.438 E(k_)-5.558 E(_p)-4.998 E
(pu)-5.558 E(us)-5.558 E(sh)-3.888 E(h)-5.558 E F0(\(v)A(oid \(*)-.2 E
F2(pr)A(epar)-.37 E(e)-.37 E F0(\)\(v)A(oid *\), v)-.2 E(oid \(*\)\(v)
-.2 E(oid *)-.2 E F2(par)A(ent)-.37 E F0(\), v)A(oid \(*\)\(v)-.2 E
(oid *)-.2 E F2 -.15(ch)C(ild).15 E F0(\), v)A(oid *)-.2 E F2(ar)A(g)
-.37 E F0(\);)A .366
(This function declares forking handlers to be called before and after)
128 424.8 R F2(pth_fork)2.866 E F0 .366(\(3\), in the conte)1.666 F .366
(xt of the)-.15 F 1.163(thread that called)128 436.8 R F2(pth_fork)3.663
E F0 1.163(\(3\). The)1.666 F F2(pr)3.662 E(epar)-.37 E(e)-.37 E F0
1.162(handler is called before)3.662 F F2(fork)3.662 E F0 1.162
(\(2\) processing commences.)1.666 F(The)128 448.8 Q F2(par)2.729 E(ent)
-.37 E F0 .229(handler is called)2.729 F(after)7.729 E F2(fork)2.729 E
F0 .23(\(2\) processing completes in the parent process.)1.666 F(The)
5.23 E F2 -.15(ch)2.73 G(ild).15 E F0(han-)2.73 E .58
(dler is called after)128 460.8 R F2(fork)3.08 E F0 .58(\(2\) processin\
g completed in the child process. If no handling is desired at one)1.666
F .14
(or more of these three points, the corresponding handler can be gi)128
472.8 R -.15(ve)-.25 G 2.64(na).15 G(s)-2.64 E F4(NULL)2.64 E F0 5.14
(.E)C .14(ach handler is called)-5.14 F(with)128 484.8 Q F2(ar)2.5 E(g)
-.37 E F0(as the ar)2.5 E(gument.)-.18 E .353(The order of calls to)128
502.8 R F2(pth_atfork_push)2.852 E F0 .352(\(3\) is signi\214cant. The)
1.666 F F2(par)2.852 E(ent)-.37 E F0(and)2.852 E F2 -.15(ch)2.852 G(ild)
.15 E F0 .352(handlers are called in the)2.852 F .341
(order in which the)128 514.8 R 2.841(yw)-.15 G .341
(ere established by calls to)-2.841 F F2(pth_atfork_push)2.841 E F0 .342
(\(3\), i.e.,)1.666 F F3(FIFO)2.842 E F0 2.842(.T)C(he)-2.842 E F2(pr)
2.842 E(epar)-.37 E(e)-.37 E F0 .342(fork han-)2.842 F
(dlers are called in the opposite order)128 526.8 Q 2.5(,i)-.4 G(.e.,)
-2.5 E F3(LIFO)2.5 E F0(.)A(int)108 543.6 Q F1 -5.558(pp)2.5 G -3.328
(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -4.998(aa)4.998 G -3.328
(tt)4.998 G 3.906 -3.328(ff o)3.328 H(or)-1.67 E(rk)-4.438 E(k_)-5.558 E
(_p)-4.998 E(po)-5.558 E(op)-4.998 E(p)-5.558 E F0(\(v)A(oid\);)-.2 E
.472(This remo)128 555.6 R -.15(ve)-.15 G 2.972(st).15 G .472(he top-mo\
st handlers on the forking handler stack which were established with th\
e last)-2.972 F F2(pth_atfork_push)128 567.6 Q F0 1.905
(\(3\) call. It returns)1.666 F F4(FALSE)4.405 E F0 1.905
(when no more handlers couldn')4.405 F 4.405(tb)-.18 G 4.405(er)-4.405 G
(emo)-4.405 E -.15(ve)-.15 G 4.405(df).15 G 1.905(rom the)-4.405 F
(stack.)128 579.6 Q(pid_t)108 596.4 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558
G -5.558(hh)3.328 G -4.998(__)5.558 G 3.906 -3.328(ff o)4.998 H(or)-1.67
E(rk)-4.438 E(k)-5.558 E F0(\(v)A(oid\);)-.2 E 1.045(This is a v)128
608.4 R 1.045(ariant of)-.25 F F2(fork)3.545 E F0 1.045
(\(2\) with the dif)1.666 F 1.045
(ference that the current thread only is fork)-.25 F 1.044
(ed into a separate)-.1 F 1.519(process, i.e., in the parent process no\
thing changes while in the child process all threads are gone)128 620.4
R -.15(ex)128 632.4 S .922
(cept for the scheduler and the calling thread. When you really w).15 F
.921(ant to duplicate all threads in the)-.1 F 1.024
(current process you should use)128 644.4 R F2(fork)3.524 E F0 1.024
(\(2\) directly)1.666 F 3.525(.B)-.65 G 1.025
(ut this is usually not reasonable. Additionally this)-3.525 F
(function tak)128 656.4 Q(es care of forking handlers as established by)
-.1 E F2(pth_fork_push)2.5 E F0(\(3\).)1.666 E 163.315(2002-10-15 perl)
72 768 R 199.975(v5.6.1 14)2.5 F EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Times-Bold@0 SF -5.558(SS)108 84 S -4.998(yy)5.558 G -5.558
(nn)4.998 G -4.438(cc)5.558 G -5.558(hh)4.438 G 6.196 -4.438(rr o)5.558
H(on)-.56 E(ni)-5.558 E(iz)-2.778 E(za)-4.438 E(at)-4.998 E(ti)-3.328 E
(io)-2.778 E(on)-4.998 E(n)-5.558 E F0 1.146(The follo)108 100.8 R 1.146
(wing functions pro)-.25 F 1.145
(vide synchronization support via mutual e)-.15 F 1.145
(xclusion locks \()-.15 F F1 -8.328(mm)C -5.558(uu)8.328 G -3.328(tt)
5.558 G -4.438(ee)3.328 G -4.998(xx)4.438 G F0 1.145(\), read-write)
4.998 F .845(locks \()108 112.8 R F1 -4.438(rr)C -7.218(ww)4.438 G
-2.778(ll)7.218 G -4.998(oo)2.778 G -4.438(cc)4.998 G -5.558(kk)4.438 G
F0 .845(\), condition v)5.558 F .845(ariables \()-.25 F F1 -4.438(cc)C
-4.998(oo)4.438 G -5.558(nn)4.998 G -5.558(dd)5.558 G F0 3.345(\)a)5.558
G .845(nd barriers \()-3.345 F F1 -5.558(bb)C -4.998(aa)5.558 G -4.438
(rr)4.998 G -4.438(rr)4.438 G -2.778(ii)4.438 G -4.438(ee)2.778 G -4.438
(rr)4.438 G F0 .845(\). K)4.438 F .846
(eep in mind that in a non-preempti)-.25 F -.15(ve)-.25 G .51
(threading system lik)108 124.8 R(e)-.1 E F1 -6.108(PP)3.01 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 .51(this might sound unnecessary at the \
\214rst look, because a thread isn')8.568 F 3.009(ti)-.18 G(nterrupted)
-3.009 E .885(by the system. Actually when you ha)108 136.8 R 1.185 -.15
(ve a c)-.2 H .885(ritical code section which doesn').15 F 3.385(tc)-.18
G .885(ontain an)-3.385 F(y)-.15 E/F2 10/Times-Italic@0 SF(pth_xxx\(\))
3.385 E F0(func-)3.385 E(tions, you don')108 148.8 Q 2.5(tn)-.18 G
(eed an)-2.5 E 2.5(ym)-.15 G(ute)-2.5 E 2.5(xt)-.15 G 2.5(op)-2.5 G
(rotect it, of course.)-2.5 E .292
(But when your critical code section contains an)108 165.6 R(y)-.15 E F2
(pth_xxx\(\))2.791 E F0 .291
(function the chance is high that these temporar)2.791 F(-)-.2 E .42
(ily switch to the scheduler)108 177.6 R 2.92(.A)-.55 G .42(nd this w)
-2.92 F .421(ay other threads can mak)-.1 F 2.921(ep)-.1 G .421
(rogress and enter your critical code sec-)-2.921 F .12(tion, too.)108
189.6 R .12(This is especially true for critical code sections which im\
plicitly or e)5.12 F .12(xplicitly use the e)-.15 F -.15(ve)-.25 G .12
(nt mech-).15 F(anism.)108 201.6 Q(int)108 218.4 Q F1 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -8.328(mm)4.998 G
-5.558(uu)8.328 G -3.328(tt)5.558 G -4.438(ee)3.328 G -4.998(xx)4.438 G
-4.998(__)4.998 G -2.778(ii)4.998 G -5.558(nn)2.778 G -2.778(ii)5.558 G
-3.328(tt)2.778 G F0(\(pth_mute)3.328 E(x_t *)-.15 E F2(mute)A(x)-.2 E
F0(\);)A 1.219(This dynamically initializes a mute)128 230.4 R 3.719(xv)
-.15 G 1.219(ariable of type `)-3.969 F/F3 10/Courier@0 SF(pth_mutex_t)A
F0 3.719('. Alternati)B -.15(ve)-.25 G 1.22(ly one can also).15 F
(use static initialization via `)128 242.4 Q F3
(pth_mutex_t mutex = PTH_MUTEX_INIT)A F0('.)A(int)108 259.2 Q F1 -5.558
(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -8.328
(mm)4.998 G -5.558(uu)8.328 G -3.328(tt)5.558 G -4.438(ee)3.328 G -4.998
(xx)4.438 G -4.998(__)4.998 G -4.998(aa)4.998 G -4.438(cc)4.998 G -5.558
(qq)4.438 G -5.558(uu)5.558 G -2.778(ii)5.558 G 6.196 -4.438(rr ee)2.778
H F0(\(pth_mute)4.438 E(x_t *)-.15 E F2(mute)A(x)-.2 E F0 2.5(,i)C(nt)
-2.5 E F2(try)2.5 E F0 2.5(,p)C(th_e)-2.5 E -.15(ve)-.25 G(nt_t).15 E F2
-.15(ev)2.5 G F0(\);).15 E 1.228(This acquires a mute)128 271.2 R(x)-.15
E F2(mute)3.728 E(x)-.2 E F0 6.228(.I)C 3.728(ft)-6.228 G 1.228(he mute)
-3.728 F 3.728(xi)-.15 G 3.727(sa)-3.728 G 1.227(lready lock)-3.727 F
1.227(ed by another thread, the current threads)-.1 F -.15(exe)128 283.2
S .002(cution is suspended until the mute).15 F 2.502(xi)-.15 G 2.502
(su)-2.502 G(nlock)-2.502 E .002(ed ag)-.1 F .002
(ain or additionally the e)-.05 F .002(xtra e)-.15 F -.15(ve)-.25 G .002
(nts in).15 F F2 -.15(ev)2.502 G F0(occurred)2.652 E(\(when)128 295.2 Q
F2 -.15(ev)2.753 G F0 .253(is not)2.903 F F3(NULL)2.753 E F0 2.753
(\). Recursi)B .553 -.15(ve l)-.25 H .252(ocking is e).15 F .252
(xplicitly supported, i.e., a thread is allo)-.15 F .252
(wed to acquire a)-.25 F(mute)128 307.2 Q 3.225(xm)-.15 G .726(ore than\
 once before its released. But it then also has be released the same nu\
mber of times)-3.225 F .16(until the mute)128 319.2 R 2.66(xi)-.15 G
2.66(sa)-2.66 G -.05(ga)-2.66 G .16(in lockable by others.).05 F(When)
5.159 E F2(try)2.659 E F0(is)2.659 E F3(TRUE)2.659 E F0 .159
(this function ne)2.659 F -.15(ve)-.25 G 2.659(rs).15 G .159(uspends e)
-2.659 F -.15(xe)-.15 G(cution.).15 E(Instead it returns)128 331.2 Q F3
(FALSE)2.5 E F0(with)2.5 E F3(errno)2.5 E F0(set to)2.5 E F3(EBUSY)2.5 E
F0(.)A(int)108 348 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)
3.328 G -4.998(__)5.558 G -8.328(mm)4.998 G -5.558(uu)8.328 G -3.328(tt)
5.558 G -4.438(ee)3.328 G -4.998(xx)4.438 G -4.998(__)4.998 G 6.196
-4.438(rr ee)4.998 H -2.778(ll)4.438 G -4.438(ee)2.778 G -4.998(aa)4.438
G -3.888(ss)4.998 G -4.438(ee)3.888 G F0(\(pth_mute)4.438 E(x_t *)-.15 E
F2(mute)A(x)-.2 E F0(\);)A .285
(This decrements the recursion locking count on)128 360 R F2(mute)2.785
E(x)-.2 E F0 .285(and when it is zero it releases the mute)2.785 F(x)
-.15 E F2(mute)2.786 E(x)-.2 E F0(.)A(int)108 376.8 Q F1 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -4.438(rr)4.998 G
-7.218(ww)4.438 G -2.778(ll)7.218 G -4.998(oo)2.778 G -4.438(cc)4.998 G
-5.558(kk)4.438 G -4.998(__)5.558 G -2.778(ii)4.998 G -5.558(nn)2.778 G
-2.778(ii)5.558 G -3.328(tt)2.778 G F0(\(pth_rwlock_t *)3.328 E F2
(rwloc)A(k)-.2 E F0(\);)A .697
(This dynamically initializes a read-write lock v)128 388.8 R .696
(ariable of type `)-.25 F F3(pth_rwlock_t)A F0 3.196('. Alternati)B -.15
(ve)-.25 G .696(ly one).15 F(can also use static initialization via `)
128 400.8 Q F3(pth_rwlock_t rwlock = PTH_RWLOCK_INIT)A F0('.)A(int)108
417.6 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998
(__)5.558 G -4.438(rr)4.998 G -7.218(ww)4.438 G -2.778(ll)7.218 G -4.998
(oo)2.778 G -4.438(cc)4.998 G -5.558(kk)4.438 G -4.998(__)5.558 G -4.998
(aa)4.998 G -4.438(cc)4.998 G -5.558(qq)4.438 G -5.558(uu)5.558 G -2.778
(ii)5.558 G 6.196 -4.438(rr ee)2.778 H F0(\(pth_rwlock_t *)4.438 E F2
(rwloc)A(k)-.2 E F0 2.5(,i)C(nt)-2.5 E F2(op)2.5 E F0 2.5(,i)C(nt)-2.5 E
F2(try)2.5 E F0 2.5(,p)C(th_e)-2.5 E -.15(ve)-.25 G(nt_t).15 E F2 -.15
(ev)2.5 G F0(\);).15 E 5.163(This acquires a read-only \(when)128 429.6
R F2(op)7.664 E F0(is)7.664 E F3(PTH_RWLOCK_RD)7.664 E F0 7.664(\)o)C
7.664(rar)-7.664 G 5.164(ead-write \(when)-7.664 F F2(op)7.664 E F0(is)
7.664 E F3(PTH_RWLOCK_RW)128 441.6 Q F0 3.525(\)l)C(ock)-3.525 E F2
(rwloc)3.525 E(k)-.2 E F0 3.525(.W)C 1.025(hen the lock is only lock)
-3.525 F 1.025(ed by other threads in read-only mode,)-.1 F .333
(the lock succeeds.)128 453.6 R .333(But when one thread holds a read-w\
rite lock, all locking attempts suspend the cur)5.333 F(-)-.2 E .864
(rent thread until this lock is released ag)128 465.6 R .864
(ain. Additionally in)-.05 F F2 -.15(ev)3.364 G F0 -2.15 -.25(ev e)3.514
H .864(nts can be gi).25 F -.15(ve)-.25 G 3.364(nt).15 G 3.364(ol)-3.364
G .863(et the locking)-3.364 F .323(timeout, etc. When)128 477.6 R F2
(try)2.823 E F0(is)2.823 E F3(TRUE)2.823 E F0 .323(this function ne)
2.823 F -.15(ve)-.25 G 2.823(rs).15 G .323(uspends e)-2.823 F -.15(xe)
-.15 G .324(cution. Instead it returns).15 F F3(FALSE)2.824 E F0(with)
2.824 E F3(errno)128 489.6 Q F0(set to)2.5 E F3(EBUSY)2.5 E F0(.)A(int)
108 506.4 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G -4.438(rr)4.998 G -7.218(ww)4.438 G -2.778(ll)7.218 G
-4.998(oo)2.778 G -4.438(cc)4.998 G -5.558(kk)4.438 G -4.998(__)5.558 G
6.196 -4.438(rr ee)4.998 H -2.778(ll)4.438 G -4.438(ee)2.778 G -4.998
(aa)4.438 G -3.888(ss)4.998 G -4.438(ee)3.888 G F0(\(pth_rwlock_t *)
4.438 E F2(rwloc)A(k)-.2 E F0(\);)A(This releases a pre)128 518.4 Q
(viously acquired \(read-only or read-write\) lock.)-.25 E(int)108 535.2
Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558
G -4.438(cc)4.998 G -4.998(oo)4.438 G -5.558(nn)4.998 G -5.558(dd)5.558
G -4.998(__)5.558 G -2.778(ii)4.998 G -5.558(nn)2.778 G -2.778(ii)5.558
G -3.328(tt)2.778 G F0(\(pth_cond_t *)3.328 E F2(cond)A F0(\);)A .748
(This dynamically initializes a condition v)128 547.2 R .748(ariable v)
-.25 F .748(ariable of type `)-.25 F F3(pth_cond_t)A F0 3.248
('. Alternati)B -.15(ve)-.25 G .748(ly one).15 F
(can also use static initialization via `)128 559.2 Q F3
(pth_cond_t cond = PTH_COND_INIT)A F0('.)A(int)108 576 Q F1 -5.558(pp)
2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -4.438(cc)
4.998 G -4.998(oo)4.438 G -5.558(nn)4.998 G -5.558(dd)5.558 G -4.998(__)
5.558 G -4.998(aa)4.998 G -7.218(ww)4.998 G -4.998(aa)7.218 G -2.778(ii)
4.998 G -3.328(tt)2.778 G F0(\(pth_cond_t *)3.328 E F2(cond)A F0 2.5(,p)
C(th_mute)-2.5 E(x_t *)-.15 E F2(mute)A(x)-.2 E F0 2.5(,p)C(th_e)-2.5 E
-.15(ve)-.25 G(nt_t).15 E F2 -.15(ev)2.5 G F0(\);).15 E .649(This a)128
588 R -.1(wa)-.15 G .65
(its a condition situation. The caller has to follo).1 F 3.15(wt)-.25 G
.65(he semantics of the)-3.15 F/F4 9/Times-Roman@0 SF(POSIX)3.15 E F0
.65(condition v)3.15 F(ari-)-.25 E(ables:)128 600 Q F2(mute)3.47 E(x)-.2
E F0 .97(has to be acquired before this function is called. The e)3.47 F
-.15(xe)-.15 G .969(cution of the current thread is).15 F .77
(then suspended either until the e)128 612 R -.15(ve)-.25 G .77(nts in)
.15 F F2 -.15(ev)3.27 G F0 .771(occurred \(when)3.42 F F2 -.15(ev)3.271
G F0 .771(is not)3.421 F F3(NULL)3.271 E F0 3.271(\)o)C(r)-3.271 E F2
(cond)3.271 E F0 -.1(wa)3.271 G 3.271(sn).1 G .771(oti\214ed by)-3.271 F
2.298(another thread via)128 624 R F2(pth_cond_notify)4.798 E F0 4.798
(\(3\). While)1.666 F 2.298(the thread is w)4.798 F(aiting,)-.1 E F2
(mute)4.798 E(x)-.2 E F0 2.298(is released. Before it)4.798 F(returns)
128 636 Q F2(mute)2.5 E(x)-.2 E F0(is reacquired.)2.5 E(int)108 652.8 Q
F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G
-4.438(cc)4.998 G -4.998(oo)4.438 G -5.558(nn)4.998 G -5.558(dd)5.558 G
-4.998(__)5.558 G -5.558(nn)4.998 G -4.998(oo)5.558 G -3.328(tt)4.998 G
-2.778(ii)3.328 G -3.328(ff)2.778 G -4.998(yy)3.328 G F0(\(pth_cond_t *)
4.998 E F2(cond)A F0 2.5(,i)C(nt)-2.5 E F2(br)2.5 E(oadcast)-.45 E F0
(\);)A 1.013(This noti\214ed one or all threads which are w)128 664.8 R
1.013(aiting on)-.1 F F2(cond)3.513 E F0 6.013(.W)C(hen)-6.013 E F2(br)
3.513 E(oadcast)-.45 E F0(is)3.513 E F3(TRUE)3.513 E F0 1.013
(all thread are)3.513 F
(noti\214ed, else only a single \(unspeci\214ed\) one.)128 676.8 Q(int)
108 693.6 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G -5.558(bb)4.998 G -4.998(aa)5.558 G -4.438(rr)4.998 G
-4.438(rr)4.438 G -2.778(ii)4.438 G -4.438(ee)2.778 G -4.438(rr)4.438 G
-4.998(__)4.438 G -2.778(ii)4.998 G -5.558(nn)2.778 G -2.778(ii)5.558 G
-3.328(tt)2.778 G F0(\(pth_barrier_t *)3.328 E F2(barrier)A F0 2.5(,i)C
(nt)-2.5 E F2(thr)2.5 E(eshold)-.37 E F0(\);)A .069
(This dynamically initializes a barrier v)128 705.6 R .069
(ariable of type `)-.25 F F3(pth_barrier_t)A F0 2.569('. Alternati)B
-.15(ve)-.25 G .069(ly one can also).15 F .014
(use static initialization via `)128 717.6 R F3 .015
(pth_barrier_t barrier = PTH_BARRIER_INIT\()B F2(thr)A(eadhold)-.37 E F3
(\))A F0('.)A 163.315(2002-10-15 perl)72 768 R 199.975(v5.6.1 15)2.5 F
EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E(int)108 84 Q/F1 10/Times-Bold@0 SF -5.558(pp)2.5 G -3.328(tt)5.558
G -5.558(hh)3.328 G -4.998(__)5.558 G -5.558(bb)4.998 G -4.998(aa)5.558
G -4.438(rr)4.998 G -4.438(rr)4.438 G -2.778(ii)4.438 G -4.438(ee)2.778
G -4.438(rr)4.438 G -4.998(__)4.438 G 6.196 -4.438(rr ee)4.998 H -4.998
(aa)4.438 G -4.438(cc)4.998 G -5.558(hh)4.438 G F0(\(pth_barrier_t *)
5.558 E/F2 10/Times-Italic@0 SF(barrier)A F0(\);)A 1.015
(This function reaches a barrier)128 96 R F2(barrier)3.515 E F0 3.515
(.I)C 3.515(ft)-3.515 G 1.014
(his is the last thread \(as speci\214ed by)-3.515 F F2(thr)3.514 E
(eshold)-.37 E F0 1.014(on init of)3.514 F F2(barrier)128 108 Q F0 2.514
(\)a)C .014(ll threads are a)-2.514 F -.1(wa)-.15 G -.1(ke).1 G 2.514
(ned. Else).1 F .015
(the current thread is suspended until the last thread reached the)2.514
F .22(barrier and this w)128 120 R .22(ay a)-.1 F -.1(wa)-.15 G -.1(ke)
.1 G 2.72(sa).1 G .22(ll threads. The function returns \(beside)-2.72 F
/F3 10/Courier@0 SF(FALSE)2.72 E F0 .22(on error\) the v)2.72 F(alue)
-.25 E F3(TRUE)2.72 E F0 3.338(for an)128 132 R 5.838(yt)-.15 G 3.338(h\
read which neither reached the barrier as the \214rst nor the last thre\
ad;)-5.838 F F3(PTH_BAR-)5.838 E(RIER_HEADLIGHT)128 144 Q F0 2.207
(for the thread which reached the barrier as the \214rst thread and)
4.707 F F3(PTH_BAR-)4.706 E(RIER_TAILLIGHT)128 156 Q F0
(for the thread which reached the barrier as the last thread.)2.5 E F1
-7.778(GG)108 178.8 S -4.438(ee)7.778 G -5.558(nn)4.438 G -4.438(ee)
5.558 G -4.438(rr)4.438 G -4.998(aa)4.438 G -2.778(ll)4.998 G -2.778(ii)
2.778 G -4.438(zz)2.778 G -4.438(ee)4.438 G -5.558(dd)4.438 G/F4 9
/Times-Bold@0 SF -5.497(PP)8.058 G -7(OO)5.497 G -5.002(SS)7 G -3.499
(II)5.002 G -6.496(XX)3.499 G F1 -7.218(RR)8.996 G -4.438(ee)7.218 G
-5.558(pp)4.438 G -2.778(ll)5.558 G -4.998(aa)2.778 G -4.438(cc)4.998 G
-4.438(ee)4.438 G -8.328(mm)4.438 G -4.438(ee)8.328 G -5.558(nn)4.438 G
-3.328(tt)5.558 G F4 -6.496(AA)5.828 G -5.497(PP)6.496 G -3.499(II)5.497
G F0 .558(The follo)108 195.6 R .558
(wing functions are generalized replacements functions for the)-.25 F/F5
9/Times-Roman@0 SF .808(POSIX API)3.058 F F0 3.058(,i)C .558(.e., the)
-3.058 F 3.058(ya)-.15 G .558(re similar to)-3.058 F .406
(the functions under `)108 207.6 R F1 -5.558(SS)C -3.328(tt)5.558 G
-4.998(aa)3.328 G -5.558(nn)4.998 G -5.558(dd)5.558 G -4.998(aa)5.558 G
-4.438(rr)4.998 G -5.558(dd)4.438 G F4 -5.497(PP)8.464 G -7(OO)5.497 G
-5.002(SS)7 G -3.499(II)5.002 G -6.496(XX)3.499 G F1 -7.218(RR)9.402 G
-4.438(ee)7.218 G -5.558(pp)4.438 G -2.778(ll)5.558 G -4.998(aa)2.778 G
-4.438(cc)4.998 G -4.438(ee)4.438 G -8.328(mm)4.438 G -4.438(ee)8.328 G
-5.558(nn)4.438 G -3.328(tt)5.558 G F4 -6.496(AA)6.234 G -5.497(PP)6.496
G -3.499(II)5.497 G F0 2.906('b)3.499 G .406(ut all ha)-3.106 F .706
-.15(ve a)-.2 H 2.906(na).15 G .406(dditional e)-2.906 F -.15(ve)-.25 G
.406(nt ar).15 F .406(gument which)-.18 F
(can be used for timeouts, etc.)108 219.6 Q(int)108 236.4 Q F1 -5.558
(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -3.888
(ss)4.998 G -2.778(ii)3.888 G -4.998(gg)2.778 G -7.218(ww)4.998 G -4.998
(aa)7.218 G -2.778(ii)4.998 G -3.328(tt)2.778 G -4.998(__)3.328 G 6.226
-4.438(ee v)4.998 H(v)-.56 E F0(\(const sigset_t *)A F2(set)A F0 2.5(,i)
C(nt *)-2.5 E F2(sig)A F0 2.5(,p)C(th_e)-2.5 E -.15(ve)-.25 G(nt_t).15 E
F2 -.15(ev)2.5 G F0(\);).15 E .826(This is equal to)128 248.4 R F2
(pth_sigwait)3.326 E F0 .826(\(3\) \(see belo)1.666 F .826(w\), b)-.25 F
.826(ut has an additional e)-.2 F -.15(ve)-.25 G .827(nt ar).15 F
(gument)-.18 E F2 -.15(ev)3.327 G F0 3.327(.W).15 G(hen)-3.327 E F2
(pth_sig-)3.327 E(wait)128 260.4 Q F0 .871
(\(3\) suspends the current threads e)1.666 F -.15(xe)-.15 G .871
(cution it usually only uses the signal e).15 F -.15(ve)-.25 G .871
(nt on).15 F F2(set)3.371 E F0 .87(to a)3.37 F -.1(wa)-.15 G -.1(ke).1 G
(.).1 E -.4(Wi)128 272.4 S .29(th this function an).4 F 2.79(yn)-.15 G
.29(umber of e)-2.79 F .29(xtra e)-.15 F -.15(ve)-.25 G .291
(nts can be used to a).15 F -.1(wa)-.15 G .491 -.1(ke t).1 H .291
(he current thread \(remember that).1 F F2 -.15(ev)128 284.4 S F0
(actually is an e)2.65 E -.15(ve)-.25 G(nt).15 E F2(ring)2.5 E F0(\).)A
(int)108 301.2 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G -4.438(cc)4.998 G -4.998(oo)4.438 G -5.558(nn)4.998 G
-5.558(nn)5.558 G -4.438(ee)5.558 G -4.438(cc)4.438 G -3.328(tt)4.438 G
-4.998(__)3.328 G 6.226 -4.438(ee v)4.998 H(v)-.56 E F0(\(int)A F2(s)2.5
E F0 2.5(,c)C(onst struct sockaddr *)-2.5 E F2(addr)A F0 2.5(,s)C
(ocklen_t)-2.5 E F2(addrlen)2.5 E F0 2.5(,p)C(th_e)-2.5 E -.15(ve)-.25 G
(nt_t).15 E F2 -.15(ev)2.5 G F0(\);).15 E .495(This is equal to)128
313.2 R F2(pth_connect)2.995 E F0 .495(\(3\) \(see belo)1.666 F .495
(w\), b)-.25 F .495(ut has an additional e)-.2 F -.15(ve)-.25 G .495
(nt ar).15 F(gument)-.18 E F2 -.15(ev)2.995 G F0 2.995(.W).15 G(hen)
-2.995 E F2(pth_con-)2.994 E(nect)128 325.2 Q F0 .599
(\(3\) suspends the current threads e)1.666 F -.15(xe)-.15 G .599
(cution it usually only uses the I/O e).15 F -.15(ve)-.25 G .599(nt on)
.15 F F2(s)3.099 E F0 .599(to a)3.099 F -.1(wa)-.15 G -.1(ke).1 G 3.1
(.W).1 G(ith)-3.5 E .93(this function an)128 337.2 R 3.43(yn)-.15 G .93
(umber of e)-3.43 F .93(xtra e)-.15 F -.15(ve)-.25 G .93
(nts can be used to a).15 F -.1(wa)-.15 G 1.13 -.1(ke t).1 H .93
(he current thread \(remember that).1 F F2 -.15(ev)3.43 G F0
(actually is an e)128 349.2 Q -.15(ve)-.25 G(nt).15 E F2(ring)2.5 E F0
(\).)A(int)108 366 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)
3.328 G -4.998(__)5.558 G -4.998(aa)4.998 G -4.438(cc)4.998 G -4.438(cc)
4.438 G -4.438(ee)4.438 G -5.558(pp)4.438 G -3.328(tt)5.558 G -4.998(__)
3.328 G 6.226 -4.438(ee v)4.998 H(v)-.56 E F0(\(int)A F2(s)2.5 E F0 2.5
(,s)C(truct sockaddr *)-2.5 E F2(addr)A F0 2.5(,s)C(ocklen_t *)-2.5 E F2
(addrlen)A F0 2.5(,p)C(th_e)-2.5 E -.15(ve)-.25 G(nt_t).15 E F2 -.15(ev)
2.5 G F0(\);).15 E 3.605(This is equal to)128 378 R F2(pth_accept)6.105
E F0 3.605(\(3\) \(see belo)1.666 F 3.605(w\), b)-.25 F 3.605
(ut has an additional e)-.2 F -.15(ve)-.25 G 3.606(nt ar).15 F(gument)
-.18 E F2 -.15(ev)6.106 G F0 6.106(.W).15 G(hen)-6.106 E F2(pth_accept)
128 390 Q F0 .317(\(3\) suspends the current threads e)1.666 F -.15(xe)
-.15 G .316(cution it usually only uses the I/O e).15 F -.15(ve)-.25 G
.316(nt on).15 F F2(s)2.816 E F0 .316(to a)2.816 F -.1(wa)-.15 G -.1(ke)
.1 G(.).1 E -.4(Wi)128 402 S .29(th this function an).4 F 2.79(yn)-.15 G
.29(umber of e)-2.79 F .29(xtra e)-.15 F -.15(ve)-.25 G .291
(nts can be used to a).15 F -.1(wa)-.15 G .491 -.1(ke t).1 H .291
(he current thread \(remember that).1 F F2 -.15(ev)128 414 S F0
(actually is an e)2.65 E -.15(ve)-.25 G(nt).15 E F2(ring)2.5 E F0(\).)A
(int)108 430.8 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G -3.888(ss)4.998 G -4.438(ee)3.888 G -2.778(ll)4.438 G
-4.438(ee)2.778 G -4.438(cc)4.438 G -3.328(tt)4.438 G -4.998(__)3.328 G
6.226 -4.438(ee v)4.998 H(v)-.56 E F0(\(int)A F2(nfd)2.5 E F0 2.5(,f)C
(d_set *)-2.5 E F2(rfds)A F0 2.5(,f)C(d_set *)-2.5 E F2(wfds)A F0 2.5
(,f)C(d_set *)-2.5 E F2(efds)A F0 2.5(,s)C(truct time)-2.5 E -.25(va)
-.25 G 2.5(l*).25 G F2(timeout)-2.5 E F0 2.5(,p)C(th_e)-2.5 E -.15(ve)
-.25 G(nt_t).15 E F2 -.15(ev)2.5 G F0(\);).15 E 3.844(This is equal to)
128 442.8 R F2(pth_select)6.343 E F0 3.843(\(3\) \(see belo)1.666 F
3.843(w\), b)-.25 F 3.843(ut has an additional e)-.2 F -.15(ve)-.25 G
3.843(nt ar).15 F(gument)-.18 E F2 -.15(ev)6.343 G F0 6.343(.W).15 G
(hen)-6.343 E F2(pth_select)128 454.8 Q F0 .923
(\(3\) suspends the current threads e)1.666 F -.15(xe)-.15 G .924
(cution it usually only uses the I/O e).15 F -.15(ve)-.25 G .924(nt on)
.15 F F2(rfds)3.424 E F0(,)A F2(wfds)3.424 E F0(and)128 466.8 Q F2(efds)
3.627 E F0 1.127(to a)3.627 F -.1(wa)-.15 G -.1(ke).1 G 3.627(.W).1 G
1.127(ith this function an)-4.027 F 3.627(yn)-.15 G 1.127(umber of e)
-3.627 F 1.127(xtra e)-.15 F -.15(ve)-.25 G 1.126(nts can be used to a)
.15 F -.1(wa)-.15 G 1.326 -.1(ke t).1 H 1.126(he current).1 F
(thread \(remember that)128 478.8 Q F2 -.15(ev)2.5 G F0
(actually is an e)2.65 E -.15(ve)-.25 G(nt).15 E F2(ring)2.5 E F0(\).)A
(int)108 495.6 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G -5.558(pp)4.998 G -4.998(oo)5.558 G -2.778(ll)4.998 G
-2.778(ll)2.778 G -4.998(__)2.778 G 6.226 -4.438(ee v)4.998 H(v)-.56 E
F0(\(struct pollfd *)A F2(fds)A F0 2.5(,u)C(nsigned int)-2.5 E F2(nfd)
2.5 E F0 2.5(,i)C(nt)-2.5 E F2(timeout)2.5 E F0 2.5(,p)C(th_e)-2.5 E
-.15(ve)-.25 G(nt_t).15 E F2 -.15(ev)2.5 G F0(\);).15 E .789
(This is equal to)128 507.6 R F2(pth_poll)3.29 E F0 .79
(\(3\) \(see belo)1.666 F .79(w\), b)-.25 F .79(ut has an additional e)
-.2 F -.15(ve)-.25 G .79(nt ar).15 F(gument)-.18 E F2 -.15(ev)3.29 G F0
3.29(.W).15 G(hen)-3.29 E F2(pth_poll)3.29 E F0(\(3\))1.666 E 1.056
(suspends the current threads e)128 519.6 R -.15(xe)-.15 G 1.055
(cution it usually only uses the I/O e).15 F -.15(ve)-.25 G 1.055(nt on)
.15 F F2(fds)3.555 E F0 1.055(to a)3.555 F -.1(wa)-.15 G -.1(ke).1 G
3.555(.W).1 G 1.055(ith this)-3.955 F .604(function an)128 531.6 R 3.104
(yn)-.15 G .604(umber of e)-3.104 F .604(xtra e)-.15 F -.15(ve)-.25 G
.604(nts can be used to a).15 F -.1(wa)-.15 G .804 -.1(ke t).1 H .604
(he current thread \(remember that).1 F F2 -.15(ev)3.105 G F0(actu-)
3.255 E(ally is an e)128 543.6 Q -.15(ve)-.25 G(nt).15 E F2(ring)2.5 E
F0(\).)A(ssize_t)108 560.4 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558
(hh)3.328 G -4.998(__)5.558 G 6.196 -4.438(rr ee)4.998 H -4.998(aa)4.438
G -5.558(dd)4.998 G -4.998(__)5.558 G 6.226 -4.438(ee v)4.998 H(v)-.56 E
F0(\(int)A F2(fd)2.5 E F0 2.5(,v)C(oid *)-2.7 E F2 -.2(bu)C(f).2 E F0
2.5(,s)C(ize_t)-2.5 E F2(nbytes)2.5 E F0 2.5(,p)C(th_e)-2.5 E -.15(ve)
-.25 G(nt_t).15 E F2 -.15(ev)2.5 G F0(\);).15 E .47(This is equal to)128
572.4 R F2(pth_r)2.97 E(ead)-.37 E F0 .47(\(3\) \(see belo)1.666 F .47
(w\), b)-.25 F .47(ut has an additional e)-.2 F -.15(ve)-.25 G .47
(nt ar).15 F(gument)-.18 E F2 -.15(ev)2.97 G F0 2.969(.W).15 G(hen)
-2.969 E F2(pth_r)2.969 E(ead)-.37 E F0(\(3\))1.666 E 1.284
(suspends the current threads e)128 584.4 R -.15(xe)-.15 G 1.284
(cution it usually only uses the I/O e).15 F -.15(ve)-.25 G 1.284(nt on)
.15 F F2(fd)3.784 E F0 1.284(to a)3.784 F -.1(wa)-.15 G -.1(ke).1 G
3.785(.W).1 G 1.285(ith this)-4.185 F .605(function an)128 596.4 R 3.105
(yn)-.15 G .604(umber of e)-3.105 F .604(xtra e)-.15 F -.15(ve)-.25 G
.604(nts can be used to a).15 F -.1(wa)-.15 G .804 -.1(ke t).1 H .604
(he current thread \(remember that).1 F F2 -.15(ev)3.104 G F0(actu-)
3.254 E(ally is an e)128 608.4 Q -.15(ve)-.25 G(nt).15 E F2(ring)2.5 E
F0(\).)A(ssize_t)108 625.2 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558
(hh)3.328 G -4.998(__)5.558 G 6.196 -4.438(rr ee)4.998 H -4.998(aa)4.438
G -5.558(dd)4.998 G -4.998(vv)5.558 G -4.998(__)4.998 G 6.226 -4.438
(ee v)4.998 H(v)-.56 E F0(\(int)A F2(fd)2.5 E F0 2.5(,c)C
(onst struct io)-2.5 E -.15(ve)-.15 G 2.5(c*).15 G F2(io)-2.5 E(vec)-.1
E F0 2.5(,i)C(nt)-2.5 E F2(io)2.5 E(vcnt)-.1 E F0 2.5(,p)C(th_e)-2.5 E
-.15(ve)-.25 G(nt_t).15 E F2 -.15(ev)2.5 G F0(\);).15 E 3.869
(This is equal to)128 637.2 R F2(pth_r)6.369 E(eadv)-.37 E F0 3.869
(\(3\) \(see belo)1.666 F 3.87(w\), b)-.25 F 3.87
(ut has an additional e)-.2 F -.15(ve)-.25 G 3.87(nt ar).15 F(gument)
-.18 E F2 -.15(ev)6.37 G F0 6.37(.W).15 G(hen)-6.37 E F2(pth_r)128 649.2
Q(eadv)-.37 E F0 .305(\(3\) suspends the current threads e)1.666 F -.15
(xe)-.15 G .305(cution it usually only uses the I/O e).15 F -.15(ve)-.25
G .304(nt on).15 F F2(fd)2.804 E F0 .304(to a)2.804 F -.1(wa)-.15 G -.1
(ke).1 G(.).1 E -.4(Wi)128 661.2 S .29(th this function an).4 F 2.79(yn)
-.15 G .29(umber of e)-2.79 F .29(xtra e)-.15 F -.15(ve)-.25 G .291
(nts can be used to a).15 F -.1(wa)-.15 G .491 -.1(ke t).1 H .291
(he current thread \(remember that).1 F F2 -.15(ev)128 673.2 S F0
(actually is an e)2.65 E -.15(ve)-.25 G(nt).15 E F2(ring)2.5 E F0(\).)A
(ssize_t)108 690 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328
G -4.998(__)5.558 G -7.218(ww)4.998 G -4.438(rr)7.218 G -2.778(ii)4.438
G -3.328(tt)2.778 G -4.438(ee)3.328 G -4.998(__)4.438 G 6.226 -4.438
(ee v)4.998 H(v)-.56 E F0(\(int)A F2(fd)2.5 E F0 2.5(,c)C(onst v)-2.5 E
(oid *)-.2 E F2 -.2(bu)C(f).2 E F0 2.5(,s)C(ize_t)-2.5 E F2(nbytes)2.5 E
F0 2.5(,p)C(th_e)-2.5 E -.15(ve)-.25 G(nt_t).15 E F2 -.15(ev)2.5 G F0
(\);).15 E .124(This is equal to)128 702 R F2(pth_write)2.623 E F0 .123
(\(3\) \(see belo)1.666 F .123(w\), b)-.25 F .123
(ut has an additional e)-.2 F -.15(ve)-.25 G .123(nt ar).15 F(gument)
-.18 E F2 -.15(ev)2.623 G F0 2.623(.W).15 G(hen)-2.623 E F2(pth_write)
2.623 E F0(\(3\))1.666 E 1.284(suspends the current threads e)128 714 R
-.15(xe)-.15 G 1.284(cution it usually only uses the I/O e).15 F -.15
(ve)-.25 G 1.284(nt on).15 F F2(fd)3.784 E F0 1.284(to a)3.784 F -.1(wa)
-.15 G -.1(ke).1 G 3.785(.W).1 G 1.285(ith this)-4.185 F 2.048
(function an)128 726 R 4.548(yn)-.15 G 2.048(umber of e)-4.548 F 2.048
(xtra e)-.15 F -.15(ve)-.25 G 2.048(nts can be used to a).15 F -.1(wa)
-.15 G 2.247 -.1(ke t).1 H 2.047(he current thread \(remember that).1 F
F2 -.15(ev)4.547 G F0 163.315(2002-10-15 perl)72 768 R 199.975
(v5.6.1 16)2.5 F EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E(actually is an e)128 84 Q -.15(ve)-.25 G(nt).15 E/F1 10
/Times-Italic@0 SF(ring)2.5 E F0(\).)A(ssize_t)108 100.8 Q/F2 10
/Times-Bold@0 SF -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G -7.218(ww)4.998 G -4.438(rr)7.218 G -2.778(ii)4.438 G
-3.328(tt)2.778 G 6.226 -4.438(ee v)3.328 H(v_)-.56 E(_e)-4.998 E -.15
(ev)-4.438 G(v)-4.848 E F0(\(int)A F1(fd)2.5 E F0 2.5(,c)C
(onst struct io)-2.5 E -.15(ve)-.15 G 2.5(c*).15 G F1(io)-2.5 E(vec)-.1
E F0 2.5(,i)C(nt)-2.5 E F1(io)2.5 E(vcnt)-.1 E F0 2.5(,p)C(th_e)-2.5 E
-.15(ve)-.25 G(nt_t).15 E F1 -.15(ev)2.5 G F0(\);).15 E 3.694
(This is equal to)128 112.8 R F1(pth_write)6.194 E(v)-.15 E F0 3.694
(\(3\) \(see belo)1.666 F 3.695(w\), b)-.25 F 3.695
(ut has an additional e)-.2 F -.15(ve)-.25 G 3.695(nt ar).15 F(gument)
-.18 E F1 -.15(ev)6.195 G F0 6.195(.W).15 G(hen)-6.195 E F1(pth_write)
128 124.8 Q(v)-.15 E F0 .152(\(3\) suspends the current threads e)1.666
F -.15(xe)-.15 G .151(cution it usually only uses the I/O e).15 F -.15
(ve)-.25 G .151(nt on).15 F F1(fd)2.651 E F0 .151(to a)2.651 F -.1(wa)
-.15 G -.1(ke).1 G(.).1 E -.4(Wi)128 136.8 S .29(th this function an).4
F 2.79(yn)-.15 G .29(umber of e)-2.79 F .29(xtra e)-.15 F -.15(ve)-.25 G
.291(nts can be used to a).15 F -.1(wa)-.15 G .491 -.1(ke t).1 H .291
(he current thread \(remember that).1 F F1 -.15(ev)128 148.8 S F0
(actually is an e)2.65 E -.15(ve)-.25 G(nt).15 E F1(ring)2.5 E F0(\).)A
(ssize_t)108 165.6 Q F2 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)
3.328 G -4.998(__)5.558 G 6.196 -4.438(rr ee)4.998 H -4.438(cc)4.438 G
-4.998(vv)4.438 G -4.998(__)4.998 G 6.226 -4.438(ee v)4.998 H(v)-.56 E
F0(\(int)A F1(fd)2.5 E F0 2.5(,v)C(oid *)-2.7 E F1 -.2(bu)C(f).2 E F0
2.5(,s)C(ize_t)-2.5 E F1(nbytes)2.5 E F0 2.5(,i)C(nt)-2.5 E F1<8d61>2.5
E(gs)-.1 E F0 2.5(,p)C(th_e)-2.5 E -.15(ve)-.25 G(nt_t).15 E F1 -.15(ev)
2.5 G F0(\);).15 E .62(This is equal to)128 177.6 R F1(pth_r)3.119 E
(ecv)-.37 E F0 .619(\(3\) \(see belo)1.666 F .619(w\), b)-.25 F .619
(ut has an additional e)-.2 F -.15(ve)-.25 G .619(nt ar).15 F(gument)
-.18 E F1 -.15(ev)3.119 G F0 3.119(.W).15 G(hen)-3.119 E F1(pth_r)3.119
E(ecv)-.37 E F0(\(3\))1.666 E 1.284(suspends the current threads e)128
189.6 R -.15(xe)-.15 G 1.284(cution it usually only uses the I/O e).15 F
-.15(ve)-.25 G 1.284(nt on).15 F F1(fd)3.784 E F0 1.284(to a)3.784 F -.1
(wa)-.15 G -.1(ke).1 G 3.785(.W).1 G 1.285(ith this)-4.185 F .605
(function an)128 201.6 R 3.105(yn)-.15 G .604(umber of e)-3.105 F .604
(xtra e)-.15 F -.15(ve)-.25 G .604(nts can be used to a).15 F -.1(wa)
-.15 G .804 -.1(ke t).1 H .604(he current thread \(remember that).1 F F1
-.15(ev)3.104 G F0(actu-)3.254 E(ally is an e)128 213.6 Q -.15(ve)-.25 G
(nt).15 E F1(ring)2.5 E F0(\).)A(ssize_t)108 230.4 Q F2 -5.558(pp)5.358
G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G 6.196 -4.438
(rr ee)4.998 H -4.438(cc)4.438 G -4.998(vv)4.438 G -3.328(ff)4.998 G
6.196 -4.438(rr o)3.328 H(om)-.56 E(m_)-8.328 E(_e)-4.998 E -.15(ev)
-4.438 G(v)-4.848 E F0(\(int)A F1(fd)5.358 E F0 5.358(,v)C 2.858(oid *)
-5.558 F F1 -.2(bu)C(f).2 E F0 5.358(,s)C(ize_t)-5.358 E F1(nbytes)5.358
E F0 5.358(,i)C(nt)-5.358 E F1<8d61>5.358 E(gs)-.1 E F0 5.359(,s)C 2.859
(truct sockaddr *)-5.359 F F1(fr)A(om)-.45 E F0 5.359(,s)C(ocklen_t)
-5.359 E(*)108 242.4 Q F1(fr)A(omlen)-.45 E F0 2.5(,p)C(th_e)-2.5 E -.15
(ve)-.25 G(nt_t).15 E F1 -.15(ev)2.5 G F0(\);).15 E 2.949
(This is equal to)128 254.4 R F1(pth_r)5.449 E(ecvfr)-.37 E(om)-.45 E F0
2.949(\(3\) \(see belo)1.666 F 2.95(w\), b)-.25 F 2.95
(ut has an additional e)-.2 F -.15(ve)-.25 G 2.95(nt ar).15 F(gument)
-.18 E F1 -.15(ev)5.45 G F0 5.45(.W).15 G(hen)-5.45 E F1(pth_r)128 266.4
Q(ecvfr)-.37 E(om)-.45 E F0 1.479(\(3\) suspends the current threads e)
1.666 F -.15(xe)-.15 G 1.479(cution it usually only uses the I/O e).15 F
-.15(ve)-.25 G 1.479(nt on).15 F F1(fd)3.979 E F0(to)3.978 E -2.3 -.15
(aw a)128 278.4 T -.1(ke).15 G 2.599(.W).1 G .099(ith this function an)
-2.999 F 2.599(yn)-.15 G .099(umber of e)-2.599 F .099(xtra e)-.15 F
-.15(ve)-.25 G .1(nts can be used to a).15 F -.1(wa)-.15 G .3 -.1(ke t)
.1 H .1(he current thread \(remem-).1 F(ber that)128 290.4 Q F1 -.15(ev)
2.5 G F0(actually is an e)2.65 E -.15(ve)-.25 G(nt).15 E F1(ring)2.5 E
F0(\).)A(ssize_t)108 307.2 Q F2 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558
(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G -4.438(ee)3.888 G -5.558
(nn)4.438 G -5.558(dd)5.558 G -4.998(__)5.558 G 6.226 -4.438(ee v)4.998
H(v)-.56 E F0(\(int)A F1(fd)2.5 E F0 2.5(,c)C(onst v)-2.5 E(oid *)-.2 E
F1 -.2(bu)C(f).2 E F0 2.5(,s)C(ize_t)-2.5 E F1(nbytes)2.5 E F0 2.5(,i)C
(nt)-2.5 E F1<8d61>2.5 E(gs)-.1 E F0 2.5(,p)C(th_e)-2.5 E -.15(ve)-.25 G
(nt_t).15 E F1 -.15(ev)2.5 G F0(\);).15 E .421(This is equal to)128
319.2 R F1(pth_send)2.921 E F0 .421(\(3\) \(see belo)1.666 F .421
(w\), b)-.25 F .42(ut has an additional e)-.2 F -.15(ve)-.25 G .42
(nt ar).15 F(gument)-.18 E F1 -.15(ev)2.92 G F0 2.92(.W).15 G(hen)-2.92
E F1(pth_send)2.92 E F0(\(3\))1.666 E 1.284
(suspends the current threads e)128 331.2 R -.15(xe)-.15 G 1.284
(cution it usually only uses the I/O e).15 F -.15(ve)-.25 G 1.284(nt on)
.15 F F1(fd)3.784 E F0 1.284(to a)3.784 F -.1(wa)-.15 G -.1(ke).1 G
3.785(.W).1 G 1.285(ith this)-4.185 F .605(function an)128 343.2 R 3.105
(yn)-.15 G .604(umber of e)-3.105 F .604(xtra e)-.15 F -.15(ve)-.25 G
.604(nts can be used to a).15 F -.1(wa)-.15 G .804 -.1(ke t).1 H .604
(he current thread \(remember that).1 F F1 -.15(ev)3.104 G F0(actu-)
3.254 E(ally is an e)128 355.2 Q -.15(ve)-.25 G(nt).15 E F1(ring)2.5 E
F0(\).)A(ssize_t)108 372 Q F2 -5.558(pp)3.144 G -3.328(tt)5.558 G -5.558
(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G -4.438(ee)3.888 G -5.558
(nn)4.438 G -5.558(dd)5.558 G -3.328(tt)5.558 G -4.998(oo)3.328 G -4.998
(__)4.998 G 6.226 -4.438(ee v)4.998 H(v)-.56 E F0(\(int)A F1(fd)3.144 E
F0 3.144(,c)C .644(onst v)-3.144 F .644(oid *)-.2 F F1 -.2(bu)C(f).2 E
F0 3.144(,s)C(ize_t)-3.144 E F1(nbytes)3.145 E F0 3.145(,i)C(nt)-3.145 E
F1<8d61>3.145 E(gs)-.1 E F0 3.145(,c)C .645(onst struct sockaddr *)
-3.145 F F1(to)A F0 3.145(,s)C(ocklen_t)-3.145 E F1(tolen)108 384 Q F0
2.5(,p)C(th_e)-2.5 E -.15(ve)-.25 G(nt_t).15 E F1 -.15(ev)2.5 G F0(\);)
.15 E 3.604(This is equal to)128 396 R F1(pth_sendto)6.104 E F0 3.604
(\(3\) \(see belo)1.666 F 3.605(w\), b)-.25 F 3.605
(ut has an additional e)-.2 F -.15(ve)-.25 G 3.605(nt ar).15 F(gument)
-.18 E F1 -.15(ev)6.105 G F0 6.105(.W).15 G(hen)-6.105 E F1(pth_sendto)
128 408 Q F0 .073(\(3\) suspends the current threads e)1.666 F -.15(xe)
-.15 G .073(cution it usually only uses the I/O e).15 F -.15(ve)-.25 G
.072(nt on).15 F F1(fd)2.572 E F0 .072(to a)2.572 F -.1(wa)-.15 G -.1
(ke).1 G(.).1 E -.4(Wi)128 420 S .29(th this function an).4 F 2.79(yn)
-.15 G .29(umber of e)-2.79 F .29(xtra e)-.15 F -.15(ve)-.25 G .291
(nts can be used to a).15 F -.1(wa)-.15 G .491 -.1(ke t).1 H .291
(he current thread \(remember that).1 F F1 -.15(ev)128 432 S F0
(actually is an e)2.65 E -.15(ve)-.25 G(nt).15 E F1(ring)2.5 E F0(\).)A
F2 -5.558(SS)108 454.8 S -3.328(tt)5.558 G -4.998(aa)3.328 G -5.558(nn)
4.998 G -5.558(dd)5.558 G -4.998(aa)5.558 G -4.438(rr)4.998 G -5.558(dd)
4.438 G/F3 9/Times-Bold@0 SF -5.497(PP)8.058 G -7(OO)5.497 G -5.002(SS)7
G -3.499(II)5.002 G -6.496(XX)3.499 G F2 -7.218(RR)8.996 G -4.438(ee)
7.218 G -5.558(pp)4.438 G -2.778(ll)5.558 G -4.998(aa)2.778 G -4.438(cc)
4.998 G -4.438(ee)4.438 G -8.328(mm)4.438 G -4.438(ee)8.328 G -5.558(nn)
4.438 G -3.328(tt)5.558 G F3 -6.496(AA)5.828 G -5.497(PP)6.496 G -3.499
(II)5.497 G F0 .705(The follo)108 471.6 R .704
(wing functions are standard replacements functions for the)-.25 F/F4 9
/Times-Roman@0 SF .954(POSIX API)3.204 F F0 5.704(.T)C .704(he dif)
-5.704 F .704(ference is mainly)-.25 F .107(that the)108 483.6 R 2.607
(ys)-.15 G .108(uspend the current thread only instead of the whole pro\
cess in case the \214le descriptors will block.)-2.607 F(int)108 500.4 Q
F2 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G
-5.558(uu)4.998 G -3.888(ss)5.558 G -2.778(ll)3.888 G -4.438(ee)2.778 G
-4.438(ee)4.438 G -5.558(pp)4.438 G F0(\(unsigned int)5.558 E F1(usec)
2.5 E F0(\);)A .129(This is a v)128 512.4 R .129(ariant of the 4.3BSD)
-.25 F F1(usleep)2.628 E F0 .128
(\(3\) function. It suspends the current threads e)1.666 F -.15(xe)-.15
G .128(cution until).15 F F1(usec)2.628 E F0 .99(microseconds \(=)128
524.4 R F1(usec)3.49 E F0 .99(*1/1000000 sec\) elapsed.)B .991
(The thread is guaranteed to not w)5.991 F(ak)-.1 E 3.491(eu)-.1 G 3.491
(pb)-3.491 G .991(efore this)-3.491 F .285(time, b)128 536.4 R .285
(ut because of the non-preempti)-.2 F .585 -.15(ve s)-.25 H .285
(cheduling nature of).15 F F2 -6.108(PP)2.785 G -3.328(tt)6.108 G -5.558
(hh)3.328 G F0 2.785(,i)5.558 G 2.784(tc)-2.785 G .284(an be a)-2.784 F
-.1(wa)-.15 G -.1(ke).1 G .284(ned later).1 F 2.784(,o)-.4 G 2.784(fc)
-2.784 G(ourse.)-2.784 E 1.953(The dif)128 548.4 R 1.953
(ference between)-.25 F F1(usleep)4.453 E F0 1.953(\(3\) and)1.666 F F1
(pth_usleep)4.453 E F0 1.954(\(3\) is that that)1.666 F F1(pth_usleep)
4.454 E F0 1.954(\(3\) suspends only the)1.666 F -.15(exe)128 560.4 S
(cution of the current thread and not the whole process.).15 E
(unsigned int)108 577.2 Q F2 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558
(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G -2.778(ll)3.888 G -4.438
(ee)2.778 G -4.438(ee)4.438 G -5.558(pp)4.438 G F0(\(unsigned int)5.558
E F1(sec)2.5 E F0(\);)A 1.126(This is a v)128 589.2 R 1.125
(ariant of the)-.25 F F4(POSIX)3.625 E F1(sleep)3.625 E F0 1.125
(\(3\) function. It suspends the current threads e)1.666 F -.15(xe)-.15
G 1.125(cution until).15 F F1(sec)3.625 E F0 .048(seconds elapsed.)128
601.2 R .049(The thread is guaranteed to not w)5.048 F(ak)-.1 E 2.549
(eu)-.1 G 2.549(pb)-2.549 G .049(efore this time, b)-2.549 F .049
(ut because of the non-pre-)-.2 F(empti)128 613.2 Q 2.734 -.15(ve s)-.25
H 2.434(cheduling nature of).15 F F2 -6.108(PP)4.933 G -3.328(tt)6.108 G
-5.558(hh)3.328 G F0 4.933(,i)5.558 G 4.933(tc)-4.933 G 2.433(an be a)
-4.933 F -.1(wa)-.15 G -.1(ke).1 G 2.433(ned later).1 F 4.933(,o)-.4 G
4.933(fc)-4.933 G 4.933(ourse. The)-4.933 F(dif)4.933 E 2.433
(ference between)-.25 F F1(sleep)128 625.2 Q F0 .765(\(3\) and)1.666 F
F1(pth_sleep)3.265 E F0 .765(\(3\) is that)1.666 F F1(pth_sleep)3.265 E
F0 .765(\(3\) suspends only the e)1.666 F -.15(xe)-.15 G .765
(cution of the current thread and).15 F(not the whole process.)128 637.2
Q(pid_t)108 654 Q F2 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G
-4.998(__)5.558 G -7.218(ww)4.998 G -4.998(aa)7.218 G -2.778(ii)4.998 G
-3.328(tt)2.778 G -5.558(pp)3.328 G -2.778(ii)5.558 G -5.558(dd)2.778 G
F0(\(pid_t)5.558 E F1(pid)2.5 E F0 2.5(,i)C(nt *)-2.5 E F1(status)A F0
2.5(,i)C(nt)-2.5 E F1(options)2.5 E F0(\);)A .395(This is a v)128 666 R
.395(ariant of the)-.25 F F4(POSIX)2.895 E F1(waitpid)2.895 E F0 .394
(\(2\) function. It suspends the current threads e)1.666 F -.15(xe)-.15
G .394(cution until).15 F F1(sta-)2.894 E(tus)128 678 Q F0 .158
(information is a)2.658 F -.25(va)-.2 G .159
(ilable for a terminated child process).25 F F1(pid)2.659 E F0 5.159(.T)
C .159(he dif)-5.159 F .159(ference between)-.25 F F1(waitpid)2.659 E F0
.159(\(2\) and)1.666 F F1(pth_waitpid)128 690 Q F0 1.08(\(3\) is that)
1.666 F F1(pth_waitpid)3.579 E F0 1.079(\(3\) suspends only the e)1.666
F -.15(xe)-.15 G 1.079(cution of the current thread and not the).15 F
(whole process.)128 702 Q -.15(Fo)5 G 2.5(rm).15 G
(ore details about the ar)-2.5 E(guments and return code semantics see)
-.18 E F1(waitpid)2.5 E F0(\(2\).)1.666 E 163.315(2002-10-15 perl)72 768
R 199.975(v5.6.1 17)2.5 F EP
%%Page: 18 18
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E(int)108 84 Q/F1 10/Times-Bold@0 SF -5.558(pp)2.5 G -3.328(tt)5.558
G -5.558(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G -4.998(yy)3.888
G -3.888(ss)4.998 G -3.328(tt)3.888 G -4.438(ee)3.328 G -8.328(mm)4.438
G F0(\(const char *)8.328 E/F2 10/Times-Italic@0 SF(cmd)A F0(\);)A 1.159
(This is a v)128 96 R 1.159(ariant of the)-.25 F/F3 9/Times-Roman@0 SF
(POSIX)3.659 E F2(system)3.659 E F0 1.16(\(3\) function. It e)1.666 F
-.15(xe)-.15 G 1.16(cutes the shell command).15 F F2(cmd)3.66 E F0 1.16
(with Bourne)3.66 F .732(Shell \()128 108 R/F4 10/Courier@0 SF(sh)A F0
3.232(\)a)C .732(nd suspends the current threads e)-3.232 F -.15(xe)-.15
G .731(cution until this command terminates. The dif).15 F(ference)-.25
E(between)128 120 Q F2(system)2.576 E F0 .076(\(3\) and)1.666 F F2
(pth_system)2.576 E F0 .076(\(3\) is that)1.666 F F2(pth_system)2.576 E
F0 .076(\(3\) suspends only the e)1.666 F -.15(xe)-.15 G .077
(cution of the current).15 F .307(thread and not the whole process. F)
128 132 R .307(or more details about the ar)-.15 F .307
(guments and return code semantics see)-.18 F F2(system)128 144 Q F0
(\(3\).)1.666 E(int)108 160.8 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G -2.778(ii)3.888 G
-4.998(gg)2.778 G -8.328(mm)4.998 G -4.998(aa)8.328 G -3.888(ss)4.998 G
-5.558(kk)3.888 G F0(\(int)5.558 E F2(how)2.5 E F0 2.5(,c)C
(onst sigset_t *)-2.5 E F2(set)A F0 2.5(,s)C(igset_t *)-2.5 E F2(oset)A
F0(\))A .917(This is the)128 172.8 R F1 -6.108(PP)3.417 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 .917(thread-related equi)8.975 F -.25(va)
-.25 G .917(lent of).25 F F3(POSIX)3.417 E F2(sigpr)3.417 E(ocmask)-.45
E F0 .917(\(2\) respecti)1.666 F -.15(ve)-.25 G(ly).15 E F2(pthr)3.418 E
(ead_sigmask)-.37 E F0(\(3\).)1.666 E 1.145(The ar)128 184.8 R(guments)
-.18 E F2(how)3.645 E F0(,)A F2(set)3.644 E F0(and)3.644 E F2(oset)3.644
E F0 1.144(directly relate to)3.644 F F2(sigpr)3.644 E(ocmask)-.45 E F0
1.144(\(2\), because)1.666 F F1 -6.108(PP)3.644 G -3.328(tt)6.108 G
-5.558(hh)3.328 G F0 1.144(internally just uses)9.202 F F2(sigpr)128
196.8 Q(ocmask)-.45 E F0 1.004(\(2\) here. So alternati)1.666 F -.15(ve)
-.25 G 1.005(ly you can also directly call).15 F F2(sigpr)3.505 E
(ocmask)-.45 E F0 1.005(\(2\), b)1.666 F 1.005(ut for consistenc)-.2 F
(y)-.15 E(reasons you should use this function)128 208.8 Q F2
(pth_sigmask)2.5 E F0(\(3\).)1.666 E(int)108 225.6 Q F1 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G
-2.778(ii)3.888 G -4.998(gg)2.778 G -7.218(ww)4.998 G -4.998(aa)7.218 G
-2.778(ii)4.998 G -3.328(tt)2.778 G F0(\(const sigset_t *)3.328 E F2
(set)A F0 2.5(,i)C(nt *)-2.5 E F2(sig)A F0(\);)A .378(This is a v)128
237.6 R .378(ariant of the)-.25 F F3(POSIX)2.878 E F0(.1c)A F2(sigwait)
2.878 E F0 .378(\(3\) function. It suspends the current threads e)1.666
F -.15(xe)-.15 G .377(cution until a).15 F .427(signal in)128 249.6 R F2
(set)2.927 E F0 .428(occurred and stores the signal number in)2.928 F F2
(sig)2.928 E F0 2.928(.T)C .428
(he important point is that the signal is not)-2.928 F(deli)128 261.6 Q
-.15(ve)-.25 G .689(red to a signal handler).15 F 3.188(.I)-.55 G .688
(nstead it')-3.188 F 3.188(sc)-.55 G .688
(aught by the scheduler only in order to a)-3.188 F -.1(wa)-.15 G .888
-.1(ke t).1 H(he).1 E F2(pth_sig-)3.188 E(wait\(\))128 273.6 Q F0 .077
(call. The trick and noticeable point here is that this w)2.577 F .078
(ay you get an asynchronous a)-.1 F -.1(wa)-.15 G .078(re applica-).1 F
.016(tion that is written completely synchronously)128 285.6 R 2.516(.W)
-.65 G .016(hen you think about the problem of)-2.516 F F2(async)2.515 E
(hr)-.15 E .015(onous safe)-.45 F F0
(functions you should recognize that this is a great bene\214t.)128
297.6 Q(int)108 314.4 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)
3.328 G -4.998(__)5.558 G -4.438(cc)4.998 G -4.998(oo)4.438 G -5.558(nn)
4.998 G -5.558(nn)5.558 G -4.438(ee)5.558 G -4.438(cc)4.438 G -3.328(tt)
4.438 G F0(\(int)3.328 E F2(s)2.5 E F0 2.5(,c)C(onst struct sockaddr *)
-2.5 E F2(addr)A F0 2.5(,s)C(ocklen_t)-2.5 E F2(addrlen)2.5 E F0(\);)A
.329(This is a v)128 326.4 R .329(ariant of the 4.2BSD)-.25 F F2
(connect)2.829 E F0 .329
(\(2\) function. It establishes a connection on a sock)1.666 F(et)-.1 E
F2(s)2.829 E F0 .33(to tar)2.83 F(get)-.18 E 3.112(speci\214ed in)128
338.4 R F2(addr)5.612 E F0(and)5.612 E F2(addrlen)5.612 E F0 8.112(.T)C
3.112(he dif)-8.112 F 3.111(ference between)-.25 F F2(connect)5.611 E F0
3.111(\(2\) and)1.666 F F2(pth_connect)5.611 E F0 3.111(\(3\) is that)
1.666 F F2(pth_connect)128 350.4 Q F0 .039(\(3\) suspends only the e)
1.666 F -.15(xe)-.15 G .039
(cution of the current thread and not the whole process.).15 F -.15(Fo)
5.039 G 2.539(rm).15 G(ore)-2.539 E(details about the ar)128 362.4 Q
(guments and return code semantics see)-.18 E F2(connect)2.5 E F0
(\(2\).)1.666 E(int)108 379.2 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G -4.998(aa)4.998 G -4.438(cc)4.998 G
-4.438(cc)4.438 G -4.438(ee)4.438 G -5.558(pp)4.438 G -3.328(tt)5.558 G
F0(\(int)3.328 E F2(s)2.5 E F0 2.5(,s)C(truct sockaddr *)-2.5 E F2(addr)
A F0 2.5(,s)C(ocklen_t *)-2.5 E F2(addrlen)A F0(\);)A .691(This is a v)
128 391.2 R .691(ariant of the 4.2BSD)-.25 F F2(accept)3.191 E F0 .691
(\(2\) function. It accepts a connection on a sock)1.666 F .69(et by e)
-.1 F(xtracting)-.15 E .342(the \214rst connection request on the queue\
 of pending connections, creating a ne)128 403.2 R 2.843(ws)-.25 G(ock)
-2.843 E .343(et with the same)-.1 F .969(properties of)128 415.2 R F2
(s)3.469 E F0 .968(and allocates a ne)3.468 F 3.468<778c>-.25 G .968
(le descriptor for the sock)-3.468 F .968(et \(which is returned\).)-.1
F .968(The dif)5.968 F(ference)-.25 E(between)128 427.2 Q F2(accept)
2.705 E F0 .205(\(2\) and)1.666 F F2(pth_accept)2.705 E F0 .205
(\(3\) is that)1.666 F F2(pth_accept)2.705 E F0 .206
(\(3\) suspends only the e)1.666 F -.15(xe)-.15 G .206
(cution of the current).15 F .151(thread and not the whole process.)128
439.2 R -.15(Fo)5.151 G 2.651(rm).15 G .151(ore details about the ar)
-2.651 F .15(guments and return code semantics see)-.18 F F2(accept)128
451.2 Q F0(\(2\).)1.666 E(int)108 468 Q F1 -5.558(pp)2.5 G -3.328(tt)
5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G -4.438(ee)
3.888 G -2.778(ll)4.438 G -4.438(ee)2.778 G -4.438(cc)4.438 G -3.328(tt)
4.438 G F0(\(int)3.328 E F2(nfd)2.5 E F0 2.5(,f)C(d_set *)-2.5 E F2
(rfds)A F0 2.5(,f)C(d_set *)-2.5 E F2(wfds)A F0 2.5(,f)C(d_set *)-2.5 E
F2(efds)A F0 2.5(,s)C(truct time)-2.5 E -.25(va)-.25 G 2.5(l*).25 G F2
(timeout)-2.5 E F0(\);)A .032(This is a v)128 480 R .033
(ariant of the 4.2BSD)-.25 F F2(select)2.533 E F0 .033(\(2\) function.)
1.666 F .033(It e)5.033 F .033
(xamines the I/O descriptor sets whose addresses)-.15 F .147
(are passed in)128 492 R F2(rfds)2.647 E F0(,)A F2(wfds)2.647 E F0 2.647
(,a)C(nd)-2.647 E F2(efds)2.647 E F0 .147(to see if some of their descr\
iptors are ready for reading, are ready for)2.647 F .366(writing, or ha)
128 504 R .667 -.15(ve a)-.2 H 2.867(ne).15 G .367
(xceptional condition pending, respecti)-3.017 F -.15(ve)-.25 G(ly).15 E
5.367(.F)-.65 G .367(or more details about the ar)-5.517 F(guments)-.18
E(and return code semantics see)128 516 Q F2(select)2.5 E F0(\(2\).)
1.666 E(int)108 532.8 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)
3.328 G -4.998(__)5.558 G -5.558(pp)4.998 G -4.998(oo)5.558 G -2.778(ll)
4.998 G -2.778(ll)2.778 G F0(\(struct pollfd *)2.778 E F2(fds)A F0 2.5
(,u)C(nsigned int)-2.5 E F2(nfd)2.5 E F0 2.5(,i)C(nt)-2.5 E F2(timeout)
2.5 E F0(\);)A .4(This is a v)128 544.8 R .399(ariant of the SysV)-.25 F
F2(poll)2.899 E F0 .399(\(2\) function. It e)1.666 F .399
(xamines the I/O descriptors which are passed in the)-.15 F(array)128
556.8 Q F2(fds)3.442 E F0 .942(to see if some of them are ready for rea\
ding, are ready for writing, or ha)3.442 F 1.243 -.15(ve a)-.2 H 3.443
(ne).15 G(xceptional)-3.593 E .885(condition pending, respecti)128 568.8
R -.15(ve)-.25 G(ly).15 E 3.385(.F)-.65 G .885
(or more details about the ar)-3.535 F .884
(guments and return code semantics see)-.18 F F2(poll)128 580.8 Q F0
(\(2\).)1.666 E(ssize_t)108 597.6 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G 6.196 -4.438(rr ee)4.998 H -4.998
(aa)4.438 G -5.558(dd)4.998 G F0(\(int)5.558 E F2(fd)2.5 E F0 2.5(,v)C
(oid *)-2.7 E F2 -.2(bu)C(f).2 E F0 2.5(,s)C(ize_t)-2.5 E F2(nbytes)2.5
E F0(\);)A .127(This is a v)128 609.6 R .127(ariant of the)-.25 F F3
(POSIX)2.627 E F2 -.37(re)2.627 G(ad).37 E F0 .128
(\(2\) function. It reads up to)1.666 F F2(nbytes)2.628 E F0 .128
(bytes into)2.628 F F2 -.2(bu)2.628 G(f).2 E F0 .128
(from \214le descriptor)2.628 F F2(fd)128 621.6 Q F0 6.293(.T)C 1.293
(he dif)-6.293 F 1.293(ference between)-.25 F F2 -.37(re)3.793 G(ad).37
E F0 1.293(\(2\) and)1.666 F F2(pth_r)3.793 E(ead)-.37 E F0 1.292
(\(2\) is that)1.666 F F2(pth_r)3.792 E(ead)-.37 E F0 1.292
(\(2\) suspends e)1.666 F -.15(xe)-.15 G 1.292(cution of the).15 F .723
(current thread until the \214le descriptor is ready for reading. F)128
633.6 R .723(or more details about the ar)-.15 F .724(guments and)-.18 F
(return code semantics see)128 645.6 Q F2 -.37(re)2.5 G(ad).37 E F0
(\(2\).)1.666 E(ssize_t)108 662.4 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G 6.196 -4.438(rr ee)4.998 H -4.998
(aa)4.438 G -5.558(dd)4.998 G -4.998(vv)5.558 G F0(\(int)4.998 E F2(fd)
2.5 E F0 2.5(,c)C(onst struct io)-2.5 E -.15(ve)-.15 G 2.5(c*).15 G F2
(io)-2.5 E(vec)-.1 E F0 2.5(,i)C(nt)-2.5 E F2(io)2.5 E(vcnt)-.1 E F0
(\);)A 1.405(This is a v)128 674.4 R 1.405(ariant of the)-.25 F F3
(POSIX)3.905 E F2 -.37(re)3.905 G(adv).37 E F0 1.405
(\(2\) function. It reads data from \214le descriptor)1.666 F F2(fd)
3.904 E F0 1.404(into the \214rst)3.904 F F2(io)128 686.4 Q(vcnt)-.1 E
F0(ro)2.75 E .25(ws of the)-.25 F F2(io)2.751 E(v)-.1 E F0 -.15(ve)2.751
G(ctor).15 E 5.251(.T)-.55 G .251(he dif)-5.251 F .251(ference between)
-.25 F F2 -.37(re)2.751 G(adv).37 E F0 .251(\(2\) and)1.666 F F2(pth_r)
2.751 E(eadv)-.37 E F0 .251(\(2\) is that)1.666 F F2(pth_r)2.751 E(eadv)
-.37 E F0(\(2\))1.666 E .419(suspends e)128 698.4 R -.15(xe)-.15 G .418
(cution of the current thread until the \214le descriptor is ready for \
reading. F).15 F .418(or more details)-.15 F(about the ar)128 710.4 Q
(guments and return code semantics see)-.18 E F2 -.37(re)2.5 G(adv).37 E
F0(\(2\).)1.666 E 163.315(2002-10-15 perl)72 768 R 199.975(v5.6.1 18)2.5
F EP
%%Page: 19 19
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E(ssize_t)108 84 Q/F1 10/Times-Bold@0 SF -5.558(pp)2.5 G -3.328(tt)
5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -7.218(ww)4.998 G -4.438(rr)
7.218 G -2.778(ii)4.438 G -3.328(tt)2.778 G -4.438(ee)3.328 G F0(\(int)
4.438 E/F2 10/Times-Italic@0 SF(fd)2.5 E F0 2.5(,c)C(onst v)-2.5 E
(oid *)-.2 E F2 -.2(bu)C(f).2 E F0 2.5(,s)C(ize_t)-2.5 E F2(nbytes)2.5 E
F0(\);)A .792(This is a v)128 96 R .792(ariant of the)-.25 F/F3 9
/Times-Roman@0 SF(POSIX)3.292 E F2(write)3.292 E F0 .792
(\(2\) function. It writes)1.666 F F2(nbytes)3.292 E F0 .793(bytes from)
3.293 F F2 -.2(bu)3.293 G(f).2 E F0 .793(to \214le descriptor)3.293 F F2
(fd)3.293 E F0(.)A .453(The dif)128 108 R .453(ference between)-.25 F F2
(write)2.953 E F0 .453(\(2\) and)1.666 F F2(pth_write)2.953 E F0 .453
(\(2\) is that)1.666 F F2(pth_write)2.952 E F0 .452(\(2\) suspends e)
1.666 F -.15(xe)-.15 G .452(cution of the cur).15 F(-)-.2 E 1.434
(rent thread until the \214le descriptor is ready for writing.)128 120 R
-.15(Fo)6.434 G 3.934(rm).15 G 1.434(ore details about the ar)-3.934 F
1.434(guments and)-.18 F(return code semantics see)128 132 Q F2(write)
2.5 E F0(\(2\).)1.666 E(ssize_t)108 148.8 Q F1 -5.558(pp)2.5 G -3.328
(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -7.218(ww)4.998 G -4.438
(rr)7.218 G -2.778(ii)4.438 G -3.328(tt)2.778 G 6.226 -4.438(ee v)3.328
H(v)-.56 E F0(\(int)A F2(fd)2.5 E F0 2.5(,c)C(onst struct io)-2.5 E -.15
(ve)-.15 G 2.5(c*).15 G F2(io)-2.5 E(vec)-.1 E F0 2.5(,i)C(nt)-2.5 E F2
(io)2.5 E(vcnt)-.1 E F0(\);)A .023(This is a v)128 160.8 R .023
(ariant of the)-.25 F F3(POSIX)2.523 E F2(write)2.523 E(v)-.15 E F0 .023
(\(2\) function. It writes data to \214le descriptor)1.666 F F2(fd)2.523
E F0 .022(from the \214rst)2.522 F F2(io)2.522 E(vcnt)-.1 E F0(ro)128
172.8 Q .313(ws of the)-.25 F F2(io)2.813 E(v)-.1 E F0 -.15(ve)2.813 G
(ctor).15 E 5.314(.T)-.55 G .314(he dif)-5.314 F .314(ference between)
-.25 F F2(write)2.814 E(v)-.15 E F0 .314(\(2\) and)1.666 F F2(pth_write)
2.814 E(v)-.15 E F0 .314(\(2\) is that)1.666 F F2(pth_write)2.814 E(v)
-.15 E F0 .314(\(2\) sus-)1.666 F 1.217(pends e)128 184.8 R -.15(xe)-.15
G 1.217(cution of the current thread until the \214le descriptor is rea\
dy for reading. F).15 F 1.216(or more details)-.15 F(about the ar)128
196.8 Q(guments and return code semantics see)-.18 E F2(write)2.5 E(v)
-.15 E F0(\(2\).)1.666 E(ssize_t)108 213.6 Q F1 -5.558(pp)2.5 G -3.328
(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -5.558(pp)4.998 G 6.196
-4.438(rr ee)5.558 H -4.998(aa)4.438 G -5.558(dd)4.998 G F0(\(int)5.558
E F2(fd)2.5 E F0 2.5(,v)C(oid *)-2.7 E F2 -.2(bu)C(f).2 E F0 2.5(,s)C
(ize_t)-2.5 E F2(nbytes)2.5 E F0 2.5(,o)C -.25(ff)-2.5 G(_t).25 E F2(of)
2.5 E(fset)-.18 E F0(\);)A 1.045(This is a v)128 225.6 R 1.045
(ariant of the)-.25 F F3(POSIX)3.546 E F2(pr)3.546 E(ead)-.37 E F0 1.046
(\(3\) function.)1.666 F 1.046(It performs the same action as a re)6.046
F(gular)-.15 E F2 -.37(re)3.546 G(ad).37 E F0(\(2\),)1.666 E -.15(ex)128
237.6 S .699(cept that it reads from a gi).15 F -.15(ve)-.25 G 3.199(np)
.15 G .699(osition in the \214le without changing the \214le pointer)
-3.199 F 5.699(.T)-.55 G .698(he \214rst three)-5.699 F(ar)128 249.6 Q
.126(guments are the same as for)-.18 F F2(pth_r)2.627 E(ead)-.37 E F0
.127(\(3\) with the addition of a fourth ar)1.666 F(gument)-.18 E F2(of)
2.627 E(fset)-.18 E F0 .127(for the desired)2.627 F
(position inside the \214le.)128 261.6 Q(ssize_t)108 278.4 Q F1 -5.558
(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -5.558
(pp)4.998 G -7.218(ww)5.558 G -4.438(rr)7.218 G -2.778(ii)4.438 G -3.328
(tt)2.778 G -4.438(ee)3.328 G F0(\(int)4.438 E F2(fd)2.5 E F0 2.5(,c)C
(onst v)-2.5 E(oid *)-.2 E F2 -.2(bu)C(f).2 E F0 2.5(,s)C(ize_t)-2.5 E
F2(nbytes)2.5 E F0 2.5(,o)C -.25(ff)-2.5 G(_t).25 E F2(of)2.5 E(fset)
-.18 E F0(\);)A .74(This is a v)128 290.4 R .74(ariant of the)-.25 F F3
(POSIX)3.24 E F2(pwrite)3.24 E F0 .74(\(3\) function.)1.666 F .74
(It performs the same action as a re)5.74 F(gular)-.15 E F2(write)3.239
E F0(\(2\),)1.666 E -.15(ex)128 302.4 S 1.3(cept that it writes to a gi)
.15 F -.15(ve)-.25 G 3.8(np).15 G 1.3
(osition in the \214le without changing the \214le pointer)-3.8 F 3.8
(.T)-.55 G 1.3(he \214rst three)-3.8 F(ar)128 314.4 Q 1.934
(guments are the same as for)-.18 F F2(pth_write)4.434 E F0 1.933
(\(3\) with the addition of a fourth ar)1.666 F(gument)-.18 E F2(of)
4.433 E(fset)-.18 E F0 1.933(for the)4.433 F
(desired position inside the \214le.)128 326.4 Q(ssize_t)108 343.2 Q F1
-5.558(pp)2.5 G -3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G
6.196 -4.438(rr ee)4.998 H -4.438(cc)4.438 G -4.998(vv)4.438 G F0(\(int)
4.998 E F2(fd)2.5 E F0 2.5(,v)C(oid *)-2.7 E F2 -.2(bu)C(f).2 E F0 2.5
(,s)C(ize_t)-2.5 E F2(nbytes)2.5 E F0 2.5(,i)C(nt)-2.5 E F2<8d61>2.5 E
(gs)-.1 E F0(\);)A 1.445(This is a v)128 355.2 R 1.445
(ariant of the SUSv2)-.25 F F2 -.37(re)3.946 G(cv).37 E F0 1.446
(\(2\) function and equal to `)1.666 F 1.446(`pth_recvfrom\(fd, b)-.74 F
1.446(uf, nbytes, \215ags,)-.2 F F3(NULL)128 367.2 Q F0 2.5(,0)C(\)')
-2.5 E('.)-.74 E(ssize_t)108 384 Q F1 -5.558(pp)2.5 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G 6.196 -4.438(rr ee)4.998 H -4.438
(cc)4.438 G -4.998(vv)4.438 G -3.328(ff)4.998 G 6.196 -4.438(rr o)3.328
H(om)-.56 E(m)-8.328 E F0(\(int)A F2(fd)2.5 E F0 2.5(,v)C(oid *)-2.7 E
F2 -.2(bu)C(f).2 E F0 2.5(,s)C(ize_t)-2.5 E F2(nbytes)2.5 E F0 2.5(,i)C
(nt)-2.5 E F2<8d61>2.5 E(gs)-.1 E F0 2.5(,s)C(truct sockaddr *)-2.5 E F2
(fr)A(om)-.45 E F0 2.5(,s)C(ocklen_t *)-2.5 E F2(fr)A(omlen)-.45 E F0
(\);)A 1.403(This is a v)128 396 R 1.403(ariant of the SUSv2)-.25 F F2
-.37(re)3.903 G(cvfr).37 E(om)-.45 E F0 1.403
(\(2\) function. It reads up to)1.666 F F2(nbytes)3.903 E F0 1.403
(bytes into)3.903 F F2 -.2(bu)3.903 G(f).2 E F0 1.403(from \214le)3.903
F(descriptor)128 408 Q F2(fd)7.321 E F0 4.821(while using)7.321 F F2
<8d61>7.321 E(gs)-.1 E F0(and)7.321 E F2(fr)7.321 E(om)-.45 E F0(/)A F2
(fr)A(omlen)-.45 E F0 7.321(.T)C 4.821(he dif)-7.321 F 4.822
(ference between)-.25 F F2 -.37(re)7.322 G(cvfr).37 E(om)-.45 E F0 4.822
(\(2\) and)1.666 F F2(pth_r)128 420 Q(ecvfr)-.37 E(om)-.45 E F0 .074
(\(2\) is that)1.666 F F2(pth_r)2.574 E(ecvfr)-.37 E(om)-.45 E F0 .074
(\(2\) suspends e)1.666 F -.15(xe)-.15 G .074
(cution of the current thread until the \214le descrip-).15 F 2.975
(tor is ready for reading. F)128 432 R 2.975
(or more details about the ar)-.15 F 2.976
(guments and return code semantics see)-.18 F F2 -.37(re)128 444 S(cvfr)
.37 E(om)-.45 E F0(\(2\).)1.666 E(ssize_t)108 460.8 Q F1 -5.558(pp)2.5 G
-3.328(tt)5.558 G -5.558(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G
-4.438(ee)3.888 G -5.558(nn)4.438 G -5.558(dd)5.558 G F0(\(int)5.558 E
F2(fd)2.5 E F0 2.5(,c)C(onst v)-2.5 E(oid *)-.2 E F2 -.2(bu)C(f).2 E F0
2.5(,s)C(ize_t)-2.5 E F2(nbytes)2.5 E F0 2.5(,i)C(nt)-2.5 E F2<8d61>2.5
E(gs)-.1 E F0(\);)A .109(This is a v)128 472.8 R .109
(ariant of the SUSv2)-.25 F F2(send)2.609 E F0 .109
(\(2\) function and equal to `)1.666 F .108(`pth_sendto\(fd, b)-.74 F
.108(uf, nbytes, \215ags,)-.2 F F3(NULL)2.608 E F0(,)A(0\)')128 484.8 Q
('.)-.74 E(ssize_t)108 501.6 Q F1 -5.558(pp)4.165 G -3.328(tt)5.558 G
-5.558(hh)3.328 G -4.998(__)5.558 G -3.888(ss)4.998 G -4.438(ee)3.888 G
-5.558(nn)4.438 G -5.558(dd)5.558 G -3.328(tt)5.558 G -4.998(oo)3.328 G
F0(\(int)4.998 E F2(fd)4.165 E F0 4.165(,c)C 1.665(onst v)-4.165 F 1.666
(oid *)-.2 F F2 -.2(bu)C(f).2 E F0 4.166(,s)C(ize_t)-4.166 E F2(nbytes)
4.166 E F0 4.166(,i)C(nt)-4.166 E F2<8d61>4.166 E(gs)-.1 E F0 4.166(,c)C
1.666(onst struct sockaddr *)-4.166 F F2(to)A F0 4.166(,s)C(ocklen_t)
-4.166 E F2(tolen)108 513.6 Q F0(\);)A .493(This is a v)128 525.6 R .493
(ariant of the SUSv2)-.25 F F2(sendto)2.993 E F0 .493
(\(2\) function. It writes)1.666 F F2(nbytes)2.993 E F0 .493(bytes from)
2.993 F F2 -.2(bu)2.993 G(f).2 E F0 .493(to \214le descriptor)2.993 F F2
(fd)2.993 E F0 4.159(while using)128 537.6 R F2<8d61>6.659 E(gs)-.1 E F0
(and)6.659 E F2(to)6.659 E F0(/)A F2(tolen)A F0 6.659(.T)C 4.159(he dif)
-6.659 F 4.159(ference between)-.25 F F2(sendto)6.659 E F0 4.159
(\(2\) and)1.666 F F2(pth_sendto)6.659 E F0 4.159(\(2\) is that)1.666 F
F2(pth_sendto)128 549.6 Q F0 1.141(\(2\) suspends e)1.666 F -.15(xe)-.15
G 1.141(cution of the current thread until the \214le descriptor is rea\
dy for writing.).15 F -.15(Fo)128 561.6 S 2.5(rm).15 G
(ore details about the ar)-2.5 E(guments and return code semantics see)
-.18 E F2(sendto)2.5 E F0(\(2\).)1.666 E/F4 10.95/Times-Bold@0 SF -7.302
(EE)72 578.4 S -7.904(XX)7.302 G -7.904(AA)7.904 G -10.335(MM)7.904 G
-6.688(PP)10.335 G -7.302(LL)6.688 G -7.302(EE)7.302 G F0 .604
(The follo)108 590.4 R .604(wing e)-.25 F .603(xample is a useless serv)
-.15 F .603(er which does nothing more than listening on)-.15 F F3(TCP)
3.103 E F0 .603(port 12345 and)3.103 F .198
(displaying the current time to the sock)108 602.4 R .198
(et when a connection w)-.1 F .198(as established. F)-.1 F .198
(or each incoming connection)-.15 F 3.247(at)108 614.4 S .747
(hread is spa)-3.247 F .747(wned. Additionally)-.15 F 3.247(,t)-.65 G
3.247(os)-3.247 G .746(ee more multithreading, a useless tick)-3.247 F
.746(er thread runs simultaneously)-.1 F .193
(which outputs the current time to)108 626.4 R/F5 10/Courier@0 SF
(stderr)2.693 E F0 -2.15 -.25(ev e)2.693 H .194(ry 5 seconds. The e).25
F .194(xample contains)-.15 F F2(no)2.694 E F0 .194
(error checking and is)2.694 F F2(only)108 638.4 Q F0(intended to sho)
2.5 E 2.5(wy)-.25 G(ou the look and feel of)-2.5 E F1 -6.108(PP)2.5 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0(.)5.558 E 163.315
(2002-10-15 perl)72 768 R 199.975(v5.6.1 19)2.5 F EP
%%Page: 20 20
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Courier@0 SF(#include <stdio.h>)114 84 Q
(#include <stdlib.h>)114 96 Q(#include <errno.h>)114 108 Q
(#include <sys/types.h>)114 120 Q(#include <sys/socket.h>)114 132 Q
(#include <netinet/in.h>)114 144 Q(#include <arpa/inet.h>)114 156 Q
(#include <signal.h>)114 168 Q(#include <netdb.h>)114 180 Q
(#include <unistd.h>)114 192 Q(#include "pth.h")114 204 Q
(#define PORT 12345)114 228 Q
(/* the socket connection handler thread */)114 252 Q
(static void *handler\(void *_arg\))114 264 Q({)114 276 Q
(int fd = \(int\)_arg;)138 288 Q(time_t now;)138 300 Q(char *ct;)138 312
Q(now = time\(NULL\);)138 336 Q(ct = ctime\(&now\);)138 348 Q
(pth_write\(fd, ct, strlen\(ct\)\);)138 360 Q(close\(fd\);)138 372 Q
(return NULL;)138 384 Q(})114 396 Q(/* the stderr time ticker thread */)
114 420 Q(static void *ticker\(void *_arg\))114 432 Q({)114 444 Q
(time_t now;)138 456 Q(char *ct;)138 468 Q(float load;)138 480 Q
(for \(;;\) {)138 504 Q(pth_sleep\(5\);)162 516 Q(now = time\(NULL\);)
162 528 Q(ct = ctime\(&now\);)162 540 Q(ct[strlen\(ct\)-1] = '\\0';)162
552 Q(pth_ctrl\(PTH_CTRL_GETAVLOAD, &load\);)162 564 Q
(printf\("ticker: time: %s, average load: %.2f\\n", ct, load\);)162 576
Q(})138 588 Q(})114 600 Q F0 163.315(2002-10-15 perl)72 768 R 199.975
(v5.6.1 20)2.5 F EP
%%Page: 21 21
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Courier@0 SF(/* the main thread/procedure */)114 84 Q
(int main\(int argc, char *argv[]\))114 96 Q({)114 108 Q
(pth_attr_t attr;)138 120 Q(struct sockaddr_in sar;)138 132 Q
(struct protoent *pe;)138 144 Q(struct sockaddr_in peer_addr;)138 156 Q
(int peer_len;)138 168 Q(int sa, sw;)138 180 Q(int port;)138 192 Q
(pth_init\(\);)138 216 Q(signal\(SIGPIPE, SIG_IGN\);)138 228 Q
(attr = pth_attr_new\(\);)138 252 Q
(pth_attr_set\(attr, PTH_ATTR_NAME, "ticker"\);)138 264 Q
(pth_attr_set\(attr, PTH_ATTR_STACK_SIZE, 64*1024\);)138 276 Q
(pth_attr_set\(attr, PTH_ATTR_JOINABLE, FALSE\);)138 288 Q
(pth_spawn\(attr, ticker, NULL\);)138 300 Q
(pe = getprotobyname\("tcp"\);)138 324 Q
(sa = socket\(AF_INET, SOCK_STREAM, pe->p_proto\);)138 336 Q
(sar.sin_family = AF_INET;)138 348 Q(sar.sin_addr.s_addr = INADDR_ANY;)
138 360 Q(sar.sin_port = htons\(PORT\);)138 372 Q
(bind\(sa, \(struct sockaddr *\)&sar, sizeof\(struct sockaddr_in\)\);)
138 384 Q(listen\(sa, 10\);)138 396 Q
(pth_attr_set\(attr, PTH_ATTR_NAME, "handler"\);)138 420 Q(for \(;;\) {)
138 432 Q(peer_len = sizeof\(peer_addr\);)162 444 Q
(sw = pth_accept\(sa, \(struct sockaddr *\)&peer_addr, &peer_len\);)162
456 Q(pth_spawn\(attr, handler, \(void *\)sw\);)162 468 Q(})138 480 Q(})
114 492 Q/F2 10.95/Times-Bold@0 SF 11.756 -7.302(BB U)72 520.8 T(UI)
-.602 E(IL)-4.258 E(LD)-7.302 E 2.738(DE)-7.904 G(EN)-10.04 E(NV)-7.904
E(VI)-7.904 E(IR)-4.258 E -.329(RO)-7.904 G(ON)-8.188 E(NM)-7.904 E(ME)
-10.335 E(EN)-7.302 E(NT)-7.904 E(TS)-7.302 E(S)-6.086 E F0 .708
(In this section we will discuss the canonical w)108 532.8 R .708
(ays to establish the b)-.1 F .708(uild en)-.2 F .708(vironment for a)
-.4 F/F3 10/Times-Bold@0 SF -6.108(PP)3.208 G -3.328(tt)6.108 G -5.558
(hh)3.328 G F0 .708(based pro-)8.766 F
(gram. The possibilities supported by)108 544.8 Q F3 -6.108(PP)2.5 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0(range from v)8.058 E
(ery simple en)-.15 E(vironments to rather comple)-.4 E 2.5(xo)-.15 G
(nes.)-2.5 E F3 -9.438(MM)108 567.6 S -4.998(aa)9.438 G -5.558(nn)4.998
G -5.558(uu)5.558 G -4.998(aa)5.558 G 5.556 -2.778(ll B)4.998 H(Bu)-3.89
E(ui)-5.558 E(il)-2.778 E(ld)-2.778 E 2.5(dE)-5.558 G(En)-9.168 E -.4
(nv)-5.558 G(vi)-4.598 E(ir)-2.778 E -.18(ro)-4.438 G(on)-4.818 E(nm)
-5.558 E(me)-8.328 E(en)-4.438 E(nt)-5.558 E 2.5(t\()-3.328 G(\(N)-5.828
E(No)-7.218 E -.1(ov)-4.998 G(vi)-4.898 E(ic)-2.778 E(ce)-4.438 E(e\))
-4.438 E(\))-3.328 E F0 .4(As a \214rst e)108 584.4 R .4
(xample, assume we ha)-.15 F .7 -.15(ve t)-.2 H .4(he abo).15 F .7 -.15
(ve t)-.15 H .4(est program staying in the source \214le).15 F F1(foo.c)
2.9 E F0 2.9(.T)C .4(hen we can)-2.9 F(create a v)108 596.4 Q
(ery simple b)-.15 E(uild en)-.2 E(vironment by just adding the follo)
-.4 E(wing)-.25 E F1(Makefile)2.5 E F0(:)A 163.315(2002-10-15 perl)72
768 R 199.975(v5.6.1 21)2.5 F EP
%%Page: 22 22
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Courier@0 SF 6($v)114 84 S 6(iM)-6 G(akefile)-6 E/F2 10
/Symbol SF<ef>114 96 Q F1 30(CC =)6 F(cc)6 E F2<ef>114 108 Q F1 6
(CFLAGS =)6 F(`pth-config --cflags`)6 E F2<ef>114 120 Q F1
(LDFLAGS = `pth-config --ldflags`)6 E F2<ef>114 132 Q F1 18(LIBS =)6 F
(`pth-config --libs`)6 E F2<ef>114 144 Q<ef>114 156 Q F1(all: foo)6 E F2
<ef>114 168 Q F1(foo: foo.o)6 E F2<ef>114 180 Q F1
($\(CC\) $\(LDFLAGS\) -o foo foo.o $\(LIBS\))30 E F2<ef>114 192 Q F1
(foo.o: foo.c)6 E F2<ef>114 204 Q F1($\(CC\) $\(CFLAGS\) -c foo.c)30 E
F2<ef>114 216 Q F1(clean:)6 E F2<ef>114 228 Q F1(rm -f foo foo.o)30 E F0
.183(This imports the necessary compiler and link)108 252 R .182
(er \215ags on-the-\215y from the)-.1 F/F3 10/Times-Bold@0 SF -6.108(PP)
2.682 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .182
(installation via its)8.24 F F1(pth\255con-)2.682 E(fig)108 264 Q F0
(program. This approach is straight-forw)2.5 E(ard and w)-.1 E
(orks \214ne for small projects.)-.1 E F3 11.436 -7.218(AA u)108 286.8 T
(ut)1.66 E(to)-3.328 E(oc)-4.998 E(co)-4.438 E(on)-4.998 E(nf)-5.558 E
2.5(fB)-3.328 G(Bu)-9.168 E(ui)-5.558 E(il)-2.778 E(ld)-2.778 E 2.5(dE)
-5.558 G(En)-9.168 E -.4(nv)-5.558 G(vi)-4.598 E(ir)-2.778 E -.18(ro)
-4.438 G(on)-4.818 E(nm)-5.558 E(me)-8.328 E(en)-4.438 E(nt)-5.558 E 2.5
(t\()-3.328 G(\(A)-5.828 E(Ad)-7.218 E(dv)-5.558 E -.1(va)-4.998 G(an)
-4.898 E(nc)-5.558 E(ce)-4.438 E(ed)-4.438 E(d\))-5.558 E(\))-3.328 E F0
.648(The pre)108 303.6 R .649(vious approach is simple b)-.25 F .649
(ut in\215e)-.2 F .649(xible. First, to speed up b)-.15 F .649
(uilding, it w)-.2 F .649(ould be nice to not e)-.1 F(xpand)-.15 E .022
(the compiler and link)108 315.6 R .022(er \215ags e)-.1 F -.15(ve)-.25
G .022(ry time the compiler is started. Second, it w).15 F .021
(ould be useful to also be able to)-.1 F -.2(bu)108 327.6 S .357(ild ag)
.2 F .357(ainst uninstalled)-.05 F F3 -6.108(PP)2.857 G -3.328(tt)6.108
G -5.558(hh)3.328 G F0 2.857(,t)5.558 G .357(hat is, ag)-2.857 F .357
(ainst a)-.05 F F3 -6.108(PP)2.857 G -3.328(tt)6.108 G -5.558(hh)3.328 G
F0 .357(source tree which w)8.415 F .357(as just con\214gured and b)-.1
F .358(uilt, b)-.2 F .358(ut not)-.2 F .906(installed. Third, it w)108
339.6 R .906(ould be also useful to allo)-.1 F 3.406(wc)-.25 G .906
(hecking of the)-3.406 F F3 -6.108(PP)3.406 G -3.328(tt)6.108 G -5.558
(hh)3.328 G F0 -.15(ve)8.964 G .906(rsion to mak).15 F 3.406(es)-.1 G
.906(ure it is at least a)-3.406 F .936(minimum required v)108 351.6 R
3.436(ersion. And)-.15 F(\214nally)3.436 E 3.436(,i)-.65 G 3.436(tw)
-3.436 G .936(ould be also great to mak)-3.536 F 3.436(es)-.1 G(ure)
-3.436 E F3 -6.108(PP)3.436 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 -.1
(wo)8.994 G .937(rks correctly by \214rst).1 F .096(performing some san\
ity compile and run-time checks. All this can be done if we use)108
363.6 R/F4 9/Times-Roman@0 SF(GNU)2.595 E F3 -4.998(aa)2.595 G -5.558
(uu)4.998 G -3.328(tt)5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G -4.998
(oo)4.438 G -5.558(nn)4.998 G -3.328(ff)5.558 G F0 .095(and the)5.923 F
F1(AC_CHECK_PTH)108 375.6 Q F0(macro pro)2.5 E(vided by)-.15 E F3 -6.108
(PP)2.5 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 2.5(.F)5.558 G
(or this, we establish the follo)-2.65 E(wing three \214les:)-.25 E .284
(First we ag)108 392.4 R .285(ain need the)-.05 F F1(Makefile)2.785 E F0
2.785(,b)C .285(ut this time it contains)-2.985 F F3 -4.998(aa)2.785 G
-5.558(uu)4.998 G -3.328(tt)5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G
-4.998(oo)4.438 G -5.558(nn)4.998 G -3.328(ff)5.558 G F0 .285
(placeholders and additional cleanup)6.113 F(tar)108 404.4 Q
(gets. And we create it under the name)-.18 E F1(Makefile.in)2.5 E F0
2.5(,b)C(ecause it is no)-2.5 E 2.5(wa)-.25 G 2.5(ni)-2.5 G
(nput \214le for)-2.5 E F3 -4.998(aa)2.5 G -5.558(uu)4.998 G -3.328(tt)
5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G -4.998(oo)4.438 G -5.558(nn)
4.998 G -3.328(ff)5.558 G F0(:)3.328 E F1 6($v)114 421.2 S 6(iM)-6 G
(akefile.in)-6 E F2<ef>114 433.2 Q F1 30(CC =)6 F(@CC@)6 E F2<ef>114
445.2 Q F1 6(CFLAGS =)6 F(@CFLAGS@)6 E F2<ef>114 457.2 Q F1
(LDFLAGS = @LDFLAGS@)6 E F2<ef>114 469.2 Q F1 18(LIBS =)6 F(@LIBS@)6 E
F2<ef>114 481.2 Q<ef>114 493.2 Q F1(all: foo)6 E F2<ef>114 505.2 Q F1
(foo: foo.o)6 E F2<ef>114 517.2 Q F1
($\(CC\) $\(LDFLAGS\) -o foo foo.o $\(LIBS\))30 E F2<ef>114 529.2 Q F1
(foo.o: foo.c)6 E F2<ef>114 541.2 Q F1($\(CC\) $\(CFLAGS\) -c foo.c)30 E
F2<ef>114 553.2 Q F1(clean:)6 E F2<ef>114 565.2 Q F1(rm -f foo foo.o)30
E F2<ef>114 577.2 Q F1(distclean:)6 E F2<ef>114 589.2 Q F1
(rm -f foo foo.o)30 E F2<ef>114 601.2 Q F1
(rm -f config.log config.status config.cache)30 E F2<ef>114 613.2 Q F1
(rm -f Makefile)30 E F0(Because)108 637.2 Q F3 -4.998(aa)3.519 G -5.558
(uu)4.998 G -3.328(tt)5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G -4.998
(oo)4.438 G -5.558(nn)4.998 G -3.328(ff)5.558 G F0 1.019
(generates additional \214les, we added a canonical)6.847 F F1
(distclean)3.519 E F0(tar)3.519 E 1.018(get which cleans this)-.18 F
(up. Secondly)108 649.2 Q 2.5(,w)-.65 G 2.5(ew)-2.5 G(rote)-2.5 E F1
(configure.ac)2.5 E F0 2.5(,a\()C(minimal\))-2.5 E F3 -4.998(aa)2.5 G
-5.558(uu)4.998 G -3.328(tt)5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G
-4.998(oo)4.438 G -5.558(nn)4.998 G -3.328(ff)5.558 G F0
(script speci\214cation:)5.828 E F1 6($v)114 666 S 6(ic)-6 G
(onfigure.ac)-6 E F2<ef>114 678 Q F1(AC_INIT\(Makefile.in\))6 E F2<ef>
114 690 Q F1(AC_CHECK_PTH\(1.3.0\))6 E F2<ef>114 702 Q F1
(AC_OUTPUT\(Makefile\))6 E F0 2.843(Then we let)108 726 R F3 -4.998(aa)
5.343 G -5.558(uu)4.998 G -3.328(tt)5.558 G -4.998(oo)3.328 G -4.438(cc)
4.998 G -4.998(oo)4.438 G -5.558(nn)4.998 G -3.328(ff)5.558 G F0 -.55
('s)3.328 G F1(aclocal)5.893 E F0 2.844(program generate for us an)5.344
F F1(aclocal.m4)5.344 E F0 2.844(\214le containing)5.344 F F3 -6.108(PP)
5.344 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 -.55('s)5.558 G 163.315
(2002-10-15 perl)72 768 R 199.975(v5.6.1 22)2.5 F EP
%%Page: 23 23
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Courier@0 SF(AC_CHECK_PTH)108 84 Q F0 .174
(macro. Then we generate the \214nal)2.674 F F1(configure)2.674 E F0
.173(script out of this)2.674 F F1(aclocal.m4)2.673 E F0 .173
(\214le and)2.673 F(the)108 96 Q F1(configure.ac)2.5 E F0(\214le:)2.5 E
F1 6($a)114 112.8 S(clocal --acdir=`pth-config --acdir`)-6 E 6($a)114
124.8 S(utoconf)-6 E F0(After these steps, the w)108 148.8 Q
(orking directory should look similar to this:)-.1 E F1 6($l)114 165.6 S
6(s-)-6 G(l)-6 E 6(-rw-r--r-- 1)114 177.6 R 6(rse users)6 F(176 Nov)24 E
6(31)12 G(1:11 Makefile.in)-6 E 6(-rw-r--r-- 1)114 189.6 R 6
(rse users 15314)6 F 6(Nov 3)6 F(11:16 aclocal.m4)6 E 6(-rwxr-xr-x 1)114
201.6 R 6(rse users 52045)6 F 6(Nov 3)6 F(11:16 configure)6 E 6
(-rw-r--r-- 1)114 213.6 R 6(rse users)6 F(63 Nov)30 E 6(31)12 G
(1:11 configure.ac)-6 E 6(-rw-r--r-- 1)114 225.6 R 6(rse users)6 F
(4227 Nov)18 E 6(31)12 G(1:11 foo.c)-6 E F0 1.21(If we no)108 249.6 R
3.71(wr)-.25 G(un)-3.71 E F1(configure)3.71 E F0 1.21(we get a correct)
3.71 F F1(Makefile)3.71 E F0 1.21(which immediately can be used to b)
3.71 F(uild)-.2 E F1(foo)3.71 E F0(\(assuming that)108 261.6 Q/F2 10
/Times-Bold@0 SF -6.108(PP)2.5 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0
(is already installed some)8.058 E(where, so that)-.25 E F1
(pth\255config)2.5 E F0(is in)2.5 E F1($PATH)2.5 E F0(\):)A F1 6($.)114
278.4 S(/configure)-6 E(creating cache ./config.cache)114 290.4 Q
(checking for gcc... gcc)114 302.4 Q
(checking whether the C compiler \(gcc)114 314.4 Q 6(\)w)18 G
(orks... yes)-6 E(checking whether the C compiler \(gcc)114 326.4 Q 6
(\)i)18 G 6(sac)-6 G(ross-compiler... no)-6 E
(checking whether we are using GNU C... yes)114 338.4 Q
(checking whether gcc accepts -g... yes)114 350.4 Q
(checking how to run the C preprocessor... gcc -E)114 362.4 Q
(checking for GNU Pth... version 1.3.0, installed under /usr/local)114
374.4 Q(updating cache ./config.cache)114 386.4 Q
(creating ./config.status)114 398.4 Q(creating Makefile)114 410.4 Q
(rse@en1:/e/gnu/pth/ac)114 422.4 Q 6($m)114 434.4 S(ake)-6 E
(gcc -g -O2 -I/usr/local/include -c foo.c)114 446.4 Q
(gcc -L/usr/local/lib -o foo foo.o -lpth)114 458.4 Q F0(If)108 482.4 Q
F2 -6.108(PP)3.615 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 1.115
(is installed in non-standard locations or)9.173 F F1(pth\255config)
3.615 E F0 1.115(is not in)3.615 F F1($PATH)3.615 E F0 3.614(,o)C 1.114
(ne just has to drop the)-3.614 F F1(configure)108 494.4 Q F0 .509
(script a note about the location by running)3.009 F F1(configure)3.009
E F0 .51(with the option)3.009 F F1(\255\255with\255pth=)3.01 E/F3 10
/Times-Italic@0 SF(dir)A F0(\(where)108 506.4 Q F3(dir)2.5 E F0
(is the ar)2.5 E(gument which w)-.18 E(as used with the)-.1 E F1
(\255\255prefix)2.5 E F0(option when)2.5 E F2 -6.108(PP)2.5 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 -.1(wa)8.058 G 2.5(si).1 G(nstalled\).)-2.5
E F2 11.436 -7.218(AA u)108 529.2 T(ut)1.66 E(to)-3.328 E(oc)-4.998 E
(co)-4.438 E(on)-4.998 E(nf)-5.558 E 2.5(fB)-3.328 G(Bu)-9.168 E(ui)
-5.558 E(il)-2.778 E(ld)-2.778 E 2.5(dE)-5.558 G(En)-9.168 E -.4(nv)
-5.558 G(vi)-4.598 E(ir)-2.778 E -.18(ro)-4.438 G(on)-4.818 E(nm)-5.558
E(me)-8.328 E(en)-4.438 E(nt)-5.558 E 2.5(tw)-3.328 G(wi)-9.718 E(it)
-2.778 E(th)-3.328 E 2.5(hL)-5.558 G(Lo)-9.168 E(oc)-4.998 E(ca)-4.438 E
(al)-4.998 E 2.5(lC)-2.778 G(Co)-9.718 E(op)-4.998 E(py)-5.558 E 2.5(yo)
-4.998 G(of)-7.498 E 2.5(fP)-3.328 G(Pt)-8.608 E(th)-3.328 E 2.5(h\()
-5.558 G(\(E)-5.828 E(Ex)-6.668 E(xp)-4.998 E(pe)-5.558 E(er)-4.438 E
(rt)-4.438 E(t\))-3.328 E(\))-3.328 E F0 .544(Finally let us assume the)
108 546 R F1(foo)3.044 E F0 .544(program stays under either a)3.044 F/F4
9/Times-Italic@0 SF(GPL)3.043 E F0(or)3.043 E F4(LGPL)3.043 E F0
(distrib)3.043 E .543(ution license and we w)-.2 F(ant)-.1 E .841
(to mak)108 558 R 3.341(ei)-.1 G 3.341(tas)-3.341 G .841
(tand-alone package for easier distrib)-3.341 F .841
(ution and installation.)-.2 F .841(That is, we don')5.841 F 3.342(tw)
-.18 G .842(ant to oblige)-3.442 F .361(the end-user to install)108 570
R F2 -6.108(PP)2.861 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .36
(just to allo)8.418 F 2.86(wo)-.25 G(ur)-2.86 E F1(foo)2.86 E F0 .36
(package to compile. F)2.86 F .36(or this, it is a con)-.15 F -.15(ve)
-.4 G .36(nient practice to).15 F .443
(include the required libraries \(here)108 582 R F2 -6.108(PP)2.943 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 2.943(\)i)5.558 G .443
(nto the source tree of the package \(here)-2.943 F F1(foo)2.943 E F0
(\).)A F2 -6.108(PP)5.444 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .444
(ships with all)8.502 F .907(necessary support to allo)108 594 R 3.407
(wu)-.25 G 3.407(st)-3.407 G 3.407(oe)-3.407 G .907(asily achie)-3.407 F
1.207 -.15(ve t)-.25 H .907(his approach. Say).15 F 3.407(,w)-.65 G
3.407(ew)-3.407 G(ant)-3.507 E F2 -6.108(PP)3.406 G -3.328(tt)6.108 G
-5.558(hh)3.328 G F0 .906(in a subdirectory named)8.964 F F1(pth/)108
606 Q F0(and this directory should be seamlessly inte)2.5 E
(grated into the con\214guration and b)-.15 E(uild process of)-.2 E F1
(foo)2.5 E F0(.)A .882(First we ag)108 622.8 R .883(ain start with the)
-.05 F F1(Makefile.in)3.383 E F0 3.383(,b)C .883
(ut this time it is a more adv)-3.583 F .883(anced v)-.25 F .883
(ersion which supports)-.15 F(subdirectory mo)108 634.8 Q -.15(ve)-.15 G
(ment:).15 E 163.315(2002-10-15 perl)72 768 R 199.975(v5.6.1 23)2.5 F EP
%%Page: 24 24
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Courier@0 SF 6($v)114 84 S 6(iM)-6 G(akefile.in)-6 E/F2 10
/Symbol SF<ef>114 96 Q F1 30(CC =)6 F(@CC@)6 E F2<ef>114 108 Q F1 6
(CFLAGS =)6 F(@CFLAGS@)6 E F2<ef>114 120 Q F1(LDFLAGS = @LDFLAGS@)6 E F2
<ef>114 132 Q F1 18(LIBS =)6 F(@LIBS@)6 E F2<ef>114 144 Q<ef>114 156 Q
F1(SUBDIRS = pth)6 E F2<ef>114 168 Q<ef>114 180 Q F1
(all: subdirs_all foo)6 E F2<ef>114 192 Q<ef>114 204 Q F1(subdirs_all:)6
E F2<ef>114 216 Q F1(@$\(MAKE\) $\(MFLAGS\) subdirs TARGET=all)30 E F2
<ef>114 228 Q F1(subdirs_clean:)6 E F2<ef>114 240 Q F1
(@$\(MAKE\) $\(MFLAGS\) subdirs TARGET=clean)30 E F2<ef>114 252 Q F1
(subdirs_distclean:)6 E F2<ef>114 264 Q F1
(@$\(MAKE\) $\(MFLAGS\) subdirs TARGET=distclean)30 E F2<ef>114 276 Q F1
(subdirs:)6 E F2<ef>114 288 Q F1(@for subdir in $\(SUBDIRS\); do \\)30 E
F2<ef>114 300 Q F1(echo "===> $$subdir \($\(TARGET\)\)"; \\)54 E F2<ef>
114 312 Q F1(\(cd $$subdir; $\(MAKE\) $\(MFLAGS\) $\(TARGET\))54 E F2
<efef>6 E F1(exit 1\))6 E F2<efef>6 E F1(exit 1; \\)6 E F2<ef>114 324 Q
F1(echo "<=== $$subdir"; \\)54 E F2<ef>114 336 Q F1(done)30 E F2<ef>114
348 Q<ef>114 360 Q F1(foo: foo.o)6 E F2<ef>114 372 Q F1
($\(CC\) $\(LDFLAGS\) -o foo foo.o $\(LIBS\))30 E F2<ef>114 384 Q F1
(foo.o: foo.c)6 E F2<ef>114 396 Q F1($\(CC\) $\(CFLAGS\) -c foo.c)30 E
F2<ef>114 408 Q<ef>114 420 Q F1(clean: subdirs_clean)6 E F2<ef>114 432 Q
F1(rm -f foo foo.o)30 E F2<ef>114 444 Q F1(distclean: subdirs_distclean)
6 E F2<ef>114 456 Q F1(rm -f foo foo.o)30 E F2<ef>114 468 Q F1
(rm -f config.log config.status config.cache)30 E F2<ef>114 480 Q F1
(rm -f Makefile)30 E F0(Then we create a slightly dif)108 504 Q(ferent)
-.25 E/F3 10/Times-Bold@0 SF -4.998(aa)2.5 G -5.558(uu)4.998 G -3.328
(tt)5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G -4.998(oo)4.438 G -5.558
(nn)4.998 G -3.328(ff)5.558 G F0(script)5.828 E F1(configure.ac)2.5 E F0
(:)A F1 6($v)114 520.8 S 6(ic)-6 G(onfigure.ac)-6 E F2<ef>114 532.8 Q F1
(AC_INIT\(Makefile.in\))6 E F2<ef>114 544.8 Q F1
(AC_CONFIG_AUX_DIR\(pth\))6 E F2<ef>114 556.8 Q F1
(AC_CHECK_PTH\(1.3.0, subdir:pth --disable-tests\))6 E F2<ef>114 568.8 Q
F1(AC_CONFIG_SUBDIRS\(pth\))6 E F2<ef>114 580.8 Q F1
(AC_OUTPUT\(Makefile\))6 E F0 4.387(Here we pro)108 604.8 R 4.387
(vided a def)-.15 F 4.387(ault v)-.1 F 4.387(alue for)-.25 F F1(foo)
6.886 E F0 -.55('s)C F1(\255\255with\255pth)7.436 E F0 4.386
(option as the second ar)6.886 F 4.386(gument to)-.18 F F1(AC_CHECK_PTH)
108 616.8 Q F0 .213(which indicates that)2.713 F F3 -6.108(PP)2.713 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 .213
(can be found in the subdirectory named)8.271 F F1(pth/)2.713 E F0 2.714
(.A)C .214(dditionally we)-2.714 F .363(speci\214ed that the)108 628.8 R
F1(\255\255disable\255tests)2.863 E F0 .363(option of)2.863 F F3 -6.108
(PP)2.863 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .362
(should be passed to the)8.42 F F1(pth/)2.862 E F0(subdirectory)2.862 E
2.862(,b)-.65 G(ecause)-2.862 E .073(we need only to b)108 640.8 R .073
(uild the)-.2 F F3 -6.108(PP)2.573 G -3.328(tt)6.108 G -5.558(hh)3.328 G
F0 .073(library itself. And we added a)8.131 F F1(AC_CONFIG_SUBDIR)2.573
E F0 .074(call which indicates to)2.573 F F3 -4.998(aa)108 652.8 S
-5.558(uu)4.998 G -3.328(tt)5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G
-4.998(oo)4.438 G -5.558(nn)4.998 G -3.328(ff)5.558 G F0 .736
(that it should con\214gure the)6.565 F F1(pth/)3.236 E F0(subdirectory)
3.236 E 3.236(,t)-.65 G .736(oo. The)-3.236 F F1(AC_CONFIG_AUX_DIR)3.236
E F0(directi)3.236 E 1.036 -.15(ve w)-.25 H(as).05 E 2.501
(added just to mak)108 664.8 R(e)-.1 E F3 -4.998(aa)5.001 G -5.558(uu)
4.998 G -3.328(tt)5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G -4.998(oo)
4.438 G -5.558(nn)4.998 G -3.328(ff)5.558 G F0(happ)8.329 E 3.801 -.65
(y, b)-.1 H 2.501(ecause it w).65 F 2.502(ants to \214nd a)-.1 F F1
(install.sh)5.002 E F0(or)5.002 E F1(shtool)5.002 E F0 2.502(script if)
5.002 F F1(AC_CONFIG_SUBDIRS)108 676.8 Q F0(is used.)2.5 E(No)108 693.6
Q 2.591(ww)-.25 G 2.591(el)-2.591 G(et)-2.591 E F3 -4.998(aa)2.591 G
-5.558(uu)4.998 G -3.328(tt)5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G
-4.998(oo)4.438 G -5.558(nn)4.998 G -3.328(ff)5.558 G F0 -.55('s)3.328 G
F1(aclocal)3.141 E F0 .091(program ag)2.591 F .091
(ain generate for us an)-.05 F F1(aclocal.m4)2.591 E F0 .091
(\214le with the contents of)2.591 F F3 -6.108(PP)108 705.6 S -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 -.55('s)5.558 G F1(AC_CHECK_PTH)3.448 E F0
2.898(macro. Finally)2.898 F .399(we generate the)2.899 F F1(configure)
2.899 E F0 .399(script out of this)2.899 F F1(aclocal.m4)2.899 E F0
(\214le)2.899 E(and the)108 717.6 Q F1(configure.ac)2.5 E F0(\214le.)2.5
E 163.315(2002-10-15 perl)72 768 R 199.975(v5.6.1 24)2.5 F EP
%%Page: 25 25
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Courier@0 SF 6($a)114 84 S
(clocal --acdir=`pth-config --acdir`)-6 E 6($a)114 96 S(utoconf)-6 E F0
(No)108 120 Q 3.428(ww)-.25 G 3.428(eh)-3.428 G -2.25 -.2(av e)-3.428 H
.928(to create the)3.628 F F1(pth/)3.428 E F0 .928
(subdirectory itself. F)3.428 F .928(or this, we e)-.15 F .928
(xtract the)-.15 F/F2 10/Times-Bold@0 SF -6.108(PP)3.428 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0(distrib)8.986 E .928(ution to the)-.2 F F1
(foo)3.428 E F0(source tree and just rename it to)108 132 Q F1(pth/)2.5
E F0(:)A F1 6($g)114 148.8 S(unzip <pth-X.Y.Z.tar.gz)-6 E/F3 10/Symbol
SF<ef>6 E F1(tar xvf -)6 E 6($m)114 160.8 S 6(vp)-6 G(th-X.Y.Z pth)-6 E
F0 .667(Optionally to reduce the size of the)108 184.8 R F1(pth/)3.167 E
F0(subdirectory)3.167 E 3.167(,w)-.65 G 3.167(ec)-3.167 G .667
(an strip do)-3.167 F .667(wn the)-.25 F F2 -6.108(PP)3.167 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 .667(sources to a minimum)8.725 F(with the)
108 196.8 Q/F4 10/Times-Italic@0 SF(striptease)2.5 E F0(feature:)2.5 E
F1 6($c)114 213.6 S 6(dp)-6 G(th)-6 E 6($.)114 225.6 S(/configure)-6 E 6
($m)114 237.6 S(ake striptease)-6 E 6($c)114 249.6 S 6(d.)-6 G(.)-6 E F0
(After this the source tree of)108 273.6 Q F1(foo)2.5 E F0
(should look similar to this:)2.5 E F1 6($l)114 290.4 S 6(s-)-6 G(l)-6 E
6(-rw-r--r-- 1)114 302.4 R 6(rse users)6 F(709 Nov)24 E 6(31)12 G
(1:51 Makefile.in)-6 E 6(-rw-r--r-- 1)114 314.4 R 6(rse users 16431)6 F
6(Nov 3)6 F(12:20 aclocal.m4)6 E 6(-rwxr-xr-x 1)114 326.4 R 6
(rse users 57403)6 F 6(Nov 3)6 F(12:21 configure)6 E 6(-rw-r--r-- 1)114
338.4 R 6(rse users)6 F(129 Nov)24 E 6(31)12 G(2:21 configure.ac)-6 E 6
(-rw-r--r-- 1)114 350.4 R 6(rse users)6 F(4227 Nov)18 E 6(31)12 G
(1:11 foo.c)-6 E 6(drwxr-xr-x 2)114 362.4 R 6(rse users)6 F(3584 Nov)18
E 6(31)12 G(2:36 pth)-6 E 6($l)114 374.4 S 6(s-)-6 G 6(lp)-6 G(th/)-6 E
6(-rw-rw-r-- 1)114 386.4 R 6(rse users)6 F(26344 Nov)18 E 6(12)12 G
(0:12 COPYING)-6 E 6(-rw-rw-r-- 1)114 398.4 R 6(rse users)6 F(2042 Nov)
24 E 6(31)12 G(2:36 Makefile.in)-6 E 6(-rw-rw-r-- 1)114 410.4 R 6
(rse users)6 F(3967 Nov)24 E 6(11)12 G(9:48 README)-6 E 6(-rw-rw-r-- 1)
114 422.4 R 6(rse users)6 F(340 Nov)30 E 6(31)12 G(2:36 README.1st)-6 E
6(-rw-rw-r-- 1)114 434.4 R 6(rse users)6 F
(28719 Oct 31 17:06 config.guess)18 E 6(-rw-rw-r-- 1)114 446.4 R 6
(rse users)6 F(24274 Aug 18 13:31 config.sub)18 E 6(-rwxrwxr-x 1)114
458.4 R 6(rse users 155141)6 F 6(Nov 3)6 F(12:36 configure)6 E 6
(-rw-rw-r-- 1)114 470.4 R 6(rse users 162021)6 F 6(Nov 3)6 F
(12:36 pth.c)6 E 6(-rw-rw-r-- 1)114 482.4 R 6(rse users)6 F(18687 Nov)18
E 6(21)12 G(5:19 pth.h.in)-6 E 6(-rw-rw-r-- 1)114 494.4 R 6(rse users)6
F(5251 Oct 31 12:46 pth_acdef.h.in)24 E 6(-rw-rw-r-- 1)114 506.4 R 6
(rse users)6 F(2120 Nov)24 E 6(11)12 G(1:27 pth_acmac.h.in)-6 E 6
(-rw-rw-r-- 1)114 518.4 R 6(rse users)6 F(2323 Nov)24 E 6(11)12 G
(1:27 pth_p.h.in)-6 E 6(-rw-rw-r-- 1)114 530.4 R 6(rse users)6 F
(946 Nov)30 E 6(11)12 G(1:27 pth_vers.c)-6 E 6(-rw-rw-r-- 1)114 542.4 R
6(rse users)6 F(26848 Nov)18 E 6(11)12 G(1:27 pthread.c)-6 E 6
(-rw-rw-r-- 1)114 554.4 R 6(rse users)6 F(18772 Nov)18 E 6(11)12 G
(1:27 pthread.h.in)-6 E 6(-rwxrwxr-x 1)114 566.4 R 6(rse users)6 F
(26188 Nov)18 E 6(31)12 G(2:36 shtool)-6 E F0(No)108 590.4 Q 2.5(ww)-.25
G(hen we con\214gure and b)-2.5 E(uild the)-.2 E F1(foo)2.5 E F0
(package it looks similar to this:)2.5 E 163.315(2002-10-15 perl)72 768
R 199.975(v5.6.1 25)2.5 F EP
%%Page: 26 26
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Courier@0 SF 6($.)114 84 S(/configure)-6 E
(creating cache ./config.cache)114 96 Q(checking for gcc... gcc)114 108
Q(checking whether the C compiler \(gcc)114 120 Q 6(\)w)18 G
(orks... yes)-6 E(checking whether the C compiler \(gcc)114 132 Q 6(\)i)
18 G 6(sac)-6 G(ross-compiler... no)-6 E
(checking whether we are using GNU C... yes)114 144 Q
(checking whether gcc accepts -g... yes)114 156 Q
(checking how to run the C preprocessor... gcc -E)114 168 Q
(checking for GNU Pth... version 1.3.0, local under pth)114 180 Q
(updating cache ./config.cache)114 192 Q(creating ./config.status)114
204 Q(creating Makefile)114 216 Q(configuring in pth)114 228 Q
(running /bin/sh ./configure)114 240 Q(--enable-subdir --enable-batch)12
E(--disable-tests --cache-file=.././config.cache --srcdir=.)114 252 Q
(loading cache .././config.cache)114 264 Q
(checking for gcc... \(cached\) gcc)114 276 Q
(checking whether the C compiler \(gcc)114 288 Q 6(\)w)18 G(orks... yes)
-6 E(checking whether the C compiler \(gcc)114 300 Q 6(\)i)18 G 6(sac)-6
G(ross-compiler... no)-6 E([...])114 312 Q 6($m)114 324 S(ake)-6 E
(===> pth \(all\))114 336 Q
(./shtool scpp -o pth_p.h -t pth_p.h.in -Dcpp -Cintern -M '==#==' pth.c)
114 348 Q(pth_vers.c)114 360 Q(gcc -c -I. -O2 -pipe pth.c)114 372 Q
(gcc -c -I. -O2 -pipe pth_vers.c)114 384 Q
(ar rc libpth.a pth.o pth_vers.o)114 396 Q(ranlib libpth.a)114 408 Q
(<=== pth)114 420 Q(gcc -g -O2 -Ipth -c foo.c)114 432 Q
(gcc -Lpth -o foo foo.o -lpth)114 444 Q F0 .221(As you can see,)108 468
R/F2 10/Times-Bold@0 SF -4.998(aa)2.721 G -5.558(uu)4.998 G -3.328(tt)
5.558 G -4.998(oo)3.328 G -4.438(cc)4.998 G -4.998(oo)4.438 G -5.558(nn)
4.998 G -3.328(ff)5.558 G F0(no)6.049 E 2.721(wa)-.25 G .22
(utomatically con\214gures the local \(stripped do)-2.721 F .22
(wn\) cop)-.25 F 2.72(yo)-.1 G(f)-2.72 E F2 -6.108(PP)2.72 G -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 .22(in the subdi-)8.278 F(rectory)108 480 Q
F1(pth/)2.5 E F0(and the)2.5 E F1(Makefile)2.5 E F0(automatically b)2.5
E(uilds the subdirectory)-.2 E 2.5(,t)-.65 G(oo.)-2.5 E/F3 10.95
/Times-Bold@0 SF -6.086(SS)72 496.8 S -7.904(YY)6.086 G -6.086(SS)7.904
G -7.302(TT)6.086 G -7.302(EE)7.302 G 20.67 -10.335(MM C)7.302 H(CA)
2.431 E(AL)-7.904 E(LL)-7.302 E 2.738(LW)-7.302 G(WR)-13.686 E(RA)-7.904
E(AP)-7.904 E(PP)-6.688 E(PE)-6.688 E(ER)-7.302 E 2.738(RF)-7.904 G
-.986(FA)-9.426 G -.602(AC)-6.918 G(CI)-7.302 E(IL)-4.258 E(LI)-7.302 E
(IT)-4.258 E(TY)-7.302 E(Y)-7.904 E F2 -6.108(PP)108 508.8 S -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 2.004(per def)10.062 F 2.004
(ault uses an e)-.1 F(xplicit)-.15 E/F4 9/Times-Roman@0 SF(API)4.504 E
F0 4.504(,i)C 2.004(ncluding the system calls. F)-4.504 F 2.004
(or instance you')-.15 F 2.304 -.15(ve t)-.5 H 4.504(oe).15 G 2.005
(xplicitly use)-4.654 F/F5 10/Times-Italic@0 SF(pth_r)108 520.8 Q(ead)
-.37 E F0 .295(\(3\) when you need a thread-a)1.666 F -.1(wa)-.15 G(re)
.1 E F5 -.37(re)2.795 G(ad).37 E F0 .295(\(3\) and cannot e)1.666 F .295
(xpect that by just calling)-.15 F F5 -.37(re)2.795 G(ad).37 E F0 .295
(\(3\) only the)1.666 F 1.207(current thread is block)108 532.8 R 1.207
(ed. Instead with the standard)-.1 F F5 -.37(re)3.707 G(ad).37 E F0
1.207(\(3\) call the whole process will be block)1.666 F 1.208(ed. But)
-.1 F .153(because for some applications \(mainly those consisting of l\
ots of third-party stuf)108 544.8 R .153(f\) this can be incon)-.25 F
-.15(ve)-.4 G(nient.).15 E 1.548(Here it')108 556.8 R 4.048(sr)-.55 G
1.548(equired that a call to)-4.048 F F5 -.37(re)4.048 G(ad).37 E F0
1.548(\(3\) `magically' means)1.666 F F5(pth_r)4.048 E(ead)-.37 E F0
1.548(\(3\). The problem here is that such)1.666 F(magic)108 568.8 Q F2
-6.108(PP)2.617 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .116
(cannot pro)8.175 F .116(vide per def)-.15 F .116(ault because it')-.1 F
2.616(sn)-.55 G .116(ot really portable.)-2.616 F(Ne)5.116 E -.15(ve)
-.25 G(rtheless).15 E F2 -6.108(PP)2.616 G -3.328(tt)6.108 G -5.558(hh)
3.328 G F0(pro)8.174 E .116(vides a tw)-.15 F 2.616(os)-.1 G(tep)-2.616
E(approach to solv)108 580.8 Q 2.5(et)-.15 G(his problem:)-2.5 E F2
-5.558(SS)108 603.6 S -4.998(oo)5.558 G -3.328(ff)4.998 G 6.656 -3.328
(tt S)3.328 H(Sy)-2.23 E(ys)-4.998 E(st)-3.888 E(te)-3.328 E(em)-4.438 E
2.5(mC)-8.328 G(Ca)-9.718 E(al)-4.998 E(ll)-2.778 E 2.5(lM)-2.778 G(Ma)
-11.938 E(ap)-4.998 E(pp)-5.558 E(pi)-5.558 E(in)-2.778 E(ng)-5.558 E(g)
-4.998 E F0 5.065(This v)108 620.4 R 5.065(ariant is a)-.25 F -.25(va)
-.2 G 5.065(ilable on all platforms and can).25 F F5(always)7.566 E F0
5.066(be enabled by b)7.566 F(uilding)-.2 E F2 -6.108(PP)7.566 G -3.328
(tt)6.108 G -5.558(hh)3.328 G F0(with)13.124 E F1
(\255\255enable\255syscall\255soft)108 632.4 Q F0 3.184(.T)C .684
(his then triggers some)-3.184 F F1(#define)3.183 E F0 1.783 -.55('s i)D
3.183(nt).55 G(he)-3.183 E F1(pth.h)3.183 E F0 .683
(header which map for)3.183 F(instance)108 644.4 Q F5 -.37(re)2.928 G
(ad).37 E F0 .428(\(3\) to)1.666 F F5(pth_r)2.928 E(ead)-.37 E F0 .428
(\(3\), etc. Currently the follo)1.666 F .428
(wing functions are mapped:)-.25 F F5(fork)2.928 E F0(\(2\),)1.666 E F5
(sleep)2.929 E F0(\(3\),)1.666 E F5(sig-)2.929 E(wait)108 656.4 Q F0
(\(3\),)1.666 E F5(waitpid)5.439 E F0(\(2\),)1.666 E F5(system)5.439 E
F0(\(3\),)1.666 E F5(select)5.439 E F0(\(2\),)1.666 E F5(poll)5.439 E F0
(\(2\),)1.666 E F5(connect)5.439 E F0(\(2\),)1.666 E F5(accept)5.439 E
F0(\(2\),)1.666 E F5 -.37(re)5.439 G(ad).37 E F0(\(2\),)1.666 E F5
(write)5.439 E F0(\(2\),)1.666 E F5 -.37(re)5.438 G(cv).37 E F0(\(2\),)
1.666 E F5(send)108 668.4 Q F0(\(2\),)1.666 E F5 -.37(re)2.5 G(cvfr).37
E(om)-.45 E F0(\(2\),)1.666 E F5(sendto)2.5 E F0(\(2\).)1.666 E(The dra)
108 685.2 Q(wback of this approach is just that really all source \214l\
es of the application where these function calls)-.15 E .325(occur ha)
108 697.2 R .625 -.15(ve t)-.2 H 2.825(oi).15 G(nclude)-2.825 E F1
(pth.h)2.825 E F0 2.825(,o)C 2.825(fc)-2.825 G .325
(ourse. And this also means that e)-2.825 F .325
(xisting libraries, including the v)-.15 F(endor')-.15 E(s)-.55 E F2
-3.888(ss)108 709.2 S -3.328(tt)3.888 G -5.558(dd)3.328 G -2.778(ii)
5.558 G -4.998(oo)2.778 G F0 2.5(,u)4.998 G(sually will still block the\
 whole process if one of its I/O functions block.)-2.5 E 163.315
(2002-10-15 perl)72 768 R 199.975(v5.6.1 26)2.5 F EP
%%Page: 27 27
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Times-Bold@0 SF -7.778(HH)108 84 S -4.998(aa)7.778 G -4.438
(rr)4.998 G 11.116 -5.558(dd SS)4.438 H -4.998(yy)5.558 G -3.888(ss)
4.998 G -3.328(tt)3.888 G -4.438(ee)3.328 G 16.656 -8.328(mm C)4.438 H
(Ca)1.11 E(al)-4.998 E(ll)-2.778 E 2.5(lM)-2.778 G(Ma)-11.938 E(ap)
-4.998 E(pp)-5.558 E(pi)-5.558 E(in)-2.778 E(ng)-5.558 E(g)-4.998 E F0
1.07(This v)108 100.8 R 1.07(ariant is a)-.25 F -.25(va)-.2 G 1.07
(ilable only on those platforms where the).25 F/F2 10/Times-Italic@0 SF
(syscall)3.57 E F0 1.07(\(2\) function e)1.666 F 1.071
(xists and there it can be)-.15 F 2.251(enabled by b)108 112.8 R
(uilding)-.2 E F1 -6.108(PP)4.751 G -3.328(tt)6.108 G -5.558(hh)3.328 G
F0(with)10.309 E/F3 10/Courier@0 SF(\255\255enable\255syscall\255hard)
4.75 E F0 4.75(.T)C 2.25(his then b)-4.75 F 2.25
(uilds wrapper functions \(for)-.2 F(instances)108 124.8 Q F2 -.37(re)
6.597 G(ad).37 E F0 4.097(\(3\)\) into the)1.666 F F1 -6.108(PP)6.597 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 4.097
(library which internally call the real)12.155 F F1 -6.108(PP)6.597 G
-3.328(tt)6.108 G -5.558(hh)3.328 G F0 4.098(replacement functions)
12.155 F(\()108 136.8 Q F2(pth_r)A(ead)-.37 E F0 1.908
(\(3\)\). Currently the follo)1.666 F 1.908(wing functions are mapped:)
-.25 F F2(fork)4.408 E F0(\(2\),)1.666 E F2(sleep)4.408 E F0(\(3\),)
1.666 E F2(waitpid)4.408 E F0(\(2\),)1.666 E F2(system)4.408 E F0
(\(3\),)1.666 E F2(select)108 148.8 Q F0(\(2\),)1.666 E F2(poll)2.5 E F0
(\(2\),)1.666 E F2(connect)2.5 E F0(\(2\),)1.666 E F2(accept)2.5 E F0
(\(2\),)1.666 E F2 -.37(re)2.5 G(ad).37 E F0(\(2\),)1.666 E F2(write)2.5
E F0(\(2\).)1.666 E .632(The dra)108 165.6 R .633
(wback of this approach is that it depends on)-.15 F F2(syscall)3.133 E
F0 .633(\(2\) interf)1.666 F .633
(ace and prototype con\215icts can occur)-.1 F .444(while b)108 177.6 R
.444(uilding the wrapper functions due to dif)-.2 F .444
(ferent function signatures in the v)-.25 F .443
(endor C header \214les.)-.15 F(But)5.443 E .788(the adv)108 189.6 R
.788(antage of this mapping v)-.25 F .788(ariant is that the source \
\214les of the application where these function calls)-.25 F 2.374
(occur ha)108 201.6 R 2.674 -.15(ve n)-.2 H 2.374(ot to include).15 F F3
(pth.h)4.874 E F0 2.374(and that e)4.874 F 2.373
(xisting libraries, including the v)-.15 F(endor')-.15 E(s)-.55 E F1
-3.888(ss)4.873 G -3.328(tt)3.888 G -5.558(dd)3.328 G -2.778(ii)5.558 G
-4.998(oo)2.778 G F0 4.873(,m)4.998 G(agically)-4.873 E(become thread-a)
108 213.6 Q -.1(wa)-.15 G
(re \(and then block only the current thread\).).1 E/F4 10.95
/Times-Bold@0 SF -4.258(II)72 230.4 S -10.335(MM)4.258 G -6.688(PP)
10.335 G -7.302(LL)6.688 G -7.302(EE)7.302 G -10.335(MM)7.302 G -7.302
(EE)10.335 G -7.904(NN)7.302 G 10.88 -7.302(TT A)7.904 H -1.04(AT)-.602
G(TI)-6.262 E(IO)-4.258 E(ON)-8.517 E 2.738(NN)-7.904 G(NO)-10.642 E
-.438(OT)-8.517 G(TE)-6.864 E(ES)-7.302 E(S)-6.086 E F1 -6.108(PP)108
242.4 S -3.328(tt)6.108 G -5.558(hh)3.328 G F0 1.285(is v)9.342 F 1.285
(ery portable because it has only one part which perhaps has to be port\
ed to ne)-.15 F 3.785(wp)-.25 G 1.285(latforms \(the)-3.785 F .434
(machine conte)108 254.4 R .434
(xt initialization\). But it is written in a w)-.15 F .433(ay which w)
-.1 F .433(orks on mostly all Unix platforms which)-.1 F(support)108
266.4 Q F2(mak)2.939 E(econte)-.1 E(xt)-.2 E F0 .439(\(2\) or at least)
1.666 F F2(sigstac)2.939 E(k)-.2 E F0 .439(\(2\) or)1.666 F F2
(sigaltstac)2.939 E(k)-.2 E F0 .439(\(2\) [see)1.666 F F3(pth_mctx.c)
2.94 E F0 .44(for details]. An)2.94 F 2.94(yo)-.15 G(ther)-2.94 E F1
-6.108(PP)108 278.4 S -3.328(tt)6.108 G -5.558(hh)3.328 G F0(code is)
8.058 E/F5 9/Times-Roman@0 SF(POSIX)2.5 E F0(and)2.5 E F5(ANSI)2.5 E F0
2.5(Cb)2.5 G(ased only)-2.5 E(.)-.65 E 3.144(The conte)108 295.2 R 3.144
(xt switching is done via either SUSv2)-.15 F F2(mak)5.644 E(econte)-.1
E(xt)-.2 E F0 3.144(\(2\) or)1.666 F F5(POSIX)5.644 E F0(mak)5.644 E
(e[sig])-.1 E F2(setjmp)A F0 3.143(\(3\) and)1.666 F([sig])108 307.2 Q
F2(longjmp)A F0 .437(\(3\). Here all)1.666 F F5(CPU)2.937 E F0(re)2.937
E .437(gisters, the program counter and the stack pointer are switched.\
 Addition-)-.15 F .654(ally the)108 319.2 R F1 -6.108(PP)3.154 G -3.328
(tt)6.108 G -5.558(hh)3.328 G F0 .654
(dispatcher switches also the global Unix)8.712 F F3(errno)3.154 E F0
-.25(va)3.153 G .653(riable [see).25 F F3(pth_mctx.c)3.153 E F0 .653
(for details] and)3.153 F .072(the signal mask \(either implicitly via)
108 331.2 R F2(sigsetjmp)2.572 E F0 .073(\(3\) or in an emulated w)1.666
F .073(ay via e)-.1 F(xplicit)-.15 E F2(setpr)2.573 E(ocmask)-.45 E F0
.073(\(2\) calls\).)1.666 F(The)108 348 Q F1 -6.108(PP)3.079 G -3.328
(tt)6.108 G -5.558(hh)3.328 G F0 -2.15 -.25(ev e)8.637 H .579
(nt manager is mainly).25 F F2(select)3.078 E F0 .578(\(2\) and)1.666 F
F2 -.1(ge)3.078 G(ttimeofday).1 E F0 .578
(\(2\) based, i.e., the current time is fetched via)1.666 F F2 -.1(ge)
108 360 S(ttimeofday).1 E F0 .24(\(2\) once per conte)1.666 F .24
(xt switch for time calculations and all I/O e)-.15 F -.15(ve)-.25 G
.241(nts are implemented via a sin-).15 F(gle central)108 372 Q F2
(select)2.5 E F0(\(2\) call [see)1.666 E F3(pth_sched.c)2.5 E F0
(for details].)2.5 E .388(The thread control block management is done v\
ia virtual priority queues without an)108 388.8 R 2.888(ya)-.15 G .388
(dditional data struc-)-2.888 F .276(ture o)108 400.8 R -.15(ve)-.15 G
.276(rhead. F).15 F .276(or this, the queue linkage attrib)-.15 F .276
(utes are part of the thread control blocks and the queues are)-.2 F
3.75(actually implemented as rings with a selected element as the entry\
 point [see)108 412.8 R F3(pth_tcb.h)6.25 E F0(and)6.25 E F3
(pth_pqueue.c)108 424.8 Q F0(for details].)2.5 E 1.332
(Most time critical code sections \(especially the dispatcher and e)108
441.6 R -.15(ve)-.25 G 1.333(nt manager\) are speeded up by inline).15 F
.697(functions \(implemented as)108 453.6 R F5(ANSI)3.197 E F0 3.197(Cp)
3.197 G .697(re-processor macros\). Additionally an)-3.197 F 3.197(yd)
-.15 G(eb)-3.197 E .697(ugging code is)-.2 F F2(completely)3.196 E F0
(remo)108 465.6 Q -.15(ve)-.15 G 2.827(df).15 G .327
(rom the source when not b)-2.827 F .328(uilt with)-.2 F F3
(\255DPTH_DEBUG)2.828 E F0 .328(\(see Autoconf)2.828 F F3
(\255\255enable\255debug)2.828 E F0(option\),)2.828 E
(i.e., not only stub functions remain [see)108 477.6 Q F3(pth_debug.c)
2.5 E F0(for details].)2.5 E F4 -7.904(RR)72 494.4 S -7.302(EE)7.904 G
-6.086(SS)7.302 G -7.302(TT)6.086 G -7.904(RR)7.302 G -4.258(II)7.904 G
-7.904(CC)4.258 G -7.302(TT)7.904 G -4.258(II)7.302 G -8.517(OO)4.258 G
-7.904(NN)8.517 G -6.086(SS)7.904 G F1 -6.108(PP)108 506.4 S -3.328(tt)
6.108 G -5.558(hh)3.328 G F0 1.722(\(intentionally\) pro)9.78 F 1.722
(vides no replacements for non-thread-safe functions \(lik)-.15 F(e)-.1
E F2(strtok)4.221 E F0 1.721(\(3\) which uses a)1.666 F 1.18
(static internal b)108 518.4 R(uf)-.2 E 1.18
(fer\) or synchronous system functions \(lik)-.25 F(e)-.1 E F2 -.1(ge)
3.68 G(thostbyname).1 E F0 1.181(\(3\) which doesn')1.666 F 3.681(tp)
-.18 G(ro)-3.681 E 1.181(vide an)-.15 F .452
(asynchronous mode where it doesn')108 530.4 R 2.952(tb)-.18 G .452
(lock\). When you w)-2.952 F .452
(ant to use those functions in your serv)-.1 F .451(er applica-)-.15 F
.814(tion together with threads, you')108 542.4 R 1.114 -.15(ve t)-.5 H
3.314(oe).15 G .814(ither link the application ag)-3.314 F .814
(ainst special third-party libraries \(or for)-.05 F .591
(thread-safe/reentrant functions possibly ag)108 554.4 R .591
(ainst an e)-.05 F(xisting)-.15 E F3(libc_r)3.091 E F0 .591
(of the platform v)3.091 F .59(endor\). F)-.15 F .59(or an asyn-)-.15 F
(chronous)108 566.4 Q F5(DNS)2.975 E F0(resolv)2.975 E .475
(er library use the)-.15 F F5(GNU)2.975 E F1 -4.998(aa)2.976 G -5.558
(dd)4.998 G -5.558(nn)5.558 G -3.888(ss)5.558 G F0 .476
(package from Ian Jackson \( see http://www)6.864 F(.gnu.or)-.65 E
(g/soft-)-.18 E -.1(wa)108 578.4 S(re/adns/adns.html \).).1 E F4 -8.517
(HH)72 595.2 S -4.258(II)8.517 G -6.086(SS)4.258 G 11.669 -7.302(TT O)
6.086 H(OR)-1.215 E -.383(RY)-7.904 G(Y)-7.521 E F0(The)108 607.2 Q F1
-6.108(PP)3.697 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 1.197
(library w)9.255 F 1.197
(as designed and implemented between February and July 1999 by)-.1 F F2
1.197(Ralf S. Eng)3.697 F(elsc)-.1 E(hall)-.15 E F0 1.18(after e)108
619.2 R -.25(va)-.25 G 1.181(luating numerous \(mostly preempti).25 F
-.15(ve)-.25 G 3.681(\)t).15 G 1.181(hread libraries and after intensi)
-3.681 F 1.481 -.15(ve d)-.25 H 1.181(iscussions with).15 F F2 -.8(Pe)
3.681 G(ter).8 E(Simons)108 631.2 Q F0(,)A F2 .61(Martin Kr)3.11 F
(aemer)-.15 E F0(,)A F2(Lar)3.11 E 3.11(sE)-.1 G(ilebr)-3.11 E(ec)-.37 E
(ht)-.15 E F0(and)3.109 E F2 .609(Ralph Babel)3.109 F F0 .609
(related to an e)3.109 F .609(xperimental \(matrix based\) non-)-.15 F
(preempti)108 643.2 Q .3 -.15(ve C)-.25 H/F6 8/Times-Roman@0 SF -1(++)
-.85 -1.2 O F0(scheduler class written by)2.5 1.2 M F2 -.8(Pe)2.5 G
(ter Simons).8 E F0(.)A F1 -6.108(PP)108 660 S -3.328(tt)6.108 G -5.558
(hh)3.328 G F0 -.1(wa)8.279 G 2.721(st).1 G .221
(hen implemented in order to combine the)-2.721 F F2(non-pr)2.721 E
(eemptive)-.37 E F0 .221(approach of multithreading \(which pro-)2.721 F
.345(vides better portability and performance\) with an)108 672 R F5
(API)2.844 E F0 .344(similar to the popular one found in)2.844 F F1
-6.108(PP)2.844 G -3.328(tt)6.108 G -5.558(hh)3.328 G 6.196 -4.438
(rr ee)5.558 H -4.998(aa)4.438 G -5.558(dd)4.998 G F0(libraries)8.402 E
(\(which pro)108 684 Q(vides easy programming\).)-.15 E .254
(So the essential idea of the non-preempti)108 700.8 R .554 -.15(ve a)
-.25 H .254(pproach w).15 F .254(as tak)-.1 F .254(en o)-.1 F -.15(ve)
-.15 G 2.755(rf).15 G(rom)-2.755 E F2 -.8(Pe)2.755 G .255(ter Simons).8
F F0(scheduler)2.755 E 2.755(.T)-.55 G .255(he pri-)-2.755 F .105
(ority based scheduling algorithm w)108 712.8 R .104(as suggested by)-.1
F F2 .104(Martin Kr)2.604 F(aemer)-.15 E F0 2.604(.S)C .104
(ome code inspiration also came from)-2.604 F .28(an e)108 724.8 R .28
(xperimental threading library \()-.15 F F1 -4.438(rr)C -3.888(ss)4.438
G -3.328(tt)3.888 G -5.558(hh)3.328 G 6.196 -4.438(rr ee)5.558 H -4.998
(aa)4.438 G -5.558(dd)4.998 G -3.888(ss)5.558 G F0 2.78(\)w)3.888 G .28
(ritten by)-2.78 F F2 .28(Robert S. Thau)2.78 F F0 .28
(for an ancient internal test v)2.78 F(ersion)-.15 E 163.315
(2002-10-15 perl)72 768 R 199.975(v5.6.1 27)2.5 F EP
%%Page: 28 28
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E .232(of the Apache webserv)108 84 R(er)-.15 E 5.232(.T)-.55 G .232
(he concept and)-5.232 F/F1 9/Times-Roman@0 SF(API)2.732 E F0 .231
(of message ports w)2.731 F .231(as borro)-.1 F .231(wed from Amig)-.25
F(aOS')-.05 E/F2 10/Times-Bold@0 SF -6.668(EE)2.731 G -4.998(xx)6.668 G
-4.438(ee)4.998 G -4.438(cc)4.438 G F0(sub-)7.169 E .188
(system. The concept and idea for the \215e)108 96 R .188(xible e)-.15 F
-.15(ve)-.25 G .188(nt mechanism came from).15 F/F3 10/Times-Italic@0 SF
-.8(Pa)2.689 G .189(ul V).8 F(ixie)-.74 E F0 -.55('s)C F2 6.226 -4.438
(ee v)3.239 H -.1(ve)-.56 G(en)-4.338 E(nt)-5.558 E(tl)-3.328 E(li)
-2.778 E(ib)-2.778 E(b)-5.558 E F0 .189(\(which can)2.689 F
(be found as a part of)108 108 Q/F4 9/Times-Bold@0 SF -6.001(BB)2.5 G
-3.499(II)6.001 G -6.496(NN)3.499 G -6.496(DD)6.496 G F0(v8\).)8.996 E
/F5 10.95/Times-Bold@0 SF 11.756 -7.302(BB U)72 124.8 T(UG)-.602 E 2.738
(GR)-8.517 G(RE)-10.642 E(EP)-7.302 E(PO)-6.688 E(OR)-8.517 E -.438(RT)
-7.904 G(TS)-6.864 E 2.738(SA)-6.086 G(AN)-10.642 E(ND)-7.904 E 2.738
(DS)-7.904 G(SU)-8.824 E(UP)-7.904 E(PP)-6.688 E(PO)-6.688 E(OR)-8.517 E
-.438(RT)-7.904 G(T)-6.864 E F0 1.904(If you think you ha)108 136.8 R
2.203 -.15(ve f)-.2 H 1.903(ound a b).15 F 1.903(ug in)-.2 F F2 -6.108
(PP)4.403 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 4.403(,y)5.558 G
1.903(ou should send a report as complete as possible to)-4.403 F F3 -.2
(bu)4.403 G(g-).2 E(pth@gnu.or)108 148.8 Q(g)-.37 E F0 3.561(.I)C 3.561
(fy)-3.561 G 1.062(ou can, please try to \214x the problem and include \
a patch, made with ')-3.561 F/F6 10/Courier@0 SF 1.062(diff \255u3)B F0
1.062(', in)B .41(your report. Al)108 160.8 R -.1(wa)-.1 G .41(ys, at l\
east, include a reasonable amount of description in your report to allo)
.1 F 2.91(wt)-.25 G .41(he author)-2.91 F
(to deterministically reproduce the b)108 172.8 Q(ug.)-.2 E -.15(Fo)108
189.6 S 3.995(rf).15 G 1.496
(urther support you additionally can subscribe to the)-3.995 F F3
(pth-user)3.996 E(s@gnu.or)-.1 E(g)-.37 E F0 1.496
(mailing list by sending an)3.996 F 1.02(Email to)108 201.6 R F3
(pth-user)3.52 E(s-r)-.1 E(equest@gnu.or)-.37 E(g)-.37 E F0 1.02(with `)
3.52 F F6 1.02(subscribe pth\255users)B F0 3.52('\()C 1.02(or `)-3.52 F
F6 1.02(subscribe pth\255users)B F3(addr)108 213.6 Q(ess)-.37 E F0 2.959
('i)C 2.959(fy)-2.959 G .459(ou w)-2.959 F .459
(ant to subscribe from a particular Email)-.1 F F3(addr)2.959 E(ess)-.37
E F0 2.96(\)i)C 2.96(nt)-2.96 G .46(he body)-2.96 F 2.96(.T)-.65 G .46
(hen you can discuss your)-2.96 F .313(issues with other)108 225.6 R F2
-6.108(PP)2.813 G -3.328(tt)6.108 G -5.558(hh)3.328 G F0 .312
(users by sending messages to)8.371 F F3(pth-user)2.812 E(s@gnu.or)-.1 E
(g)-.37 E F0 2.812(.C)C .312(urrently \(as of August 2000\) you)-2.812 F
3.018(can reach about 110 Pth users on this mailing list. Old postings \
you can \214nd at)108 237.6 R F3(http://www)5.519 E(.mail-)-.74 E(ar)108
249.6 Q -.15(ch)-.37 G(ive).15 E(.com/pth-user)-.15 E(s@gnu.or)-.1 E(g/)
-.37 E F0(.)A F5 -6.086(SS)72 266.4 S -7.302(EE)6.086 G 14.604 -7.302
(EE A)7.302 H(AL)-.602 E(LS)-7.302 E(SO)-6.086 E(O)-8.517 E F2 -7.218
(RR)108 278.4 S -4.438(ee)7.218 G -2.778(ll)4.438 G -4.998(aa)2.778 G
-3.328(tt)4.998 G -4.438(ee)3.328 G 11.116 -5.558(dd W)4.438 H -.65(We)
-4.44 G(eb)-3.788 E 2.5(bL)-5.558 G(Lo)-9.168 E(oc)-4.998 E(ca)-4.438 E
(at)-4.998 E(ti)-3.328 E(io)-2.778 E(on)-4.998 E(ns)-5.558 E(s)-3.888 E
F0 29.544(`comp.programming.threads Ne)108 295.2 R 29.543(wsgroup Archi)
-.25 F -.15(ve)-.25 G 29.543(', http://www).15 F
(.deja.com/topics_if.xp?)-.65 E
(search=topic&group=comp.programming.threads)108 307.2 Q 5.27
(`comp.programming.threads Frequently Ask)108 324 R 5.27
(ed Questions \(F)-.1 F 5.27(.A.Q.\)', http://www)-.8 F
(.lambdacs.com/ne)-.65 E(ws-)-.25 E(group/F)108 336 Q -.55(AQ)-.74 G
(.html).55 E(`)108 352.8 Q F3(Multithr)A 5.978
(eading \255 De\214nitions and Guidelines)-.37 F F0 5.978
(', Numeric Quest Inc 1998; http://www)B(.numeric-)-.65 E
(quest.com/lang/multi-frame.html)108 364.8 Q(`)108 381.6 Q F3 3.991
(The Single)B/F7 9/Times-Italic@0 SF(UNIX)6.492 E F3 3.992
(Speci\214cation, V)6.492 F(er)-1.11 E 3.992(sion 2 \255 Thr)-.1 F(eads)
-.37 E F0 3.992(', The Open Group 1997; http://www)B(.open-)-.65 E
(group.or)108 393.6 Q(g/onlinepubs /007908799/xsh/threads.html)-.18 E F1
(SMI)108 410.4 Q F0(Thread Resources, Sun Microsystems Inc; http://www)
2.5 E(.sun.com/w)-.65 E(orkshop/threads/)-.1 E(Bibliograph)108 427.2 Q
6.615(yo)-.05 G 6.615(nt)-6.615 G 4.114(hreads and multithreading, T)
-6.615 F 4.114(orsten Amundsen; http://liinwww)-.8 F
(.ira.uka.de/bibliogra-)-.65 E(ph)108 439.2 Q(y/Os/threads.html)-.05 E
F2 -7.218(RR)108 462 S -4.438(ee)7.218 G -2.778(ll)4.438 G -4.998(aa)
2.778 G -3.328(tt)4.998 G -4.438(ee)3.328 G 11.116 -5.558(dd B)4.438 H
(Bo)-1.11 E(oo)-4.998 E(ok)-4.998 E(ks)-5.558 E(s)-3.888 E F0 1.066
(B. Nichols, D. Buttlar)108 478.8 R 3.566(,J)-.4 G(.P)-3.566 E 3.566(.F)
-1.11 G 1.066(arrel: `)-3.716 F F3(Pthr)A 1.066(eads Pr)-.37 F -.1(og)
-.45 G -.15(ra).1 G 1.066(mming \255 A).15 F F7(POSIX)3.566 E F3
(Standar)3.566 E 3.567(df)-.37 G 1.067(or Better Multipr)-3.567 F
(ocess-)-.45 E(ing)108 490.8 Q F0(', O'Reilly 1996;)A F1(ISBN)2.5 E F0
(1\25556592\255115\2551)2.5 E .449(B. Le)108 507.6 R .449
(wis, D. J. Ber)-.25 F .449(g: `)-.18 F F3(Multithr)A .449(eaded Pr)-.37
F -.1(og)-.45 G -.15(ra).1 G .448(mming with Pthr).15 F(eads)-.37 E F0
.448(', Sun Microsystems Press, Prentice Hall)B(1998;)108 519.6 Q F1
(ISBN)2.5 E F0(0\25513\255680729\2551)2.5 E 1.241(B. Le)108 536.4 R
1.241(wis, D. J. Ber)-.25 F 1.241(g: `)-.18 F F3(Thr)A 1.241
(eads Primer \255 A Guide T)-.37 F 3.742(oM)-.92 G(ultithr)-3.742 E
1.242(eaded Pr)-.37 F -.1(og)-.45 G -.15(ra).1 G(mming).15 E F0 1.242
(', Prentice Hall 1996;)B F1(ISBN)108 548.4 Q F0(0\25513\255443698\2559)
2.5 E 1.234(S. J. Norton, M. D. Dipasquale: `)108 565.2 R F3(Thr)A 1.234
(ead T)-.37 F 1.233(ime \255 The Multithr)-.55 F 1.233(eaded Pr)-.37 F
-.1(og)-.45 G -.15(ra).1 G 1.233(mming Guide).15 F F0 1.233
(', Prentice Hall)B(1997;)108 577.2 Q F1(ISBN)2.5 E F0
(0\25513\255190067\2556)2.5 E(D. R. Butenhof: `)108 594 Q F3(Pr)A -.1
(og)-.45 G -.15(ra).1 G(mming with).15 E F7(POSIX)2.5 E F3(Thr)2.5 E
(eads)-.37 E F0(', Addison W)A(esle)-.8 E 2.5(y1)-.15 G(997;)-2.5 E F1
(ISBN)2.5 E F0(0\255201\25563392\2552)2.5 E F2 -7.218(RR)108 616.8 S
-4.438(ee)7.218 G -2.778(ll)4.438 G -4.998(aa)2.778 G -3.328(tt)4.998 G
-4.438(ee)3.328 G 11.116 -5.558(dd M)4.438 H(Ma)-3.88 E(an)-4.998 E(np)
-5.558 E(pa)-5.558 E(ag)-4.998 E(ge)-4.998 E(es)-4.438 E(s)-3.888 E F3
(pth-con\214g)108 633.6 Q F0(\(1\),)1.666 E F3(pthr)2.5 E(ead)-.37 E F0
(\(3\).)1.666 E F3 -.1(ge)108 650.4 S(tconte).1 E(xt)-.2 E F0(\(2\),)
1.666 E F3(setconte)5.073 E(xt)-.2 E F0(\(2\),)1.666 E F3(mak)5.073 E
(econte)-.1 E(xt)-.2 E F0(\(2\),)1.666 E F3(swapconte)5.073 E(xt)-.2 E
F0(\(2\),)1.666 E F3(sigstac)5.073 E(k)-.2 E F0(\(2\),)1.666 E F3
(sigaltstac)5.073 E(k)-.2 E F0(\(2\),)1.666 E F3(sigaction)5.073 E F0
(\(2\),)1.666 E F3(sig)108 662.4 Q(emptyset)-.1 E F0(\(2\),)1.666 E F3
(sigaddset)5.758 E F0(\(2\),)1.666 E F3(sigpr)5.758 E(ocmask)-.45 E F0
(\(2\),)1.666 E F3(sigsuspend)5.758 E F0(\(2\),)1.666 E F3(sigsetjmp)
5.758 E F0(\(3\),)1.666 E F3(siglongjmp)5.758 E F0(\(3\),)1.666 E F3
(setjmp)5.758 E F0(\(3\),)1.666 E F3(longjmp)108 674.4 Q F0(\(3\),)1.666
E F3(select)2.5 E F0(\(2\),)1.666 E F3 -.1(ge)2.5 G(ttimeofday).1 E F0
(\(2\).)1.666 E F5 12.522 -7.904(AA UU)72 691.2 T -7.302(TT)7.904 G
-8.517(HH)7.302 G -8.517(OO)8.517 G -7.904(RR)8.517 G F0 163.315
(2002-10-15 perl)72 768 R 199.975(v5.6.1 28)2.5 F EP
%%Page: 29 29
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PTH-MANU)72 48 Q 78.275(AL\(1\) User)-.4 F
(Contrib)2.5 E(uted Perl Documentation)-.2 E(PTH-MANU)80.775 E(AL\(1\))
-.4 E/F1 10/Courier@0 SF(Ralf S. Engelschall)114 84 Q
(rse@engelschall.com)114 96 Q(www.engelschall.com)114 108 Q F0 163.315
(2002-10-15 perl)72 768 R 199.975(v5.6.1 29)2.5 F EP
%%Trailer
end
%%EOF
